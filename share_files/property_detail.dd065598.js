(function(){(function(global,factory){'use strict';if(typeof require!=='undefined'&&typeof module!=='undefined'&&typeof module.exports!=='undefined'){module.exports=factory(require('angular'),require('moment'));}else{var ensure=function(lib){if(!global[lib]){throw new Error('Missing "window.'+lib+'" dependency');}
return global[lib];};factory(ensure('angular'),ensure('moment'));}})(this,function factory(angular,moment){'use strict';return angular.module('ui-toolkit',[]).value('moment',moment);});}());(function(){var FORM_COMPAT=angular.version.major===1&&angular.version.minor<3;angular.module('ui-toolkit')
.directive('utkAccordion',function(){'use strict';var LANG={};return{transclude:true,scope:{selected:'@utkAccordion',lang:'=utkAccordionLang',onComplete:'&utkAccordionOncomplete'},controllerAs:'$accordion',controller:['$scope','$element','$transclude',function($scope,$element,$transclude){var order=[];var self=this; $element.addClass('accrd');this.add=function add(name,scope){if(this.hasOwnProperty(name)){throw new Error('"'+name+'" is already used or reserved name');}
this[name]=scope;order.push(name);};this.remove=function remove(name){var pos=order.indexOf(name);if(pos===-1){throw new Error('There is no item "'+name+'"');}
order.splice(pos,1);delete this[name];};this.select=function select(name){$scope.selected=name;};this.getSelected=function getSelected(){return this[$scope.selected]||null;};this.getFirst=function getFirst(){return order.length?this[order[0]]:null;};this.getLast=function getLast(){return order.length?this[order[order.length-1]]:null;};this.getPrevious=function getPrevious(name){var index=order.indexOf(name||$scope.selected);return index===0?null:this[order[index-1]];};this.getNext=function getNext(name){var index=order.indexOf(name||$scope.selected);return index===order.length-1?null:this[order[index+1]];};this.isSelected=function isSelected(name){return $scope.selected===name;};this.isValid=function isValid(name){if(arguments.length){return this[name].valid;}else{for(var i=0,l=order.length;i<l;i++){if(!this[order[i]].valid){return false;}}
return true;}};this.isLast=function isLast(){return $scope.current===order[order.length-1];};this.isFinal=function isFinal(){for(var i=0,l=order.length;i<l;i++){if(order[i]!==$scope.selected&&(!this[order[i]].valid||!this[order[i]].visited||!this[order[i]].submitted||this[order[i]].pending)){return false;}}
return true;};this.text=function text(key,overrides){return(overrides&&overrides[key])||($scope.lang&&$scope.lang[key])||LANG[key]||key;};this.next=function next(){if(!order.length){return;}
if(this.isFinal()){$scope.onComplete({$accordion:this});return;}
var nextItem=this.getNext();if(!nextItem){var item,start=order.indexOf($scope.selected)+1;for(var i=0,l=order.length;i<l;i++){item=this[order[(start+i)%l]];if(!item.valid||!item.visited||!item.submitted){nextItem=item;break;}}}
this.select(nextItem.name);};$transclude(function(content,scope){scope.$accordion=self;$element.html(content);});}]};})
.directive('utkAccordionItem',['$q',function($q){'use strict';return{transclude:true,require:['^utkAccordion','?form'],templateUrl:'templates/accordion-item.html',scope:{title:'@utkAccordionItemTitle',icon:'@utkAccordionItemIcon',lang:'=utkAccordionItemLang',validate:'&utkAccordionItemRequire'},controllerAs:'$accordionItem',controller:['$scope','$element',function($scope,$element){this.addSummry=function(content){$element.find('.utk-accrd-step-summary').html(content);};this.removeSummary=function(content){$element.find('.utk-accrd-step-summary').html('');};}],link:function(scope,el,attrs,ctrls){el.addClass('accrd-step');var $accordion=ctrls[0],$form=ctrls[1];scope.name=attrs.utkAccordionItem||attrs.name||attrs.ngForm;if(!scope.name){throw new Error('Missing item name');}
scope.visited=false;scope.valid=true;scope.pending=false;scope.submitted=false;scope.required=true;scope.$accordion=$accordion;if($form){scope.$form=$form;}
if(!attrs.$attr.hasOwnProperty('utkAccordionItemRequire')){scope.required=false;scope.validate=function(){return true;};}
function submit(options){var result,submission=$q.defer();if(scope.required){result=scope.validate(options);if(result&&result.then){scope.pending=true;if($form&&FORM_COMPAT){$form.$pending=true;}
result.then(function(passed){submission.resolve();},function(){submission.reject();})['finally'](function(){scope.pending=false;if($form&&FORM_COMPAT){$form.$pending=false;}});}else{if(result){submission.resolve();}else{submission.reject();}}}else{submission.resolve();}
submission.promise.then(function(){scope.valid=true;},function(){scope.valid=false;})['finally'](function(){scope.submitted=true;if($form){if(FORM_COMPAT){$form.$submitted=true;}else{$form.$setSubmitted();}}});return submission.promise;}
scope.skip=function skip(){return submit({skipping:true})
['finally'](function(){$accordion.next();});};scope.next=function next(){return submit().then(function(){angular.element('html,body').animate({scrollTop:el.offset().top},800);$accordion.next();});};scope.isSelected=function isSelected(){return $accordion.isSelected(scope.name);};scope.isFirst=function isFirst(){return $accordion.getFirst().name===scope.name;};scope.isLast=function isLast(){return $accordion.getLast().name===scope.name;};scope.text=function text(key){return $accordion.text(key,scope.lang);};scope.$watch('visited',function(visited){el.toggleClass('was-visited',visited&&!scope.isSelected());});scope.$watch(scope.isSelected,function(selected){scope.visited=scope.visited||selected;el.toggleClass('is-current',selected);el.toggleClass('was-visited',scope.visited&&!scope.isSelected());});scope.$on('$destroy',function(){$accordion.remove(scope.name);});$accordion.add(scope.name,scope);}};}])
.directive('utkAccordionSummary',function(){'use strict';return{require:'^utkAccordionItem',transclude:true,link:function(scope,el,attrs,$accordionItem,transclude){transclude(function(content,scope){$accordionItem.addSummry(content);});scope.$on('$destroy',function(){$accordionItem.removeSummary();});}};});}());(function(){angular.module('ui-toolkit').factory('utkAutosuggestFactory',['$q',function(q){'use strict';return function(ngModel){ var options={resultsFn:function(){return[];}, listenerFn:function(){}, onlyComplete:false, showCompletion:true, defaultSelectedNumber:-1, resetSelectionOnInput:true, defaultItem:{}, minChars:2, maxSuggestions:10, minSuggestions:2, maxCache:500, resetOnTab:false, resetOnClickAway:true, profile:'recommendOnly', placeholder:'', button:{}, css:''}; var profiles={recommendAndComplete:{onlyComplete:true,showCompletion:true,defaultSelectedNumber:0,resetSelectionOnInput:true},recommendOnly:{onlyComplete:false,showCompletion:true,defaultSelectedNumber:-1,resetSelectionOnInput:true}}; var selectedNumber; var selectedItem; var currentUserInput; var currentSuggestions; var isInputDirty=false;
 var showSuggestions=function(){return currentUserInput.length>=options.minChars&&currentSuggestions.length>=options.minSuggestions;}; var getClosestCache=function(label){label=label.toLowerCase();for(var i=label.length;i>0;i--){var result=resultCache.get(label.substring(0,i));if(result&&result!=='getting'){return result;}}
return[];}; var removeNonCompleting=function(label,results){label=label.toLowerCase();for(var i=results.length-1;i>=0;i--){if(results[i].label.toLowerCase().indexOf(label)!==0){results.splice(i,1);}}
return results;}; var updateSelection=function(results){ if(selectedNumber>=results.length||selectedNumber<=-2){selectedNumber=options.defaultSelectedNumber;} 
if(!isInputDirty){selectedNumber=-1;selectedItem=angular.copy(ngModel);}else{selectedItem=angular.copy(options.defaultItem);selectedItem.label=currentUserInput;} 
for(var i=0;i<results.length;i++){if(i===selectedNumber){results[i].selected=true;selectedItem=results[i];}else{results[i].selected=false;}
results[i].displayLabel=getSuggestLabel(currentUserInput,results[i].label);}
return results;}; var getAutoCompleteLabel=function(label){if(!options.onlyComplete){return'';}
try{return selectedItem.label.substring(label.length)||'';}
catch(e){return'';}}; var getSuggestLabel=function(label,suggestLabel){var result=[]; label=label||'';var labelArray=label.split('');label=label.toLowerCase(); suggestLabel=suggestLabel||'';var suggestLabelArray=suggestLabel.split('');suggestLabel=suggestLabel.toLowerCase();var labelChar;for(var i=0;i<suggestLabelArray.length;i++){ while(labelChar===undefined){labelChar=labelArray.shift();if(!labelChar){break;}
labelChar=labelChar.toLowerCase();if(suggestLabel.indexOf(labelChar,i)===-1){labelChar=undefined;}} 
if(labelChar===suggestLabelArray[i].toLowerCase()){if(result[result.length-1]&&result[result.length-1].match===true){result[result.length-1].label=result[result.length-1].label+suggestLabelArray[i];}else{result.push({label:suggestLabelArray[i],match:true});}
labelChar=undefined;} 
else{if(result[result.length-1]&&result[result.length-1].match===false){result[result.length-1].label=result[result.length-1].label+suggestLabelArray[i];}else{result.push({label:suggestLabelArray[i],match:false});}}}
return result;}; var resultCache=(function(){var results={};var history=[];var limit=function(){while(history.length>options.maxCache){delete results[history.shift()];}};var putCache=function(key,val){if(!results[key]){history.push(key);}
results[key]=val;limit();};var deleteCache=function(key){var index=history.indexOf(key);if(index!==-1){history.splice(index,1);}
delete results[key];};var getCache=function(key){return results[key];};return{put:putCache,'delete':deleteCache,get:getCache};})(); var getSuggestSubLabel=function(label){return selectedItem.subLabel||'';}; var getUserInput=function(){return selectedItem.label;}; var getResults=function(label,ready){label=label||'';label=label.toLowerCase();var results=[]; var finalParse=function(results){ results=angular.copy(results); for(var i=0;i<results.length;i++){if(typeof results[i]==='function'){results[i]=results[i](label);}} 
if(options.onlyComplete){results=removeNonCompleting(label,results);} 
while(results.length>options.maxSuggestions){results.pop();} 
currentUserInput=label;currentSuggestions=results; results=updateSelection(results); return results;}; results=getClosestCache(label); if(resultCache.get(label)||results.endOfResults){return finalParse(results);} 
else{results=options.resultsFn(label); if(results.then){ resultCache.put(label,'getting');results.then(function(results){ resultCache.put(label,results);if(typeof ready==='function'){ready();}})
['catch'](function(e){resultCache['delete'](label);}); return getResults(label);} 
else{ resultCache.put(label,results);return getResults(label);}}}; var selectPrevious=function(){selectedNumber--;if(selectedNumber===-2){selectedNumber=currentSuggestions.length-1;}};var selectNext=function(){selectedNumber++;if(selectedNumber>=currentSuggestions.length){selectedNumber=-1;}};
 var selectItem=function(itemNumber){selectedNumber=itemNumber;}; var init=function(value){selectedNumber=options.defaultSelectedNumber;selectedItem=value||options.defaultItem;currentUserInput=selectedItem.label||'';currentSuggestions=[];}; var getSelection=function(){return selectedItem;}; var getSelectionNumber=function(){return selectedNumber;}; var getSuggestionNumber=function(suggestion){for(var i=0;i<currentSuggestions.length;i++){if(currentSuggestions[i]===suggestion||(currentSuggestions[i].label===suggestion.label&&currentSuggestions[i].subLabel===suggestion.subLabel)){return i;}}
return-1;};var inputDirty=function(){isInputDirty=true;};var inputClean=function(){isInputDirty=false;};var setNgModel=function(model){ngModel=model;}; init(ngModel);return{options:options,profiles:profiles,getResults:getResults,getAutoCompleteLabel:getAutoCompleteLabel,getSuggestLabel:getSuggestLabel,getSuggestSubLabel:getSuggestSubLabel,getUserInput:getUserInput,selectPrevious:selectPrevious,selectNext:selectNext,selectItem:selectItem,updateSelection:updateSelection,showSuggestions:showSuggestions,init:init,getSelection:getSelection,getSelectionNumber:getSelectionNumber,getSuggestionNumber:getSuggestionNumber,inputDirty:inputDirty,inputClean:inputClean,setNgModel:setNgModel};};}]).directive('utkAutosuggest',['$document','$timeout','utkAutosuggestFactory',function($document,$timeout,utkAutosuggestFactory){'use strict';return{restrict:'A',scope:{resultsFn:'&',listenerFn:'&',options:'=',ngModel:'='},templateUrl:'templates/autosuggest.tpl.html',link:function(scope,element,attr,controller){ var hasFocus=false; var exitEventComplete=true;
 scope.ngModel=scope.ngModel||{}; var utkAutosuggest=utkAutosuggestFactory(scope.ngModel); if(scope.options){angular.extend(utkAutosuggest.options,scope.options);}
if(utkAutosuggest.options.profile){angular.extend(utkAutosuggest.options,utkAutosuggest.profiles[utkAutosuggest.options.profile]);} 
var fields=['resultsFn','listenerFn'];for(var i=0;i<fields.length;i++){if(scope[fields[i]]){utkAutosuggest.options[fields[i]]=scope[fields[i]];if(typeof utkAutosuggest.options[fields[i]]==='function'){utkAutosuggest.options[fields[i]]=utkAutosuggest.options[fields[i]]();}}} 
scope.placeholder=utkAutosuggest.options.placeholder; scope.button=utkAutosuggest.options.button; scope.$watch(function(){return scope.ngModel.label+'--'+scope.ngModel.subLabel;},function(){scope.userInput=scope.ngModel.label;scope.suggestSubLabel=scope.ngModel.subLabel;}); scope.userInputChange=function(){utkAutosuggest.inputDirty();scope.inputZ=0;if(utkAutosuggest.options.resetSelectionOnInput){utkAutosuggest.selectItem(utkAutosuggest.options.defaultSelectedNumber);}
var results=utkAutosuggest.getResults(scope.userInput,updateResults);updateResults(results);}; var updateResults=function(results){ results=results||utkAutosuggest.getResults(scope.userInput); utkAutosuggest.updateSelection(results); scope.suggestLabel=utkAutosuggest.getSuggestLabel(scope.userInput,utkAutosuggest.getSelection().label);scope.suggestSubLabel=utkAutosuggest.getSuggestSubLabel(scope.userInput,results);scope.suggestions=results;};
 var exitEventSelectSuggestion=function(suggestion){if(exitEventComplete){return;} 
utkAutosuggest.inputDirty(); var suggestNumber=utkAutosuggest.getSuggestionNumber(suggestion);
 var results=utkAutosuggest.getResults(scope.userInput); utkAutosuggest.selectItem(suggestNumber);scope.userInput=suggestion.label; updateResults(results); angular.copy(utkAutosuggest.getSelection(),scope.ngModel);utkAutosuggest.setNgModel(scope.ngModel);utkAutosuggest.options.listenerFn('userSelection');return exitEventFinally();}; var exitEventSelectNothing=function(){if(exitEventComplete){return;} 
if(scope.ngModel&&scope.ngModel.label&&scope.userInput&&scope.ngModel.label.toLowerCase()===scope.userInput.toLowerCase()){return exitEventFinally();} 
utkAutosuggest.selectItem(-1); updateResults(); angular.copy(utkAutosuggest.getSelection(),scope.ngModel);utkAutosuggest.setNgModel(scope.ngModel);utkAutosuggest.options.listenerFn('noSelection');return exitEventFinally();}; var exitEventFinally=function(){ utkAutosuggest.inputClean(); exitEventComplete=true; $document.off('click',clickAway); scope.showSuggestions=function(){return false;}; $timeout(function(){});utkAutosuggest.options.listenerFn('exit');};var entranceEventFinally=function(){ var results=utkAutosuggest.getResults(scope.userInput,updateResults);updateResults(results); if(exitEventComplete===false){$document.off('click',clickAway);} 
exitEventComplete=false; scope.showSuggestions=utkAutosuggest.showSuggestions; $document.on('click',clickAway); $timeout(function(){});utkAutosuggest.options.listenerFn('enter');};scope.inputZ=0;scope.showCompletion=utkAutosuggest.options.showCompletion; scope.buttonClick=function(){ exitEventSelectSuggestion(utkAutosuggest.getSelection()); utkAutosuggest.options.listenerFn('buttonClick');utkAutosuggest.options.listenerFn('submit');}; scope.keyPress=function(e){ if(e.keyCode===38){utkAutosuggest.inputDirty();if(!utkAutosuggest.options.onlyComplete&&utkAutosuggest.options.showCompletion){scope.inputZ=-1;}
utkAutosuggest.selectPrevious();utkAutosuggest.updateSelection(scope.suggestions);updateResults(scope.suggestions);utkAutosuggest.options.listenerFn('pressUp');} 
if(e.keyCode===40){utkAutosuggest.inputDirty();if(!utkAutosuggest.options.onlyComplete&&utkAutosuggest.options.showCompletion){scope.inputZ=-1;}
utkAutosuggest.selectNext();utkAutosuggest.updateSelection(scope.suggestions);updateResults(scope.suggestions);utkAutosuggest.options.listenerFn('pressDown');} 
if(e.keyCode===13){ exitEventSelectSuggestion(utkAutosuggest.getSelection()); utkAutosuggest.options.listenerFn('submit');setTimeout(e.target.blur.bind(e.target));}
if(utkAutosuggest.getSelectionNumber()===-1){scope.inputZ=0;}};scope.keyDown=function(e){ if(e.keyCode===38||e.keyCode===40||e.keyCode===13){var start=e.target.selectionStart;var end=e.target.selectionEnd;var revertSelection=function(){e.target.selectionStart=start;e.target.selectionEnd=end;};e.stopPropagation();setTimeout(revertSelection,0);return false;} 
if(e.keyCode===9){if(utkAutosuggest.options.resetOnTab){exitEventSelectNothing();}else{exitEventSelectSuggestion(utkAutosuggest.getSelection());}
utkAutosuggest.options.listenerFn('pressTab');}}; scope.suggestionClick=function(e,suggestion){exitEventSelectSuggestion(suggestion);utkAutosuggest.options.listenerFn('clickSuggestion');e.stopPropagation();return false;}; var clickAway=function(){if(!hasFocus){utkAutosuggest.options.listenerFn('clickAway');if(utkAutosuggest.options.resetOnClickAway){exitEventSelectNothing();}else{exitEventSelectSuggestion(utkAutosuggest.getSelection());}}}; scope.onFocus=function(){utkAutosuggest.options.listenerFn('focus');hasFocus=true;entranceEventFinally();};scope.onBlur=function(){utkAutosuggest.options.listenerFn('blur');hasFocus=false;scope.inputZ=0;}; exitEventSelectSuggestion(scope.ngModel);}};}]).directive('utkPlaceholder',[function(){'use strict';return{scope:{utkPlaceholder:'='},restrict:'A',link:function(scope,element,attrs){scope.$watch(function(){return scope.utkPlaceholder;},function(){element.attr('placeholder',scope.utkPlaceholder);});}};}]);}());(function(){angular.module('ui-toolkit').provider('$calendar',function(){'use strict';var defaults=this.defaults={placement:'right',template:'templates/calendar.tpl.html',trigger:'focus',container:'body',displayFormat:'MM-DD-YYYY',dayFormat:'D',headerMonthTitleFormat:'MMMM YYYY',minDate:-8640000000000000,maxDate:8640000000000000,startView:0,daysOfWeekDisabled:'',disabledDateRanges:[],autoclose:true,keyboard:true};this.$get=["calendarViews","$utkInfoLayer","$timeout","moment",function(calendarViews,$utkInfoLayer,$timeout,moment){function DatepickerFactory(element,controller,config){var $datepicker=$utkInfoLayer(element,angular.extend({},defaults,config));var parentScope=config.scope;var options=$datepicker.$options;var scope=$datepicker.$scope;var pickerViews=calendarViews($datepicker);$datepicker.$views=pickerViews.views;var viewDate=pickerViews.viewDate;scope.$mode=options.startView;var $pickerView=$datepicker.$views[scope.$mode]; scope.$select=function(el){if(!(el.isEmpty||el.disabled)){$datepicker.select(el.date);}};scope.$selectPane=function(value){$datepicker.$selectPane(value);}; $datepicker.select=function(date,keep){if(!angular.isDate(controller.$dateValue)){controller.$dateValue=new Date(date);}
controller.$setViewValue(angular.copy(moment(date).format(options.displayFormat)));controller.$render();if(options.autoclose&&!keep){$timeout(function(){$datepicker.hide(true);});}};$datepicker.$selectPane=function(value){var steps=$pickerView.steps;var targetDate=moment(viewDate).add(value*steps.year||0,'y').add(value*steps.month||0,'M').toDate();angular.extend(viewDate,{year:targetDate.getUTCFullYear(),month:targetDate.getUTCMonth(),date:targetDate.getUTCDate()});$datepicker.$build();};$datepicker.update=function(date){if(angular.isDate(date)&&!isNaN(date.getTime())){var force=!!!$datepicker.$date;$datepicker.$date=date;$pickerView.update.call($pickerView,date,force);}
$datepicker.$build(true);};$datepicker.updateDisabledDates=function(dateRanges){options.disabledDateRanges=dateRanges;for(var i=0,l=scope.days.length;i<l;i++){$datepicker.$setDisabledEl(scope.days[i]);}}; $datepicker.$build=function(pristine){if(pristine===true&&$pickerView.built){return;}
if(pristine===false&&!$pickerView.built){return;}
$pickerView.build.call($pickerView);};$datepicker.$updateSelected=function(){for(var i=0,l=scope.days.length;i<l;i++){updateSelected(scope.days[i]);}};$datepicker.$isSelected=function(date){return $pickerView.isSelected(date);};$datepicker.$setDisabledEl=function(el){el.disabled=$pickerView.isDisabled(el.date);};$datepicker.$onMouseDown=function(evt){evt.preventDefault();evt.stopPropagation();};$datepicker.$onKeyDown=function(evt){if(!/(38|37|39|40|13)/.test(evt.keyCode)||evt.shiftKey||evt.altKey){return;}
evt.preventDefault();evt.stopPropagation();if(evt.keyCode===13){if(!scope.$mode){return $datepicker.hide(true);}else{return scope.$apply(function(){$datepicker.setMode(scope.$mode-1);});}} 
$pickerView.onKeyDown(evt);parentScope.$digest();}; function updateSelected(el){el.selected=$datepicker.$isSelected(el.date);} 
var _init=$datepicker.init;$datepicker.init=function(){_init();};var _destroy=$datepicker.destroy;$datepicker.destroy=function(){_destroy();};var _show=$datepicker.show;$datepicker.show=function(){_show();$timeout(function(){if(!$datepicker.$isShown){return;}
$datepicker.$element.on('mousedown',$datepicker.$onMouseDown);element.on('keydown',$datepicker.$onKeyDown);},0,false);};var _hide=$datepicker.hide;$datepicker.hide=function(blur){if(!$datepicker.$isShown){return;}
$datepicker.$element.off('mousedown',$datepicker.$onMouseDown);element.off('keydown',$datepicker.$onKeyDown);_hide(blur);};return $datepicker;}
DatepickerFactory.defaults=defaults;return DatepickerFactory;}];}).directive('utkCalendar',["$calendar","moment",function($calendar,moment){'use strict';return{restrict:'AC',require:'ngModel',link:function postLink(scope,element,attr,controller){ var options={scope:scope,controller:controller};angular.forEach(['trigger','keyboard','dateFormat','daysOfWeekDisabled','disabledDateRanges','container'],function(key){if(angular.isDefined(attr[key])){options[key]=attr[key];}}); var datepicker=$calendar(element,controller,options);options=datepicker.$options; angular.forEach(['minDate','maxDate'],function(key){if(angular.isDefined(attr[key])){attr.$observe(key,function(newValue){datepicker.$options[key]=getDateForAttribute(key,newValue);if(!isNaN(datepicker.$options[key])){datepicker.$build(false);}
validateAgainstMinMaxDate(controller.$dateValue);});}}); scope.$watch(attr.ngModel,function(){datepicker.update(controller.$dateValue);},true);scope.$on('$destroy',function(){if(datepicker){datepicker.destroy();}
options=null;datepicker=null;});if(angular.isDefined(attr.disabledDateRanges)){scope.$watch(attr.disabledDateRanges,function(disabledRanges,previousValue){disabledRanges=normalizeDateRanges(disabledRanges);previousValue=normalizeDateRanges(previousValue);if(disabledRanges){datepicker.updateDisabledDates(disabledRanges);}});} 
controller.$parsers.unshift(function(viewValue){if(!viewValue){controller.$setValidity('date',true);return null;}
var selectedDate=moment(viewValue,options.displayFormat);if(!selectedDate.isValid()){controller.$setValidity('date',false);return;}else{validateAgainstMinMaxDate(selectedDate.toDate());}
return new Date(controller.$dateValue);}); controller.$formatters.push(function(modelValue){

modelValue=!modelValue?null:modelValue;controller.$dateValue=moment(modelValue).toDate();return getDateFormattedString();}); controller.$render=function(){element.val(getDateFormattedString());};var formatDate=function(date,format){return moment(date).format(format);};var getDateForAttribute=function(key,value){var date;if(value==='today'){var today=new Date();date=new Date(today.getFullYear(),today.getMonth(),today.getDate()+(key==='maxDate'?1:0),0,0,0,(key==='minDate'?0:-1));}else if(angular.isString(value)&&value.match(/^".+"$/)){date=new Date(value.substr(1,value.length-2));}else if(angular.isString(value)&&0===value.length){ date=key==='minDate'?-8640000000000000:8640000000000000;}else{date=new Date(value);}
return date;};var normalizeDateRanges=function(ranges){if(!ranges||!ranges.length){return null;}
return ranges;};var validateAgainstMinMaxDate=function(parsedDate){if(!angular.isDate(parsedDate)){return;}
var minDate=new Date(datepicker.$options.minDate),maxDate=new Date(datepicker.$options.maxDate);var isMinValid=isNaN(minDate)||parsedDate.getTime()>=minDate;var isMaxValid=isNaN(maxDate)||parsedDate.getTime()<=maxDate;var isValid=isMinValid&&isMaxValid;controller.$setValidity('date',isValid);controller.$setValidity('min',isMinValid);controller.$setValidity('max',isMaxValid);if(isValid){controller.$dateValue=parsedDate;}};var getDateFormattedString=function(){return!controller.$dateValue||isNaN(controller.$dateValue.getTime())?'':formatDate(controller.$dateValue,options.displayFormat);};}};}]).provider('calendarViews',function(){'use strict';this.$get=["$sce","moment",function($sce,moment){return function(picker){var scope=picker.$scope;var options=picker.$options;var formatDate=function(date,format){return moment(date).format(format);};var weekDaysLabels=['S','M','T','W','T','F','S'];var weekDaysLabelsHtml=$sce.trustAsHtml('<div class="utk-cal-day-header">'+weekDaysLabels.join('</div><div class="cal-day-header">')+'</div>');var startDate=picker.$date||new Date();var viewDate={year:startDate.getFullYear(),month:startDate.getMonth(),date:startDate.getDate()};var views=[{format:options.dayFormat,steps:{month:1},update:function(date,force){if(!this.built||force||date.getFullYear()!==viewDate.year||date.getMonth()!==viewDate.month){angular.extend(viewDate,{year:picker.$date.getFullYear(),month:picker.$date.getMonth(),date:picker.$date.getDate()});picker.$build();}else if(date.getDate()!==viewDate.date){viewDate.date=picker.$date.getDate();picker.$updateSelected();}},build:function(){var firstDayOfMonth=new Date(viewDate.year,viewDate.month,1);var firstDate=moment(firstDayOfMonth).startOf('week').toDate();var today=new Date().toDateString();var days=[],day,isEmpty,label;var cellLimit=35;var totalDaysInMonth=new Date(viewDate.year,viewDate.month+1,0).getDate();var dayOfWeekForFirstDay=firstDayOfMonth.getDay();var displayToday=picker.$date?false:true; if(dayOfWeekForFirstDay>=5&&totalDaysInMonth-(7-dayOfWeekForFirstDay)>28){cellLimit=42;}
for(var i=0;i<cellLimit;i++){day=moment(firstDate).add(i,'d').toDate();isEmpty=day.getMonth()!==viewDate.month;label=!isEmpty?formatDate(day,this.format):'';days.push({date:day,isEmpty:isEmpty,isToday:displayToday?day.toDateString()===today&&!isEmpty:false,label:label,selected:picker.$date&&this.isSelected(day)&&!isEmpty,muted:day.getMonth()!==viewDate.month,disabled:this.isDisabled(day)});}
scope.headerTitle=formatDate(firstDayOfMonth,options.headerMonthTitleFormat);scope.labels=weekDaysLabelsHtml;scope.days=days;this.built=true;},isSelected:function(date){return picker.$date&&date.getFullYear()===picker.$date.getFullYear()&&date.getMonth()===picker.$date.getMonth()&&date.getDate()===picker.$date.getDate();},isDisabled:function(date){var minDate=new Date(options.minDate),maxDate=new Date(options.maxDate);if(moment(date).isBefore(moment(minDate))||moment(date).isAfter(maxDate)){return true;} 
if(options.daysOfWeekDisabled.indexOf(date.getDay())!==-1){return true;}
var rangeStart,rangeEnd;if(options.disabledDateRanges){for(var i=0;i<options.disabledDateRanges.length;i++){rangeStart=options.disabledDateRanges[i].start;rangeEnd=options.disabledDateRanges[i].end;if(moment(date).isBetween(rangeStart,rangeEnd)){return true;}}}
return false;},onKeyDown:function(evt){if(!picker.$date){return;}
var currentDate=picker.$date;var newDate;if(evt.keyCode===37){newDate=moment(currentDate).subtract(1,'d').toDate();}else if(evt.keyCode===38){newDate=moment(currentDate).subtract(1,'w').toDate();}else if(evt.keyCode===39){newDate=moment(currentDate).add(1,'d').toDate();}else if(evt.keyCode===40){newDate=moment(currentDate).add(1,'w').toDate();}
if(!this.isDisabled(newDate)){picker.select(newDate,true);}}}];return{views:options.minView?Array.prototype.slice.call(views,options.minView):views,viewDate:viewDate};};}];});}());(function(){angular.module('ui-toolkit').controller('utkCounterCtrl',["$scope","$timeout",function($scope,$timeout){'use strict';var ctrl=this;var calculateTime=function(){var mSecs=ctrl.interval;var days=0;var hours=0;var minutes=0;var seconds=0;if(mSecs>86400000){days=Math.floor(mSecs/86400000);mSecs-=(days*86400000);} 
if(mSecs>3600000){hours=Math.floor(mSecs/3600000);mSecs-=(hours*3600000);}
if(mSecs>60000){minutes=Math.floor(mSecs/60000);mSecs-=(minutes*60000);}
seconds=Math.floor(mSecs/1000);if(days>0){ctrl.time=days+'d '+hours+'h';}
else if(hours>0){ctrl.time=hours+'h '+minutes+'m';}
else if(minutes>0){ctrl.time=minutes+'m '+seconds+'s';}
else{ctrl.time=seconds+'s';if(ctrl.doCountdown){if(ctrl.interval<7000){ctrl.msg='Going Twice!';}else if(ctrl.interval<13000){ctrl.msg='Going Once!';}
else{ctrl.msg='';}}}};var checkInterval=function(){if(isNaN(ctrl.interval)){return;}
if(ctrl.interval>999){if(ctrl.interval<2000&&ctrl.interval>=1000){if(typeof ctrl.finishCB!=='undefined'){ctrl.finishCB({params:ctrl.finishParams});}}
if(ctrl.interval<=31000){ctrl.styling='counter-four-hours';}
else if(ctrl.interval<=14400000){ctrl.styling='counter-four-hours';}
else{ctrl.styling='';} 
if(ctrl.interval<=14400000){ctrl.isEndingSoon=true;}
else{ctrl.isEndingSoon=false;}
ctrl.timerObj=$timeout(tick,1000);calculateTime();}
else{ctrl.showClock=false;if(typeof ctrl.endString!=='undefined'){ctrl.msg=ctrl.endString;}}};var tick=function(){ctrl.interval=ctrl.interval-1000;checkInterval();};ctrl.updateCounter=function(interval){if(typeof ctrl.timerObj!=='undefined'){$timeout.cancel(ctrl.timerObj);ctrl.timerObj=undefined;}
ctrl.interval=parseInt(interval);commonInit();checkInterval();};$scope.$on('$destroy',function(){if(typeof ctrl.timerObj!=='undefined'){$timeout.cancel(ctrl.timerObj);ctrl.timerObj='undefined';}});$scope.$watch('interval',function(newValue){if(typeof newValue!=='undefined'){ctrl.updateCounter(newValue);}});var commonInit=function(){ctrl.styling='';ctrl.msg='';ctrl.showClock=!(isNaN(ctrl.interval));};var init=function(){ctrl.interval=parseInt($scope.interval);ctrl.counterId=$scope.counterId;ctrl.finishCB=$scope.finishCallback;ctrl.doCountdown=$scope.doCountdown;ctrl.endString=$scope.endString;ctrl.finishParams=$scope.finishParams;ctrl.showClock=false;commonInit();checkInterval();};init();}]);}());(function(){angular.module('ui-toolkit').directive('utkCounter',function(){'use strict';return{restrict:'AC',controller:'utkCounterCtrl',controllerAs:'counterCtrl',scope:{interval:'@',finishCallback:'&',counterId:'@',doCountdown:'=',endString:'@',styling:'@',finishParams:'='},templateUrl:'templates/counter.tpl.html'};});}());(function(){angular.module('ui-toolkit').directive('badgesLib',function(){'use strict';return{templateUrl:'templates/badges.svg'};}).directive('badge',function(){'use strict';return{restrict:'A',scope:{badge:'@'},template:'<svg class="utk-badge"><circle cx="27" cy="27" r="27"></circle><use xlink:href="{{id}}"></use></svg>',link:function(scope){scope.id='#badge-'+scope.badge;}};});}());(function(){angular.module('ui-toolkit').provider('utkDropDownService',function(){'use strict';var defaults=this.defaults={element:false,scope:false,isSmall:false,isTransparent:false,isMultiColumn:false,iconClass:false,cssClass:false,menuAlign:'left',};this.$get=["$window",function($window){var allMenus=[];var bodyElm=angular.element($window.document.body);var forEach=angular.forEach;function MenuFactory(config){var $menu={isOpen:false};var linkElm,containerElm,menuBoxElm;$menu.open=function(e){closeAllMenus();linkElm.addClass('utk-is-open');menuBoxElm.css({display:'block',});var boxWidth=menuBoxElm.prop('offsetWidth'),linkWidth=linkElm.prop('offsetWidth');if(linkWidth>boxWidth){menuBoxElm.css({width:linkWidth+'px'});}
if(options.menuAlign==='right'){var position=getPosition(options.element);var linkElmWidth=linkElm.prop('offsetWidth');if(linkElmWidth>boxWidth){menuBoxElm.css({width:linkElmWidth+'px'});boxWidth=linkElmWidth;}
menuBoxElm.css({left:(position.left+position.width-boxWidth)+'px'});}
linkElm.off('click',$menu.open);bodyElm.on('click',$menu.close);$menu.isOpen=true;if(e){e.stopPropagation();}};$menu.close=function(e){if(linkElm){linkElm.removeClass('utk-is-open');linkElm.off('click',$menu.close);linkElm.on('click',$menu.open);}
if(menuBoxElm){menuBoxElm.css({display:'none',});}
bodyElm.off('click',$menu.close);$menu.isOpen=false;if(e){e.stopPropagation();}};$menu.onKeyPress=function(e){if(e.keyCode===32){if($menu.isOpen){$menu.close(e);}else{$menu.open(e);}}};$menu.destroy=function(){ linkElm.off();linkElm=null;containerElm=null;menuBoxElm=null;var menuIdx=allMenus.indexOf($menu);if(menuIdx!==-1){allMenus.splice(menuIdx,1);}};var closeAllMenus=function(){forEach(allMenus,function(val){if(val.isOpen){val.close();}});};var findElmByClass=function(elms,className){for(var i=elms.length-1;i>=0;i--){var elm=angular.element(elms[i]);if(elm.hasClass(className)){return elm;}}};var options=$menu.$options=angular.extend({},defaults,config);if(!options.element){throw'dropdown requires a placeholder element.';}
containerElm=options.element;containerElm.css({display:'inline-block','line-height':0,});if(options.cssClass){containerElm.addClass(options.cssClass);}
linkElm=findElmByClass(containerElm.find('a'),'utk-dropdown-button');if(options.isSmall){linkElm.addClass('utk-is-small');}
if(options.isTransparent){linkElm.addClass('utk-button-transparent-light');}else{linkElm.addClass('utk-button-default');}
linkElm.on('click',$menu.open);linkElm.on('keypress',$menu.onKeyPress);if(options.iconClass){var iconElm=angular.element('<span class="utk-dropdown-icon"/>');iconElm.addClass(options.iconClass);linkElm.append(iconElm);var labelElm=angular.element('<span/>');labelElm.append(options.menuLabel);linkElm.append(labelElm);linkElm.append(angular.element('<div class="spacerHelper"/>'));}else{linkElm.append(options.menuLabel);}
menuBoxElm=findElmByClass(containerElm.find('div'),'utk-menu-box');menuBoxElm.css({'line-height':'26px',});if(options.menuAlign==='right'){menuBoxElm.addClass('utk-menu-align-right');}
if(options.isMultiColumn){menuBoxElm.addClass('utk-menu-box-multi-col');}else{menuBoxElm.addClass('utk-menu-box-standard');}
menuBoxElm.removeClass('utk-menu-box');allMenus.push($menu);function getTagName(element,name){return element.nodeName&&element.nodeName.toLowerCase()===name.toLowerCase();}
function getPosition($element){var el=$element[0];var elRect=cloneIHTMLRect(el.getBoundingClientRect());if(elRect.width===null){ elRect=angular.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top});}
var elPos;if(options.container==='body'){elPos=getOffset(el);}else{elPos=calcPosition(el);}
return angular.extend({},elRect,elPos);}
function getOffset(element){var boxRect=element.getBoundingClientRect();var docElement=element.ownerDocument;return{width:boxRect.width||element.offsetWidth,height:boxRect.height||element.offsetHeight,top:boxRect.top+(window.pageYOffset||docElement.documentElement.scrollTop)-(docElement.documentElement.clientTop||0),left:boxRect.left+(window.pageXOffset||docElement.documentElement.scrollLeft)-(docElement.documentElement.clientLeft||0)};} 
function cloneIHTMLRect(obj){var p,newObj={};for(p in obj){if(Object.prototype.hasOwnProperty.call(obj,p)){newObj[p]=obj[p];}}
return newObj;}
function calcPosition(element){var offsetParentRect={top:0,left:0},offsetParentElement,offset; if(getProperty(element,'position')==='fixed'){ offset=element.getBoundingClientRect();}else{ offsetParentElement=offsetParent(element); offset=getOffset(element);if(!getTagName(offsetParentElement,'html')){offsetParentRect=getOffset(offsetParentElement);} 
offsetParentRect.top+=getProperty(offsetParentElement,'borderTopWidth',true);offsetParentRect.left+=getProperty(offsetParentElement,'borderLeftWidth',true);} 
return{width:element.offsetWidth,height:element.offsetHeight,top:offset.top-offsetParentRect.top-getProperty(element,'marginTop',true),left:offset.left-offsetParentRect.left-getProperty(element,'marginLeft',true)};}
function getProperty(element,prop,extra){var value;if(element.currentStyle){ value=element.currentStyle[prop];}else if(window.getComputedStyle){value=window.getComputedStyle(element)[prop];}else{value=element.style[prop];}
return extra===true?parseFloat(value)||0:value;}
function offsetParent(element){var docElement=element.ownerDocument;var $offsetParent=element.offsetParent||docElement;if(getTagName($offsetParent,'#document')){return docElement.documentElement;}
while($offsetParent&&!getTagName($offsetParent,'html')&&getProperty($offsetParent,'position')==='static'){$offsetParent=offsetParent.offsetParent;}
return $offsetParent||docElement.documentElement;}
return $menu;}
return MenuFactory;}];}).directive('utkDropDown',["utkDropDownService",function(utkDropDownService){'use strict';return{restrict:'AC',scope:{isSmall:'=',isTransparent:'=',menuLabel:'@',iconClass:'@',cssClass:'@',menuAlign:'@',isMultiColumn:'='},replace:true,transclude:true,templateUrl:'templates/dropdownmenu.tpl.html',link:function(scope,element,attr){var options={'element':element,'scope':scope};angular.forEach(['isSmall','isTransparent','isMultiColumn','menuLabel','iconClass','cssClass','menuAlign'],function(key){if(angular.isDefined(attr[key])){options[key]=scope[key];}});var $menu=utkDropDownService(options);scope.$on('$destroy',function(){$menu.destroy();options=null;$menu=null;});}};}]);}());(function(){angular.module('ui-toolkit').factory('utkNumberParser',function(){'use strict';return function(v){var strArr;var value=v;if(value!==''){value=''+value;value=value.replace(/[^\d\.\-]/g,'');var signCharacter=value[0]==='-'?'-':'';value=value.replace(/\-/g,'');strArr=value.split('.');value=strArr.shift();value=signCharacter+value;value=strArr.length?value+'.'+strArr.join(''):value;}
var valueParsed=parseFloat(value);value=value===valueParsed+''?valueParsed:value;return value;};})
.filter('utkNumberAddCommas',function(){'use strict';return function(v){var value=v;if(value!==''){value=''+value;value=value.replace(/,/g,'');value=value.split('.');value[0]=value[0].replace(/\B(?=(\d{3})+(?!\d))/g,',');value=value.join('.');}
return value;};})
.filter('utkNumber',["utkNumberAddCommasFilter",function(utkNumberAddCommasFilter){'use strict';return function(v){var value=utkNumberAddCommasFilter(v);return value;};}]).directive('utkNumberInput',["$timeout","utkNumberParser","utkNumberInputFormatter",function($timeout,utkNumberParser,utkNumberInputFormatter){'use strict';return{restrict:'A',require:'ngModel',scope:{ngModel:'=',utkNumberInput:'='},link:function(scope,element,attrs,ngModel){
var NumInputFormatter=new utkNumberInputFormatter.create(scope.utkNumberInput);var parsingInProgress=false;ngModel.$parsers.unshift(function(val){var value=val;


if(parsingInProgress){return value;}
parsingInProgress=true;
value=parseValue(val);parsingInProgress=false;return value;});ngModel.$formatters.push(function(val){var value=utkNumberParser(val);value=value+'';value=NumInputFormatter.addCommas(value);return value;});var parseValue=function(val){var value=val;if(value!==''){var oldValue=ngModel.$modelValue||'';var valueString=utkNumberParser(value)+'';valueString=NumInputFormatter.restrictNumber(valueString,oldValue);valueString=NumInputFormatter.enforceMaxValue(valueString,oldValue);var valueStringWithCommas=NumInputFormatter.addCommas(valueString);ngModel.$setViewValue(valueStringWithCommas);ngModel.$render();var valueParsed=NumInputFormatter.parseFloat(valueString);value=isNaN(valueParsed)?'':valueParsed;}
return value;};


(function(elem){var caretSelectStartBeforeParse;var caretSelectEndBeforeParse;var trailingString='';var backspacedOverComma=false;var deletingRight=false;elem.on('keydown',function(e){ caretSelectStartBeforeParse=undefined;caretSelectEndBeforeParse=undefined;trailingString='';backspacedOverComma=false;deletingRight=false;var elemObj=elem[0];caretSelectStartBeforeParse=elemObj.selectionStart;caretSelectEndBeforeParse=elemObj.selectionEnd;trailingString=elemObj.value.substr(caretSelectEndBeforeParse,elemObj.value.length);

if(e.keyCode===8&&elemObj.value.substr(caretSelectEndBeforeParse-1,1)===','){backspacedOverComma=true;}

if(e.keyCode===46&&caretSelectStartBeforeParse===caretSelectEndBeforeParse){deletingRight=true;}});
 elem.on('input',function(){$timeout(function(){var elemObj=elem[0];var newPosition=elemObj.value.length-trailingString.length;if(backspacedOverComma){newPosition-=1;}
if(deletingRight){newPosition+=1;}
elemObj.setSelectionRange(newPosition,newPosition);caretSelectStartBeforeParse=undefined;caretSelectEndBeforeParse=undefined;trailingString='';backspacedOverComma=false;deletingRight=false;});});})(element);}};}]).factory('utkNumberInputFormatter',["utkNumberAddCommasFilter",function(utkNumberAddCommasFilter){'use strict';

var NumberInputFormatter=function(confArg){var config=typeof confArg==='object'&&confArg||{};var formatString=typeof config.format==='string'&&config.format||''; var decimalPlaces=2;var positiveOnly=false;var maxIntCharLimit=13;var intCharLimit=maxIntCharLimit;var maxValue=typeof config.max==='number'&&config.max||0;var showCommas=true;
var reggie={

intExp:/^0+$/,

intExpWithCommas:/^0+\,0$/,

floatExp:/^0+\.0+$/,
floatExpWithCommas:/^0+\,0\.0+$/};
if(formatString[0]==='+'){positiveOnly=true;formatString=formatString.substr(1);}
if(formatString.match(reggie.intExp)){decimalPlaces=0;intCharLimit=formatString.length>1?formatString.length:maxIntCharLimit;intCharLimit=intCharLimit>maxIntCharLimit?maxIntCharLimit:intCharLimit;showCommas=false;}else if(formatString.match(reggie.intExpWithCommas)){decimalPlaces=0;intCharLimit=formatString.replace(/,/g,'').length>2?formatString.replace(/,/g,'').length:maxIntCharLimit;intCharLimit=intCharLimit>maxIntCharLimit?maxIntCharLimit:intCharLimit;}else if(formatString.match(reggie.floatExp)){intCharLimit=formatString.split('.')[0].length>1?formatString.split('.')[0].length:maxIntCharLimit;decimalPlaces=formatString.split('.')[1].length;showCommas=false;}else if(formatString.match(reggie.floatExpWithCommas)){decimalPlaces=formatString.split('.')[1].length;intCharLimit=formatString.split('.')[0].replace(/,/g,'').length>2?formatString.split('.')[0].replace(/,/g,'').length:maxIntCharLimit;intCharLimit=intCharLimit>maxIntCharLimit?maxIntCharLimit:intCharLimit;}
this.restrictNumber=function(val,oldVal){if(typeof val!=='string'){return val;}
var value=val;value=positiveOnly?value.replace(/\-/g,''):value;
var strArr=value.split('.');
if(strArr[0]&&strArr[0].replace(/\-/g,'').length>intCharLimit){return oldVal;}
if(strArr[1]&&strArr[1].length>decimalPlaces){return oldVal;}
if(intCharLimit>0){
if(strArr[0].length>0){strArr[0]=strArr[0][0]==='-'?'-'+strArr[0].substr(1,intCharLimit):strArr[0].substr(0,intCharLimit);}}
if(decimalPlaces===0){strArr=strArr.slice(0,1);
}else if(decimalPlaces>0){if(strArr.length>1){strArr[1]=strArr[1].substr(0,decimalPlaces);}}
value=strArr.join('.');return value;};this.addCommas=function(val){var value=val;if(showCommas){value=utkNumberAddCommasFilter(value);}
return value;};this.parseFloat=function(val){


var value=val;if(showCommas||decimalPlaces>0){value=parseFloat(value);}
return value;};this.enforceMaxValue=function(val,oldVal){var value=val;if(maxValue>0&&parseFloat(value)>maxValue){value=oldVal+'';}
return value;};};return{create:function(confArg){return new NumberInputFormatter(confArg);}};}]);}());(function(){angular.module('ui-toolkit').provider('$utkInfoLayer',function(){'use strict';var defaults=this.defaults={container:'body',placement:'right',align:'center',template:'templates/infolayer.tpl.html',contentTemplate:false,trigger:'focus',closeOnBlur:false,content:'',markerSpace:5,viewBoarderSpace:{top:6,left:6,bottom:6,right:6},arrowBoarderSpace:{top:6,left:6,bottom:6,right:6},keyboard:false, autoClose:false, sticky:true};this.$get=["$document","$rootScope","$compile","$q","$templateCache","$http","$timeout",function($document,$rootScope,$compile,$q,$templateCache,$http,$timeout){function InfoLayerFactory(element,config){var $infolayer={};var elmTagType=element[0].nodeName.toLowerCase();var options=$infolayer.$options=angular.extend({},defaults,config);$infolayer.$promise=fetchTemplate(options.template);var scope=$infolayer.$scope=options.scope&&options.scope.$new()||$rootScope.$new(); if(options.content){scope.content=options.content;} 
scope.$hide=function(){scope.$$postDigest(function(){$infolayer.hide();});};scope.$show=function(){scope.$$postDigest(function(){$infolayer.show();});};scope.$toggle=function(){scope.$$postDigest(function(){$infolayer.toggle();});}; $infolayer.$isShown=scope.$isShown=false; if(options.contentTemplate){$infolayer.$promise=$infolayer.$promise.then(function(template){var templateEl=angular.element(template);return fetchTemplate(options.contentTemplate).then(function(contentTemplate){var contentEl=findElement('[ng-bind="content"]',templateEl[0]);if(!contentEl.length){contentEl=findElement('[ng-bind="title"]',templateEl[0]);}
contentEl.removeAttr('ng-bind').html(contentTemplate);return templateEl[0].outerHTML;});});} 
var tipLinker,tipElement,tipTemplate,tipContainer,tipScope;$infolayer.$promise.then(function(template){if(angular.isObject(template)){template=template.data;}
template=template.trim();tipTemplate=template;tipLinker=$compile(template);$infolayer.init();});$infolayer.init=function(){ if(options.container==='parent'){tipContainer=element.parent();}else if(angular.isElement(options.container)){tipContainer=options.container;}else if(options.container){tipContainer=findElement(options.container);} 
bindTriggerEvents(); if(options.target){options.target=angular.isElement(options.target)?options.target:findElement(options.target);}};$infolayer.destroy=function(){unbindTriggerEvents(); destroyTipElement(); scope.$destroy();};var showStore={};$infolayer.show=function(){showStore={};if($infolayer.$isShown){return;} 
if(tipElement){destroyTipElement();} 
tipScope=$infolayer.$scope.$new();tipElement=$infolayer.$element=tipLinker(tipScope,function(){});
tipElement.css({top:'-9999px',left:'-9999px',display:'block',visibility:'hidden'});tipContainer.append(tipElement);$infolayer.$isShown=scope.$isShown=true;safeDigest(scope);$infolayer.$applyPlacement();if(options.sticky){bindStickyEvents();} 
if(tipElement){tipElement.css({visibility:'visible'});}
if(options.keyboard){if(options.trigger!=='focus'){$infolayer.focus();}
bindKeyboardEvents();}
if(options.autoClose){bindAutoCloseEvents();}};$infolayer.hide=function(blur){if(!$infolayer.$isShown){return;}
if(options.sticky){unbindStickyEvents();}
$infolayer.$isShown=scope.$isShown=false;safeDigest(scope);if(options.keyboard&&tipElement!==null){unbindKeyboardEvents();}
if(options.autoClose&&tipElement!==null){unbindAutoCloseEvents();}
destroyTipElement();if(blur&&options.trigger==='focus'){return element[0].blur();}};$infolayer.toggle=function(){if($infolayer.$isShown){$infolayer.hide();}else{$infolayer.show();}};$infolayer.focus=function(){tipElement[0].focus();}; $infolayer.$applyPlacement=function(){if(!tipElement){return;}
var placementPath=getPlacementPath(options.placement),elementPosition=calculateClientPositionRectangle(element[0],tipContainer[0]),viewPortRect=getViewPortRect(),bestArea=0,currentArea=0,previousPlacement=showStore.previousPlacement,placement,tipRect,bestRect,bestPlacement,adjustedRect;while(placementPath.length>0){placement=placementPath.shift();tipRect=getTipRectByPlacement(placement);tipRect=getCalculatedOffset(placement,elementPosition,tipRect,options.markerSpace); if(canFitInViewPort(tipRect,viewPortRect)){break;}else{ adjustedRect=adjustTipRectToView(placement,tipRect,viewPortRect); currentArea=calculateArea(placement,adjustedRect,viewPortRect);if(bestArea<currentArea){bestPlacement=placement;bestArea=currentArea;bestRect=adjustedRect;}}
previousPlacement=placement;placement=undefined; if(bestRect&&canFitInViewPort(bestRect,viewPortRect)){break;}} 
if(placement===undefined&&bestPlacement){placement=bestPlacement;tipRect=bestRect; getTipRectByPlacement(placement);}
if(placement){ alignArrow(placement,tipRect);applyPlacementCss(tipRect.top,tipRect.left);}};$infolayer.$onKeyUp=function(evt){if(evt.which===27&&$infolayer.$isShown){$infolayer.hide();evt.stopPropagation();}};$infolayer.$onFocusKeyUp=function(evt){if(evt.which===27){element[0].blur();evt.stopPropagation();}};$infolayer.$onFocusElementMouseDown=function(evt){evt.preventDefault();evt.stopPropagation();if($infolayer.$isShown){element[0].blur();}else{element[0].focus();}};$infolayer.$stickyRedraw=function(){if(!$infolayer.$isShown){return;} 
$infolayer.$applyPlacement();}; var bindTriggerEvents=function bindTriggerEvents(){var triggers=options.trigger.split(' ');angular.forEach(triggers,function(trigger){if(trigger==='click'){if(options.closeOnBlur){element.on('click',$infolayer.show);element.on('mouseleave',$infolayer.hide);}else{element.on('click',$infolayer.toggle);}}else{element.on(trigger==='hover'?'mouseenter':'focus',$infolayer.show);element.on(trigger==='hover'?'mouseleave':'blur',$infolayer.hide);if(elmTagType==='button'&&trigger!=='hover'){element.on('mousedown',$infolayer.$onFocusElementMouseDown);}}});};var unbindTriggerEvents=function unbindTriggerEvents(){var triggers=options.trigger.split(' ');for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger==='click'){if(options.closeOnBlur){element.off('click',$infolayer.show);element.off('mouseleave',$infolayer.hide);}else{element.off('click',$infolayer.toggle);}}else if(trigger!=='manual'){element.off(trigger==='hover'?'mouseenter':'focus',$infolayer.show);element.off(trigger==='hover'?'mouseleave':'blur',$infolayer.hide);if(elmTagType==='button'&&trigger!=='hover'){element.off('mousedown',$infolayer.$onFocusElementMouseDown);}}}};var bindKeyboardEvents=function bindKeyboardEvents(){if(options.trigger!=='focus'){tipElement.on('keyup',$infolayer.$onKeyUp);}else{element.on('keyup',$infolayer.$onFocusKeyUp);}};var unbindKeyboardEvents=function unbindKeyboardEvents(){if(options.trigger!=='focus'){tipElement.off('keyup',$infolayer.$onKeyUp);}else{element.off('keyup',$infolayer.$onFocusKeyUp);}};var _autoCloseEventsBinded=false;var bindAutoCloseEvents=function bindAutoCloseEvents(){$timeout(function(){tipElement.on('click',stopEventPropagation);$document.on('click',$infolayer.hide);_autoCloseEventsBinded=true;},0,false);};var unbindAutoCloseEvents=function unbindAutoCloseEvents(){if(_autoCloseEventsBinded){tipElement.off('click',stopEventPropagation);$document.off('click',$infolayer.hide);_autoCloseEventsBinded=false;}};var stopEventPropagation=function stopEventPropagation(evt){evt.stopPropagation();}; var stickyEventTimeout;var stickyEventBuffer=false;var stickyRedrawThrottle=function stickyRedrawThrottle(){var timeoutCallback;if(stickyEventTimeout){stickyEventBuffer=true;return;}
timeoutCallback=function(){$infolayer.$stickyRedraw();if(stickyEventBuffer){stickyEventTimeout=window.setTimeout(timeoutCallback,100);stickyEventBuffer=false;}else{stickyEventTimeout=false;}};stickyEventTimeout=window.setTimeout(timeoutCallback,100);};var isDescendant=function isDescendant(parent,child){while(child!==document.body&&child.parentNode){if(child.parentNode===parent){return true;}else{child=child.parentNode;}}
return false;};var isPositionAbsolute=function isPositionAbsolute(container,node){while(node&&node!==document&&node!==document.body&&node!==container){var position=window.getComputedStyle(node,null).getPropertyValue('position');if(position==='absolute'){return true;}
node=node.parentNode;}
return false;};var stickyDOMSubtreeModified=function stickyDOMSubtreeModified(node){if(!tipElement){return;}
var $tipElement=tipElement[0],$tipContainer=tipContainer[0];if(node===$tipElement||isDescendant($tipElement,node)||isPositionAbsolute($tipContainer,node)){return;}
stickyRedrawThrottle();};var stickyDOMSubtreeModifiedCallback=function stickyDOMSubtreeModifiedCallback(e){stickyDOMSubtreeModified(e.target);};var stickyDOMSubtreeModifiedObserver,observerConfig={childList:true,attributes:true,subtree:true};if(window.MutationObserver){stickyDOMSubtreeModifiedObserver=new MutationObserver(function(mutations){mutations.forEach(function(mutation){stickyDOMSubtreeModified(mutation.target);});});}else{stickyDOMSubtreeModifiedObserver=undefined;}
var bindStickyEvents=function bindStickyEvents(){window.addEventListener('resize',stickyRedrawThrottle,false);window.addEventListener('scroll',stickyRedrawThrottle,false);if(stickyDOMSubtreeModifiedObserver){stickyDOMSubtreeModifiedObserver.observe(document,observerConfig);}else{document.addEventListener('DOMSubtreeModified',stickyDOMSubtreeModifiedCallback,false);}};var unbindStickyEvents=function unbindStickyEvents(){window.removeEventListener('resize',stickyRedrawThrottle,false);window.removeEventListener('scroll',stickyRedrawThrottle,false);if(stickyDOMSubtreeModifiedObserver){stickyDOMSubtreeModifiedObserver.disconnect();}else{document.removeEventListener('DOMSubtreeModified',stickyDOMSubtreeModifiedCallback,false);}}; var getCalculatedOffset=function(placement,position,tipRect,markerSpace){var offset;switch(placement){case'top':offset={top:position.top-tipRect.outerHeight-options.arrowBoarderSpace.top,left:position.left+position.width/2-tipRect.outerWidth/2};break;case'right':offset={left:position.left+position.width+tipRect.arrowWidth+markerSpace+options.arrowBoarderSpace.right};if(options.align==='top'){offset.top=position.top-18-tipRect.outerHeight/2+position.height/2;}else{offset.top=position.top+position.height/2-tipRect.outerHeight/2;}
break;case'bottom':offset={top:position.top+position.height+tipRect.arrowHeight+options.arrowBoarderSpace.bottom,left:position.left+position.width/2-tipRect.outerWidth/2};break;case'left':offset={left:position.left-tipRect.outerWidth-markerSpace-options.arrowBoarderSpace.left};if(options.align==='top'){offset.top=position.top-18-tipRect.outerHeight/2+position.height/2;}else{offset.top=position.top+position.height/2-tipRect.outerHeight/2;}
break;default:throw new Error('Invalid placement argument. Valid placements are: "top", "left", "bottom", "right".');}
offset.bottom=offset.top+tipRect.height;offset.right=offset.left+tipRect.width;return angular.extend({},tipRect,offset);};var getTipRectByPlacement=function(placement){var previousPlacement=showStore.previousPlacement,arrowBorder,arrow,previousArrowClass,previousArrowBoarderClass;if(previousPlacement){previousArrowBoarderClass='utk-info-layer-arrow-'+previousPlacement+'-border';previousArrowClass='utk-info-layer-arrow-'+previousPlacement;}else{previousArrowBoarderClass='utk-info-layer-arrow-border';previousArrowClass='utk-info-layer-arrow';}
arrowBorder=findElmByClass(tipElement.children(),previousArrowBoarderClass);arrow=findElmByClass(tipElement.children(),previousArrowClass);arrowBorder.removeClass(previousArrowBoarderClass);arrowBorder.addClass('utk-info-layer-arrow-'+placement+'-border');arrow.removeClass(previousArrowClass);arrow.addClass('utk-info-layer-arrow-'+placement); showStore.previousPlacement=placement;var width=tipElement.prop('offsetWidth'),height=tipElement.prop('offsetHeight'),arrowWidth=arrow?arrow.prop('offsetWidth'):0,arrowHeight=arrow?arrow.prop('offsetHeight'):0,top=0,left=0,outerHeight,outerWidth,bottom,right;if(placement==='left'||placement==='right'){outerHeight=height;outerWidth=width+arrowWidth;}else{outerHeight=height+arrowHeight;outerWidth=width;}
bottom=top+height;right=left+width;return{top:top,left:left,outerHeight:outerHeight,outerWidth:outerWidth,bottom:bottom,right:right,height:height,width:width,arrowHeight:arrowHeight,arrowWidth:arrowWidth,arrowAdjustment:0};};var alignArrow=function(placement,tipRect){var arrowBorder,arrow,arrowClass,arrowBoarderClass,adjustment;if(tipRect!==undefined&&tipRect.arrowAdjustment!==undefined){adjustment=tipRect.arrowAdjustment;}else{adjustment=0;}
arrowBoarderClass='utk-info-layer-arrow-'+placement+'-border';arrowClass='utk-info-layer-arrow-'+placement;arrowBorder=findElmByClass(tipElement.children(),arrowBoarderClass);arrow=findElmByClass(tipElement.children(),arrowClass);var tipWidth=tipElement.prop('offsetWidth'),tipHeight=tipElement.prop('offsetHeight'),arrowWidth=arrow?arrow.prop('offsetWidth'):0,arrowHeight=arrow?arrow.prop('offsetHeight'):0;var arrowTop;var arrowLeft;if(placement==='left'||placement==='right'){arrowTop=(tipHeight/2)-(arrowHeight/2);arrow.css({top:(arrowTop+adjustment)+'px',left:''});arrowBorder.css({top:(arrowTop+adjustment)+'px',left:''});}else{arrowLeft=(tipWidth/2)-(arrowWidth/2);arrow.css({top:'',left:(arrowLeft+adjustment)+'px'});arrowBorder.css({top:'',left:(arrowLeft+adjustment)+'px'});}};var getPlacementPath=function(placement){var placementPathMatcher=/\[(.*)\]/,placementPathMatch=placement.match(placementPathMatcher),placementPath;if(placementPathMatch){placementPath=placementPathMatch[1].split(/,\s+?/);}else{switch(placement){case'left':placementPath=['left','right','top','bottom'];break;case'top':placementPath=['top','bottom','right','left'];break;case'bottom':placementPath=['bottom','top','right','left'];break;case'right':placementPath=['right','left','top','bottom'];break;default:throw new Error('Invalid placement argument. Valid placements are: "top", "left", "bottom", "right".');}}
return placementPath;};var getScrollTop=function(element){var scrollTop,documentElm=$document[0];if(documentElm&&element===documentElm.body&&documentElm.documentElement&&documentElm.documentElement.scrollTop){scrollTop=documentElm.documentElement.scrollTop;}else{scrollTop=element.scrollTop;}
return scrollTop;};var getScrollLeft=function(element){var scrollLeft,documentElm=$document[0];if(documentElm&&element===documentElm.body&&documentElm.documentElement&&documentElm.documentElement.scrollLeft){scrollLeft=documentElm.documentElement.scrollLeft;}else{scrollLeft=element.scrollLeft;}
return scrollLeft;};var calculateClientPositionRectangle=function(element,container){var elementClientRect=element.getClientRects()[0],containerClientRect=getContainerClientInnerRect(),top=elementClientRect.top,left=elementClientRect.left,height=elementClientRect.bottom-elementClientRect.top,width=elementClientRect.right-elementClientRect.left;top=top-containerClientRect.top;left=left-containerClientRect.left;return{top:top,left:left,height:height,width:width};};var getContainerClientInnerRect=function(){var container=tipContainer[0],tmpRect;if(showStore.containerClientInnerRect){tmpRect=container.getClientRects()[0];if(showStore.containerRect.top===tmpRect.top&&showStore.containerRect.left===tmpRect.left&&showStore.containerRect.bottom===tmpRect.bottom&&showStore.containerRect.right===tmpRect.right){return showStore.containerClientInnerRect;}
showStore.containerRect=tmpRect;}else{showStore.containerRect=container.getClientRects()[0];}
showStore.containerClientInnerRect=getClientInnerRect(container);return showStore.containerClientInnerRect;};var pixel;var getClientInnerRect=function(container){var topLeftDivClientRect,bottomRightDivClientRect,top,left,height,width,bottom,right;if(!pixel){pixel=createPixel();} 
pixel.style.top='0';pixel.style.left='0';pixel.style.bottom='auto';pixel.style.right='auto'; container.appendChild(pixel);topLeftDivClientRect=pixel.getClientRects()[0]; pixel.style.top='auto';pixel.style.left='auto';pixel.style.bottom='0';pixel.style.right='0'; bottomRightDivClientRect=pixel.getClientRects()[0];container.removeChild(pixel); top=topLeftDivClientRect.top;left=topLeftDivClientRect.left;bottom=bottomRightDivClientRect.bottom;right=bottomRightDivClientRect.right;height=bottom-top;width=right-left;return{top:top,left:left,height:height,width:width,bottom:bottom,right:right};};var createPixel=function(){var element=document.createElement('div');element.style.position='absolute';element.style.height='1px';element.style.width='1px';element.style.zIndex='0';element.style.opacity='0';return element;};var getViewPortRect=function(){var container=tipContainer[0],containerClientRect=getContainerClientInnerRect(),scrollTop=getScrollTop(container),scrollLeft=getScrollLeft(container),borderSpace=options.viewBoarderSpace,clientHeight=document.body.clientHeight,clientWidth=document.body.clientWidth,offsetTop=containerClientRect.top+scrollTop,offsetLeft=containerClientRect.left+scrollLeft,offsetBottom=containerClientRect.height+offsetTop,offsetRight=containerClientRect.width+offsetLeft,top=0,left=0,height=containerClientRect.height,width=containerClientRect.width,bottom=height,right=width,adjustmentTop,adjustmentLeft; if(offsetTop<0){adjustmentTop=Math.abs(offsetTop);top+=adjustmentTop;height-=adjustmentTop;if(height<0){height=0;}
bottom=height;} 
if(offsetLeft<0){adjustmentLeft=Math.abs(offsetLeft);left+=adjustmentLeft;width-=adjustmentLeft;if(width<0){width=0;}
right=width;} 
if(offsetBottom>clientHeight){height-=offsetBottom-clientHeight;if(height<0){height=0;}
bottom=height+top;} 
if(offsetRight>clientWidth){width-=offsetRight-clientWidth;if(width<0){width=0;}
right=width+left;} 
if(container.offsetHeight!==container.scrollHeight){top+=getScrollTop(container);bottom+=getScrollTop(container);} 
if(container.offsetWidth!==container.scrollWidth){left+=getScrollLeft(container);right+=getScrollLeft(container);} 
top+=borderSpace.top;left+=borderSpace.left; bottom-=borderSpace.bottom;right-=borderSpace.right; height=bottom-top;width=right-left;return{top:top,left:left,bottom:bottom,right:right,height:height,width:width};};var canFitInViewPort=function(elementRect,viewPortRect){if(viewPortRect.top<=elementRect.top&&viewPortRect.left<=elementRect.left&&viewPortRect.bottom>=elementRect.bottom&&viewPortRect.right>=elementRect.right){return true;}
return false;};var adjustTipRectToView=function(placement,elementRect,viewPortRect){var newRect=angular.extend({},elementRect),borderSpace=options.arrowBoarderSpace,maxTopAdjustment=Math.ceil((elementRect.height-elementRect.arrowHeight)/2)-borderSpace.top,maxBottomAdjustment=(Math.ceil((elementRect.height-elementRect.arrowHeight)/2)-borderSpace.bottom)*-1,maxLeftAdjustment=Math.ceil((elementRect.width-elementRect.arrowWidth)/2)-borderSpace.left,maxRightAdjustment=(Math.ceil((elementRect.width-elementRect.arrowWidth)/2)-borderSpace.right)*-1,adjustment=0;if(placement==='top'||placement==='bottom'){ if(viewPortRect.left<=elementRect.left||viewPortRect.right>=elementRect.right){ if(viewPortRect.left>elementRect.left){adjustment=viewPortRect.left-elementRect.left;adjustment=adjustment>maxLeftAdjustment?maxLeftAdjustment:adjustment;} 
if(viewPortRect.right<elementRect.right){adjustment=viewPortRect.right-elementRect.right;adjustment=adjustment<maxRightAdjustment?maxRightAdjustment:adjustment;}
newRect.left=elementRect.left+adjustment;newRect.right=elementRect.right+adjustment;}}
if(placement==='left'||placement==='right'){ if(viewPortRect.top<=elementRect.top||viewPortRect.bottom>=elementRect.bottom){ if(viewPortRect.top>elementRect.top){adjustment=viewPortRect.top-elementRect.top;adjustment=adjustment>maxTopAdjustment?maxTopAdjustment:adjustment;} 
if(viewPortRect.bottom<elementRect.bottom){adjustment=viewPortRect.bottom-elementRect.bottom;adjustment=adjustment<maxBottomAdjustment?maxBottomAdjustment:adjustment;}
newRect.top=elementRect.top+adjustment;newRect.bottom=elementRect.bottom+adjustment;}} 
newRect.arrowAdjustment=adjustment*-1;return newRect;}; var calculateArea=function(placement,elementRect,viewPortRect){var top,left,bottom,right,width,height;if(viewPortRect.top<=elementRect.top){top=elementRect.top;}else{top=viewPortRect.top;}
if(viewPortRect.left<=elementRect.left){left=elementRect.left;}else{left=viewPortRect.left;}
if(viewPortRect.bottom>=elementRect.bottom){bottom=elementRect.bottom;}else{bottom=viewPortRect.bottom;}
if(viewPortRect.right>=elementRect.right){right=elementRect.right;}else{right=viewPortRect.right;}
height=bottom-top;width=right-left;return height*width;};var findElmByClass=function(elms,className){for(var i=elms.length-1;i>=0;i--){var elm=angular.element(elms[i]);if(elm.hasClass(className)){return elm;}}};function applyPlacementCss(top,left){tipElement.css({top:top+'px',left:left+'px'});}
function destroyTipElement(){if($infolayer.$isShown&&tipElement!==null){if(options.autoClose){unbindAutoCloseEvents();}
if(options.keyboard){unbindKeyboardEvents();}}
if(tipScope){tipScope.$destroy();tipScope=null;}
if(tipElement){tipElement.remove();tipElement=$infolayer.$element=null;}}
return $infolayer;} 
function safeDigest(scope){if(!scope.$$phase&&!(scope.$root&&scope.$root.$$phase)){scope.$digest();}}
function findElement(query,element){return angular.element((element||document).querySelectorAll(query));}
var fetchPromises={};function fetchTemplate(template){if(fetchPromises[template]){return fetchPromises[template];}
return(fetchPromises[template]=$q.when($templateCache.get(template)||$http.get(template)).then(function(res){if(angular.isObject(res)){$templateCache.put(template,res.data);return res.data;}
return res;}));}
return InfoLayerFactory;}];}).directive('utkInfoLayer',["$utkInfoLayer",function($utkInfoLayer){'use strict';return{restrict:'A',scope:true,link:function postLink(scope,element,attr){ var options={scope:scope};angular.forEach(['contentTemplate','placement','trigger','content','align','closeOnBlur','autoClose','container','sticky'],function(key){if(angular.isDefined(attr[key])){options[key]=attr[key];}}); scope.infolayer=$utkInfoLayer(element,options); scope.$on('$destroy',function(){if(scope.infolayer){scope.infolayer.destroy();}
options=null;scope.infolayer=null;});}};}]);}());(function(){(function(){'use strict';var LightboxContainerDirective=['lightbox',function(lightbox){return{restrict:'C',link:function link(scope,element){if(!scope.lightboxName){return;} 
lightbox(scope.lightboxName).options({container:element}); if(!lightbox(scope.lightboxName).options().keepOnAway){element.on('click',function(e){if(e.target===element[0]){lightbox(scope.lightboxName).close();}});}}};}];angular.module('ui-toolkit').factory('lightbox',['$compile','$templateCache','$rootScope','$timeout','$log',function($compile,$templateCache,$rootScope,$timeout,$log){ var styles={hidden:'utk-lightbox-hidden',mask:'utk-lightbox-mask utk-lightbox-animate-all',animateMask:'utk-lightbox-animate-mask',text:'utk-lightbox-text'}; var baseOptions={parentScope:$rootScope, name:null, deleteOnClose:true, title:'', content:'', templateTitle:'', templateContent:'', animateEntrance:'', animateShake:'', autoHide:false, keepOnAway:false, hideButtons:false, hideClose:false, css:{}, style:'',
 callback:{close:function(){return true;}, open:function(){return true;}, confirm:function(){return true;}, cancel:function(){return true;}, beforeOpen:function(){return true;}
}, element:null,template:'templates/lightbox.tpl.html',debug:false,useLoadingSpinner:false,type:'standard',buttons:[]}; var lightboxTypes={standard:{},animate:{animateEntrance:'utk-lightbox-animate-entrance',animateEntranceDuration:200,animateShake:'utk-lightbox-animate-shake',animateShakeDuration:150,useLoadingSpinner:false},spinner:{name:'lightbox_spinner',keepOnAway:true,hideClose:true,hideButtons:true,animateEntrance:'',template:'templates/lightboxspinner.tpl.html',deleteOnClose:true},transient:{autoHide:2000,keepOnAway:false,hideButtons:false,hideClose:true,css:{width:'400px'},buttons:[{name:'OK',style:'utk-button-default utk-is-small',click:function(scope){scope.close();}}]},confirm:{title:'Confirm',content:'Are you sure that you want to continue?',keepOnAway:false,hideButtons:false,buttons:[{name:'Confirm',style:'utk-button-primary utk-is-small utk-is-last',click:function(scope){scope.confirm();}},{name:'Cancel',style:'utk-button-default utk-is-small',click:function(scope){scope.cancel();}}]}}; var newOptions={scope:null,open:false,opening:false,deregistering:false,zIndex:0,inner:null,container:null,}; var baseZindex=40;var lightboxes={};var openLightboxes=[];var lightboxBackground;var latestLightbox=null;var isIE8=angular.element(document.body).hasClass('ie8'); var propsInObject=Object.keys?function(obj){return Object.keys(obj).length;}:function(obj){var i=0;for(var k in obj){if(obj.hasOwnProperty(k)){i++;}}
return i;};
 var topAdjustment=isIE8?function(name){lightboxes[name].inner.css('top',Math.floor((document.documentElement.clientHeight-lightboxes[name].inner.outerHeight())/2)+'px');}:function(){};
 var maxHeightAdjustment=function(name){lightboxes[name].inner.css('max-height',document.documentElement.clientHeight-(lightboxes[name].inner.outerHeight()-lightboxes[name].inner.height()));};
 var redrawie8=isIE8?(function(){var dirtyChecking={};var repeat=false;var eventLoop=function(){for(var key in dirtyChecking){if(!dirtyChecking.hasOwnProperty(key)){continue;}
var newHTML=lightboxes[key].inner.html();if(newHTML!==dirtyChecking[key]){lightboxes[key].inner.addClass('redrawie8').removeClass('redrawie8');maxHeightAdjustment(key);topAdjustment(key);dirtyChecking[key]=newHTML;}}
if(repeat){setTimeout(eventLoop,500);}};return function(name,off){
 if(off){delete dirtyChecking[name];if(!propsInObject(dirtyChecking)){repeat=false;}}else{dirtyChecking[name]=lightboxes[name].inner.html();if(propsInObject(dirtyChecking)===1){repeat=true;eventLoop();}}
return null;};})():function(){return null;};
 var loadPsuedoie8=isIE8?function(){var head=document.getElementsByTagName('head')[0],style=document.createElement('style');style.type='text/css';style.styleSheet.cssText=':before,:after{content:none !important';head.appendChild(style);setTimeout(function(){head.removeChild(style);},0);}:function(){};var windowResize=(function(){var delay=null;var func=function(){for(var i=0;i<openLightboxes.length;i++){maxHeightAdjustment(openLightboxes[i].name);topAdjustment(openLightboxes[i].name);}};return function(){if(delay){clearTimeout(delay);}
delay=setTimeout(function(){func();},500);};})();angular.element(window).on('resize',windowResize); var topZindex=function(){if(openLightboxes.length){return openLightboxes[openLightboxes.length-1].zIndex;}
return baseZindex;}; var close=function(name){if(!lightboxes[name]||!lightboxes[name].open){return;} 
if(lightboxes[name].transientTimeout){clearTimeout(lightboxes[name].transientTimeout);} 
for(var i=openLightboxes.length-1;i>=0;i--){if(openLightboxes[i].name===name){openLightboxes.splice(i,1);break;}} 
lightboxes[name].inner.addClass(lightboxes[name].animateEntrance);setTimeout(function(){if(!lightboxes.hasOwnProperty(name)){return;} 
lightboxes[name].container.addClass(styles.hidden); if(lightboxes[name].deleteOnClose){var element=lightboxes[name].element;deregister(name);element.remove();}},lightboxes[name].animateEntranceDuration);lightboxes[name].open=false; if(openLightboxes.length===0){lightboxBackground.addClass(styles.animateMask);setTimeout(function(){lightboxBackground.addClass(styles.hidden);lightboxBackground.removeClass(styles.animateMask);},lightboxes[name].animateEntranceDuration);angular.element(document.body).css('overflow','auto');} 
else{lightboxBackground.css('zIndex',topZindex()-1);} 
redrawie8(name,1);if(lightboxes[name].callback&&lightboxes[name].callback.close){lightboxes[name].callback.close();}};



 var open=function(name){if(!lightboxes[name]||lightboxes[name].open||lightboxes[name].opening){return;} 
lightboxes[name].opening=true;var spinner=null;var handleResult=function(data){lightboxes[name].scope.data=data;openAfterPromise(name);if(spinner&&spinner.close){spinner.close();}}; if(lightboxes[name].callback&&lightboxes[name].callback.beforeOpen){var result=lightboxes[name].callback.beforeOpen(); if(typeof result==='object'&&result.then){if(lightboxes[name].useLoadingSpinner){spinner=get({type:'spinner'}).open();}
result.then(handleResult,handleResult,handleResult);}else{openAfterPromise(name);}}else{openAfterPromise(name);}};var openAfterPromise=function(name){ lightboxes[name].container.removeClass(styles.hidden).css('zIndex',topZindex()+2);lightboxes[name].zIndex=topZindex()+2; lightboxes[name].inner.addClass(lightboxes[name].animateEntrance);setTimeout(function(){lightboxes[name].inner.removeClass(lightboxes[name].animateEntrance);},0);maxHeightAdjustment(name); lightboxBackground.css('zIndex',topZindex()+1); if(openLightboxes.length===0){lightboxBackground.removeClass(styles.hidden); if(!isIE8){lightboxBackground.addClass(styles.animateMask);setTimeout(function(){lightboxBackground.removeClass(styles.animateMask);},0);}
angular.element(document.body).css('overflow','hidden');} 
redrawie8(name);topAdjustment(name);loadPsuedoie8(); if(lightboxes[name].autoHide){lightboxes[name].transientTimeout=setTimeout(function(){close(name);},lightboxes[name].autoHide);} 
lightboxes[name].open=true;lightboxes[name].opening=false;openLightboxes.push(lightboxes[name]); if(lightboxes[name].callback&&lightboxes[name].callback.open){lightboxes[name].callback.open();}};


 var confirm=function(name){if(!lightboxes[name]||!lightboxes[name].open){return;}
if(lightboxes[name].callback&&lightboxes[name].callback.confirm){var result=lightboxes[name].callback.confirm();var spinner=null;var handleResult=function(result){if(spinner&&spinner.close){spinner.close();}
if(result&&((typeof result!=='object')||!result.hasOwnProperty('status')||result.status)){if(typeof result==='object'&&result.message){get({type:'animate transient',content:result.message}).open();}
close(name);}else{if(typeof result==='object'&&result.message){get({type:'animate transient',content:result.message}).open();}
shake(name);}}; if(typeof result==='object'&&result.then){if(lightboxes[name].useLoadingSpinner){spinner=get({type:'spinner'}).open();}
result.then(handleResult,handleResult,handleResult);}
else{handleResult(result);}}else{close(name);}}; var cancel=function(name){if(!lightboxes[name]||!lightboxes[name].open){return;}
if(lightboxes[name].callback&&lightboxes[name].callback.cancel){lightboxes[name].callback.cancel();}
close(name);}; var closeAll=function(){if(!openLightboxes.length){return;}
close(openLightboxes[openLightboxes.length-1].name);if(!openLightboxes.length){return;}
setTimeout(closeAll,openLightboxes[openLightboxes.length-1].animateEntranceDuration);}; var shake=function(name){if(!lightboxes[name]||!lightboxes[name].open){return;}
lightboxes[name].inner.addClass(lightboxes[name].animateShake);setTimeout(function(){lightboxes[name].inner.removeClass(lightboxes[name].animateShake);},lightboxes[name].animateShakeDuration);}; var register=function(options){if(lightboxes.hasOwnProperty(options.name)){return;}
lightboxes[options.name]=options;if(options.debug){$log.log('register '+options.name,lightboxes);}}; var deregister=function(name,alreadyDestroying){if(lightboxes[name]&&lightboxes[name].debug){$log.log('destroy '+name);} 
if(lightboxes[name].deregistering){return;}
lightboxes[name].deregistering=true; if(!alreadyDestroying){lightboxes[name].scope.$destroy();} 
lightboxes[name].element.html(lightboxes[name].content); delete lightboxes[name];}; var onDestroy=function(name){if(lightboxes[name]&&(lightboxes[name].open||lightboxes[name].opening)){$log.error('Lightbox '+name+' received a $scope that is now destroyed. Please provide the lightbox with a scope that persists throughout the lifespan of the lightbox.');}
deregister(name,true);}; var inheritOptions=function(options){ var defaultOptions={};for(var key in baseOptions){if(!baseOptions.hasOwnProperty(key)){continue;}
defaultOptions[key]=baseOptions[key];} 
var i=1;while(!defaultOptions.name){if(!lightboxes.hasOwnProperty(('lightbox_'+i))&&!document.getElementById('#lightbox_'+i)){defaultOptions.name='lightbox_'+i;}
i++;} 
var type=options.type||defaultOptions.type;type=type.split(' ');for(i=0;i<type.length;i++){if(lightboxTypes.hasOwnProperty(type[i])){for(key in lightboxTypes[type[i]]){if(!lightboxTypes[type[i]].hasOwnProperty(key)){continue;}
defaultOptions[key]=lightboxTypes[type[i]][key];}}} 
for(key in defaultOptions){if(!defaultOptions.hasOwnProperty(key)){continue;}
options[key]=(options[key]!==undefined)?options[key]:defaultOptions[key];} 
for(key in newOptions){if(!newOptions.hasOwnProperty(key)){continue;}
options[key]=newOptions[key];}
return options;}; var create=function(userOptions){var options={};for(var key in userOptions){if(userOptions.hasOwnProperty(key)){options[key]=userOptions[key];}} 
inheritOptions(options); if(lightboxes.hasOwnProperty(options.name)){return options.name;} 
if(!options.element){angular.element(document.getElementById('#'+options.name)).remove();options.element=angular.element('<div></div>');angular.element(document.body).append(options.element);} 
register(options);var content='';if(options.templateContent){content=$templateCache.get(options.templateContent);}
else if(options.content){if(options.content.indexOf('<')!==-1){content=options.content;}
else{content='<p class="'+styles.text+'">'+options.content+'</p>';}}
var title='';if(options.templateTitle){title=$templateCache.get(options.templateTitle);}
else if(options.title){title=options.title;} 
var html=$templateCache.get(options.template);html=html.replace('@@REPLACEtitle@@',title);html=html.replace('@@REPLACEcontent@@',content); options.element.attr('id',options.name);options.element.attr('name',options.name);options.element.attr('type',options.type);options.element.attr('lightbox','');options.element.removeClass(styles.hidden); latestLightbox=options.name;options.element.html('<div lightbox-controller ng-controller="lightboxController"></div>');$compile(options.element.contents())(options.parentScope); options.controller.html(html);$compile(options.controller.contents())(options.scope); options.scope.$on('$destroy',function(){onDestroy(options.name);});if(options.debug){$log.log('create '+options.name,options);}
return options.name;}; var getSetOptions=function(name,opt){ if(opt){for(var key in opt){if(!opt.hasOwnProperty(key)){continue;}
lightboxes[name][key]=opt[key];}} 
return lightboxes[name];}; var get=function(param){var lightboxVar;if(typeof param==='string'&&!lightboxes[param]){$log.error('The lightbox "'+param+'" does not exist.');return{};}
 
if(typeof param==='string'&&lightboxes[param]){lightboxVar={name:param,options:function(opt){return getSetOptions(param,opt);},open:function(){open(param);return lightboxVar;},close:function(){close(param);return lightboxVar;},confirm:function(){confirm(param);return lightboxVar;},cancel:function(){cancel(param);return lightboxVar;},shake:function(){shake(param);return lightboxVar;}};}
 
else if(typeof param==='object'){return get(create(param));}
 
else{var lightboxList={};for(var key in lightboxes){if(!lightboxes.hasOwnProperty(key)){continue;}lightboxList[key]=get(key);}
var lightboxListOpen=[];for(var i=0;i<openLightboxes.length;i++){lightboxListOpen.push(get(openLightboxes[i].name));}
lightboxVar={closeAll:function(){closeAll();return lightboxVar;},lightboxes:lightboxList,openLightboxes:lightboxListOpen,latestLightbox:function(){var temp=latestLightbox;latestLightbox=null;return temp;}};}
return lightboxVar;}; lightboxBackground=angular.element('<div class="'+styles.mask+' '+styles.hidden+'"></div>');angular.element(document.body).append(lightboxBackground); return get;}]).controller('lightboxController',['$scope','$timeout','lightbox',function($scope,$timeout,lightbox){ var lightboxName=lightbox().latestLightbox(); $scope.scope=$scope;$scope.lightboxName=lightboxName;$scope.close=function(){lightbox(lightboxName).close();};$scope.cancel=function(){lightbox(lightboxName).cancel();};$scope.confirm=function(){lightbox(lightboxName).confirm();};$scope.shake=function(){lightbox(lightboxName).shake();};$scope.closeAll=function(){lightbox().closeAll();};$scope.options=lightbox(lightboxName).options();lightbox(lightboxName).options({scope:$scope});}])
.directive('lightboxOpen',['lightbox',function(lightbox){return{link:function(scope,element,attr){element.on('click',function(){lightbox(attr.lightboxOpen).open();});}};}]).directive('lightboxClose',['lightbox',function(lightbox){return{link:function(scope,element,attr){element.on('click',function(){lightbox(attr.lightboxClose).close();});}};}]).directive('lightboxCancel',['lightbox',function(lightbox){return{link:function(scope,element,attr){element.on('click',function(){lightbox(attr.lightboxCancel).cancel();});}};}]).directive('lightboxConfirm',['lightbox',function(lightbox){return{link:function(scope,element,attr){element.on('click',function(){lightbox(attr.lightboxConfirm).confirm();});}};}]).directive('lightboxCloseAll',['lightbox',function(lightbox){return{link:function(scope,element){element.on('click',function(){lightbox().closeAll();});}};}]).directive('lightboxShake',['lightbox',function(lightbox){return{link:function(scope,element,attr){element.on('click',function(){lightbox(attr.lightboxShake).shake();});}};}])
.directive('lightboxController',['lightbox',function(lightbox){return{restrict:'A',link:function(scope,element){ lightbox(scope.lightboxName).options({controller:element});}};}])
.directive('lightboxContainer',LightboxContainerDirective).directive('utkLightboxContainer',LightboxContainerDirective)
.directive('utkLightboxPositioning',['lightbox',function(lightbox){return{restrict:'CA',link:function link(scope,element){if(!scope.lightboxName){return;} 
lightbox(scope.lightboxName).options({inner:element}); element.addClass(lightbox(scope.lightboxName).options().style);element.css(lightbox(scope.lightboxName).options().css);}};}])
.directive('lightbox',['lightbox',function(lightbox){return{restrict:'EA',priority:1001,compile:function(element){var html=element.html();element.html('');return function(scope,element,attr){var options={name:attr.name,type:attr.type,templateTitle:attr.templateTitle,title:attr.title,templateContent:attr.templateContent,content:html,element:element,parentScope:scope,animateShake:attr.hasOwnProperty('animateShake')?attr.animateShake:undefined,keepOnAway:attr.hasOwnProperty('keepOnAway'),hideButtons:attr.hasOwnProperty('hideButtons'),deleteOnClose:false,callback:{confirm:(attr.hasOwnProperty('confirmFunc'))?scope[attr.confirmFunc]:function(){return true;},cancel:(attr.hasOwnProperty('cancelFunc'))?scope[attr.cancelFunc]:function(){return true;},close:(attr.hasOwnProperty('closeFunc'))?scope[attr.closeFunc]:function(){return true;},open:(attr.hasOwnProperty('openFunc'))?scope[attr.openFunc]:function(){return true;},beforeOpen:(attr.hasOwnProperty('beforeOpenFunc'))?scope[attr.beforeOpenFunc]:function(){return true;}},buttons:[{name:(attr.hasOwnProperty('cancelName'))?attr.cancelName:'Cancel',style:'utk-button-default utk-is-small',click:function(scope){scope.cancel();}},{name:(attr.hasOwnProperty('confirmName'))?attr.confirmName:'Confirm',style:'utk-button-primary utk-is-small utk-is-last',click:function(scope){scope.confirm();}}]};lightbox(options);};}};}]);})();}());(function(){angular.module('ui-toolkit')
.provider('utkMessageSvc',function(){var config={delay:3000};return{configure:function(overrides){config=angular.extend(config,overrides);},$get:["$timeout",function($timeout){var timer=null;return{isOpen:false,open:function open(_title,_description,keepOpen){this.isOpen=true;this.title=_title?_title.trim():'';this.description=_description?_description.trim():'';if(timer){$timeout.cancel(timer);}
if(!keepOpen){timer=$timeout(this.close.bind(this),config.delay);}},close:function close(){if(timer){$timeout.cancel(timer);}
this.isOpen=false;}};}]};}).directive('utkMessage',["utkMessageSvc",function(utkMessageSvc){return{scope:true,templateUrl:'templates/message.html',link:function(scope){scope.svc=utkMessageSvc;}};}]);}());(function(){angular.module('ui-toolkit').provider('$utkMultiSelect',function(){'use strict';var defaults=this.defaults={element:false,isSmall:false,isTransparent:false,hasLightBg:false,hasResetOption:true,hideTitleCount:false,model:null,maxlen:20,items:[]};this.$get=["$window",function($window){var allMenus=[];var bodyElm=angular.element($window.document.body);var forEach=angular.forEach;function MenuFactory(config){var menu={isOpen:false,selectedItem:null,nodes:[],selectedNode:null};var options=menu.options=angular.extend({},defaults,config);var linkElm,containerElm,menuBoxElm;menu.onMenuKeyDown=function(e){var node;if(e.keyCode===40||e.keyCode===38){ menu.open();if(menu.selectedNode){node=menu.selectedNode;}else if(menu.nodes.length>0){node=menu.nodes[0];}
if(node){setOptionFocusState(node.elm);}
e.stopPropagation();e.preventDefault();}else if(e.keyCode===32){ if(menu.isOpen){menu.close();}else{menu.open();if(menu.selectedNode){node=menu.selectedNode;}else if(menu.nodes.length>0){node=menu.nodes[0];}
if(node){setOptionFocusState(node.elm);}}
e.stopPropagation();e.preventDefault();}};menu.open=function(){try{options.element[0].dispatchEvent(new Event('focus'));}catch(e){}
closeAllMenus();linkElm.addClass('utk-is-open');menuBoxElm.css({display:'block'});var boxWidth=menuBoxElm.prop('offsetWidth'),linkWidth=linkElm.prop('offsetWidth');if(linkWidth>boxWidth){menuBoxElm.css({width:linkWidth+'px'});}
linkElm.off('click',menu.bindOpen);linkElm.off('click',menu.close); setTimeout(function(){bodyElm.on('click',menu.close);},10);menu.isOpen=true;};menu.close=function(){try{options.element[0].dispatchEvent(new Event('blur'));}catch(e){}
if(linkElm){linkElm.removeClass('utk-is-open');linkElm.off('click',menu.close);linkElm.on('click',menu.bindOpen);}
if(menuBoxElm){menuBoxElm.css({display:'none',});}
bodyElm.off('click',menu.close);menu.isOpen=false;};menu.bindOpen=function(e){menu.open();};menu.onOptionKeyDown=function(e,node){if(e.keyCode===40||e.keyCode===38){if(e.keyCode===40){ menu.keyboardScroll(node,node.nextNode);}else{ menu.keyboardScroll(node,node.prevNode);}
e.stopPropagation();e.preventDefault();}else if(e.keyCode===27){ menu.close();e.stopPropagation();e.preventDefault();}else if(e.keyCode===9){ e.stopPropagation();e.preventDefault();}else if(e.keyCode===13){ menu.selectOption(node.item,true);menu.selectedNode=node;var inputElm=node.elm.find('input');inputElm.prop('checked',!inputElm.prop('checked'));e.stopPropagation();e.preventDefault();}};menu.selectOption=function(item,fireCb){if(item){if(options.model){var selected=options.model.$modelValue||[];selected=selected.indexOf(item.value)===-1?selected.concat(item.value):selected.filter(function(v){return v!==item.value});options.model.$setViewValue(selected);}else{item.isSelected=!item.isSelected;}}else{
 if(options.model){options.model.$setViewValue([]);}else{forEach(options.items,function(item){item.isSelected=false;});}
forEach(menu.nodes,function(node){var inputElm=node.elm.find('input');if(inputElm)inputElm.prop('checked',false);});}
menu.selectedItem=item;updateMenuLabel();if(fireCb){options.selectCb(item);}};menu.keyboardScroll=function(oldNode,newNode){if(newNode){removeOptionFocusState(oldNode.elm);setOptionFocusState(newNode.elm);}};menu.destroy=function(){ linkElm.off();
bodyElm.off('click',menu.close);forEach(menu.nodes,function(node){node.elm.off();});linkElm=null;menuBoxElm=null;containerElm=null;var menuIdx=allMenus.indexOf(menu);if(menuIdx!==-1){allMenus.splice(menuIdx,1);}};menu.buildOptions=function(){forEach(menuBoxElm.children(),function(child){angular.element(child).remove();});menu.nodes=[];if(options.hasResetOption){buildResetOption();}
if(options.items.length>0){buildItemOptions();}
updateMenuLabel();setMenuBoxWidth();};var build=function(){if(!options.element){throw'single select menu requires a placeholder element.';}
containerElm=options.element;linkElm=findElmByClass(options.element.find('a'),'utk-dropdown-button');menuBoxElm=findElmByClass(containerElm.find('div'),'utk-menu-box-standard');containerElm.css({display:'inline-block','line-height':0,});if(options.isTransparent){if(options.hasLightBg){linkElm.addClass('utk-button-transparent');}else{linkElm.addClass('utk-button-transparent-light');}}else{linkElm.addClass('utk-button-default');}
if(options.isSmall){linkElm.addClass('utk-is-small');}
linkElm.on('click',menu.bindOpen);linkElm.on('keydown',menu.onMenuKeyDown);};var findElmByClass=function(elms,className){for(var i=elms.length-1;i>=0;i--){var elm=angular.element(elms[i]);if(elm.hasClass(className)){return elm;}}};var closeAllMenus=function(){forEach(allMenus,function(menu){if(menu.isOpen){menu.close();}});};var setOptionFocusState=function(elm){elm.addClass('hover');elm[0].focus();};var removeOptionFocusState=function(elm){elm.removeClass('hover');};var updateMenuLabel=function(){var childNode=linkElm[0].firstChild;if(childNode){linkElm[0].removeChild(childNode);}
var labels;if(options.model){var selected=(options.model.$modelValue||[]);labels=menu.nodes.reduce(function(labels,node){return labels.concat(node.item&&selected.indexOf(node.item.value)!==-1?node.item.label:[]);},[]);}else{labels=menu.nodes.reduce(function(labels,node){return labels.concat(node.item&&node.item.isSelected?node.item.label:[]);},[]);}
var result=buildMenuLabelTitle(labels);linkElm.attr('title',result.title);linkElm.append(result.label);};var buildMenuLabelTitle=function(selectedItemLabels){var result='';var title='';if(selectedItemLabels.length>1){var suffix=options.hideTitleCount?'':' ('+selectedItemLabels.length+')';result=truncate(options.menuLabel,options.maxlen,suffix);}else if(selectedItemLabels.length===1){result=truncate(selectedItemLabels[0],options.maxlen);if(result!==selectedItemLabels[0]){title=selectedItemLabels[0];}}else{result=truncate(options.menuLabel,options.maxlen);if(result!==options.menuLabel){title=options.menuLabel;}}
return{label:result,title:title};};var truncate=function(data,length,suffix,ellipses){ellipses=ellipses||'...';suffix=suffix||'';if(!length)return data+suffix;var result='';var allowedCharLen=length-suffix.length-ellipses.length;if(data.length<=allowedCharLen){result=data+suffix;}else{result=data.substr(0,allowedCharLen)+suffix+ellipses;}
return result;};var buildResetOption=function(){var ulElm=buildDDMenu();var liElm=buildDDItem(null);ulElm.append(liElm);menuBoxElm.append(ulElm);menuBoxElm.append(angular.element('<div class="utk-dropdown-menu-divider" />'));};var buildItemOptions=function(){var ulElm=buildDDMenu();forEach(options.items,function(item){var liElm=buildDDItem(item);ulElm.append(liElm);});menuBoxElm.append(ulElm);};var buildDDMenu=function(){var ulElm=angular.element('<ul class="utk-dropdown-menu" />');if(options.isSmall){ulElm.addClass('utk-dropdown-menu-small');}
return ulElm;};var buildDDItem=function(item){var liElm=angular.element('<li />');var linkElm=angular.element('<a href="javascript:void(0)" />');var prevNode=menu.nodes.slice(-1)[0]||null;var linkLabel=item?item.label:(angular.isString(options.hasResetOption)?options.hasResetOption:'Any');var node={elm:linkElm,item:item,nextNode:null,prevNode:prevNode};if(prevNode){prevNode.nextNode=node;}
if(item&&((options.model&&angular.isArray(options.model.$modelValue)&&options.model.$modelValue.indexOf(item.value)!==-1)||(!options.model&&item.isSelected))){menu.selectedNode=node;menu.selectedItem=item;}
menu.nodes.push(node);if(item){var labelElm=angular.element('<label class="utk-dropdown-choice-label" />');var inputElm=angular.element('<input type="checkbox" class="utk-dropdown-choice" />');if((options.model&&angular.isArray(options.model.$modelValue)&&options.model.$modelValue.indexOf(item.value)!==-1)||(!options.model&&item.isSelected)){inputElm.prop('checked',true);}
labelElm.append(inputElm);labelElm.append(linkLabel);inputElm.on('click',function(e){menu.selectOption(item,true);e.stopImmediatePropagation();});labelElm.on('click',function(e){menu.selectOption(item,true);inputElm.prop('checked',!inputElm.prop('checked'));e.stopImmediatePropagation();e.preventDefault();});linkElm.append(labelElm);}else{linkElm.append(linkLabel);linkElm.on('click',function(e){menu.selectOption(item,true);e.stopImmediatePropagation();});}
linkElm.on('keydown',function(e){menu.onOptionKeyDown(e,node);});liElm.append(linkElm);return liElm;};var setMenuBoxWidth=function(){var clonedLinkElm=linkElm.clone();clonedLinkElm.css({position:'absolute',left:'-10000px'});var childNode=clonedLinkElm[0].firstChild;if(childNode){clonedLinkElm[0].removeChild(childNode);}
var allLabels=[];var largestLabel=options.menuLabel;forEach(options.items,function(item){allLabels.push(item.label);if(item.label.length>largestLabel.length){largestLabel=item.label;}});var allItemsLabel=buildMenuLabelTitle(allLabels);var largestSinglelabel=buildMenuLabelTitle([largestLabel]);var largestOfBoth=largestSinglelabel.label;if(allItemsLabel.label.length>largestOfBoth.length){largestOfBoth=allItemsLabel.label;}
clonedLinkElm.append(largestOfBoth);bodyElm.append(clonedLinkElm);var menuBoxMinWidth=clonedLinkElm[0].offsetWidth;clonedLinkElm.remove();menuBoxElm.css({'min-width':menuBoxMinWidth+'px'});};build();allMenus.push(menu);return menu;}
return MenuFactory;}];}).directive('utkMultiSelect',["$utkMultiSelect",function($utkMultiSelect){'use strict';return{restrict:'AC',require:'?ngModel',scope:{items:'=',onSelect:'&',isSmall:'=',isTransparent:'=',hasLightBg:'=',menuLabel:'@',hasResetOption:'=',hideTitleCount:'=',maxlen:'='},replace:true,templateUrl:'templates/selectmenu.tpl.html',link:function(scope,element,attr,ngModel){var itemSelected=function(selectedItem){scope.$apply(function(){if(scope.onSelect){scope.onSelect({item:selectedItem});}});};var options={element:element,items:scope.items||[],selectCb:itemSelected,model:ngModel};angular.forEach(['isSmall','menuLabel','hasResetOption','isTransparent','hasLightBg','hideTitleCount','maxlen'],function(key){if(angular.isDefined(attr[key])){options[key]=scope[key];}});var $menu=$utkMultiSelect(options);scope.$watch('items',function(newVal){$menu.options.items=newVal;$menu.buildOptions();},true);if(ngModel){scope.$watch(function(){return ngModel.$modelValue;},function(newVal){$menu.options.model=ngModel;$menu.buildOptions();},true);}
scope.$on('$destroy',function(){$menu.destroy();options=null;$menu=null;});}};}]);}());(function(){angular.module('ui-toolkit').provider('$utkSingleSelect',function(){'use strict';var defaults=this.defaults={element:false,isSmall:false,isTransparent:false,hasLightBg:false,hasResetOption:true,linkCssClass:'',staticLabel:false,model:null,maxlen:20,items:[]};this.$get=["$window",function($window){var allMenus=[];var bodyElm=angular.element($window.document.body);var forEach=angular.forEach;function MenuFactory(config){var menu={isOpen:false,selectedItem:null,nodes:[],selectedNode:null};var options=menu.options=angular.extend({},defaults,config);var linkElm,containerElm,menuBoxElm;menu.onMenuKeyDown=function(e){var node;if(e.keyCode===40||e.keyCode===38){ menu.open();if(menu.selectedNode){node=menu.selectedNode;}else if(menu.nodes.length>0){node=menu.nodes[0];}
if(node){setOptionFocusState(node.elm);}
e.stopPropagation();e.preventDefault();}else if(e.keyCode===32){ if(menu.isOpen){menu.close();}else{menu.open();if(menu.selectedNode){node=menu.selectedNode;}else if(menu.nodes.length>0){node=menu.nodes[0];}
if(node){setOptionFocusState(node.elm);}}
e.stopPropagation();e.preventDefault();}};menu.open=function(){closeAllMenus();linkElm.addClass('utk-is-open');menuBoxElm.css({display:'block'});var boxWidth=menuBoxElm.prop('offsetWidth'),linkWidth=linkElm.prop('offsetWidth');if(linkWidth>boxWidth){menuBoxElm.css({width:linkWidth+'px'});}
linkElm.off('click',menu.bindOpen);linkElm.off('click',menu.close); setTimeout(function(){bodyElm.on('click',menu.close);},10);menu.isOpen=true;};menu.close=function(){if(linkElm){linkElm.removeClass('utk-is-open');linkElm.off('click',menu.close);linkElm.on('click',menu.bindOpen);}
if(menuBoxElm){menuBoxElm.css({display:'none',});}
bodyElm.off('click',menu.close);menu.isOpen=false;};menu.bindOpen=function(e){menu.open();};menu.onOptionKeyDown=function(e,node){if(e.keyCode===40||e.keyCode===38){if(e.keyCode===40){ menu.keyboardScroll(node,node.nextNode);}else{ menu.keyboardScroll(node,node.prevNode);}
e.stopPropagation();e.preventDefault();}else if(e.keyCode===27){ menu.close();e.stopPropagation();e.preventDefault();}else if(e.keyCode===9){ e.stopPropagation();e.preventDefault();}else if(e.keyCode===13){ menu.selectOption(node.item,true);menu.selectedNode=node;menu.close();linkElm[0].focus();e.stopPropagation();e.preventDefault();}};menu.selectOption=function(item,fireCb){if(menu.isOpen)menu.close();if(options.model){options.model.$setViewValue(item?item.value:null);}else{if(menu.selectedItem)menu.selectedItem.isSelected=false;if(item)item.isSelected=true;}
menu.selectedItem=item;updateMenuLabel(item);if(fireCb){options.selectCb(item);}};menu.keyboardScroll=function(oldNode,newNode){if(newNode){removeOptionFocusState(oldNode.elm);setOptionFocusState(newNode.elm);}};menu.destroy=function(){ linkElm.off();bodyElm.off('click',menu.close);forEach(menu.nodes,function(node){node.elm.off();});linkElm=null;menuBoxElm=null;containerElm=null;var menuIdx=allMenus.indexOf(menu);if(menuIdx!==-1){allMenus.splice(menuIdx,1);}};menu.buildOptions=function(){forEach(menuBoxElm.children(),function(child){angular.element(child).remove();});updateMenuLabel(null);if(options.hasResetOption){buildResetOption();}
if(options.items.length>0){buildItemOptions();}
setMenuBoxWidth();};var build=function(){if(!options.element){throw'single select menu requires a placeholder element.';}
containerElm=options.element;linkElm=findElmByClass(options.element.find('a'),'utk-dropdown-button');menuBoxElm=findElmByClass(containerElm.find('div'),'utk-menu-box-standard');containerElm.css({display:'inline-block','line-height':0,});linkElm.addClass(options.linkCssClass);if(options.isTransparent){if(options.hasLightBg){linkElm.addClass('utk-button-transparent');}else{linkElm.addClass('utk-button-transparent-light');}}else{linkElm.addClass('utk-button-default');}
if(options.isSmall){linkElm.addClass('utk-is-small');}
linkElm.on('click',menu.bindOpen);linkElm.on('keydown',menu.onMenuKeyDown);};var findElmByClass=function(elms,className){for(var i=elms.length-1;i>=0;i--){var elm=angular.element(elms[i]);if(elm.hasClass(className)){return elm;}}};var closeAllMenus=function(){forEach(allMenus,function(menu){if(menu.isOpen){menu.close();}});};var setOptionFocusState=function(elm){elm.addClass('hover');elm[0].focus();};var removeOptionFocusState=function(elm){elm.removeClass('hover');};var updateMenuLabel=function(item){var childNode=linkElm[0].firstChild;if(childNode){linkElm[0].removeChild(childNode);}
var origLabel=item?item.label:options.menuLabel;var truncLabel=truncate(origLabel,options.maxlen);if(origLabel!==truncLabel){linkElm.attr('title',origLabel);}
if(options.staticLabel){truncLabel=options.menuLabel;}
linkElm.append(truncLabel);};var truncate=function(data,length,suffix,ellipses){ellipses=ellipses||'...';suffix=suffix||'';if(!length)return data+suffix;var result='';var allowedCharLen=length-suffix.length-ellipses.length;if(data.length<=allowedCharLen){result=data+suffix;}else{result=data.substr(0,allowedCharLen)+suffix+ellipses;}
return result;};var buildResetOption=function(){var ulElm=buildDDMenu();var liElm=buildDDItem(null);ulElm.append(liElm);menuBoxElm.append(ulElm);menuBoxElm.append(angular.element('<div class="utk-dropdown-menu-divider" />'));};var buildItemOptions=function(){var ulElm=buildDDMenu();forEach(options.items,function(item){var liElm=buildDDItem(item);ulElm.append(liElm);});menuBoxElm.append(ulElm);};var buildDDMenu=function(){var ulElm=angular.element('<ul class="utk-dropdown-menu" />');if(options.isSmall){ulElm.addClass('utk-dropdown-menu-small');}
return ulElm;};var buildDDItem=function(item){var liElm=angular.element('<li />');var linkElm=angular.element('<a href="javascript:void(0)" />');var prevNode=menu.nodes.slice(-1)[0]||null;var node={elm:linkElm,item:item,nextNode:null,prevNode:prevNode};if(prevNode){prevNode.nextNode=node;}
if(item&&((options.model&&options.model.$modelValue===item.value)||(!options.model&&item.isSelected))){menu.selectedNode=node;menu.selectedItem=item;updateMenuLabel(item);}
menu.nodes.push(node);var origLabel=item?item.label:(angular.isString(options.hasResetOption)?options.hasResetOption:'Any');var truncLabel=truncate(origLabel,40);if(origLabel!==truncLabel){linkElm.attr('title',origLabel);}
linkElm.append(truncLabel);linkElm.on('click',function(){menu.selectOption(item,true);});linkElm.on('keydown',function(e){menu.onOptionKeyDown(e,node);});liElm.append(linkElm);return liElm;};var setMenuBoxWidth=function(){var clonedLinkElm=linkElm.clone();clonedLinkElm.css({position:'absolute',left:'-10000px'});var largestLabel=options.menuLabel;forEach(options.items,function(item){if(item.label.length>largestLabel.length){largestLabel=item.label;}});var truncLabel=truncate(largestLabel,20);var childNode=clonedLinkElm[0].firstChild;if(childNode){clonedLinkElm[0].removeChild(childNode);}
clonedLinkElm.append(truncLabel);bodyElm.append(clonedLinkElm);var menuBoxMinWidth=clonedLinkElm[0].offsetWidth;var linkMinWidth=linkElm[0].offsetWidth;var minWidth=menuBoxMinWidth;if(menuBoxMinWidth<linkMinWidth){minWidth=linkMinWidth;}
clonedLinkElm.remove();menuBoxElm.css({'min-width':minWidth+'px'});};build();allMenus.push(menu);return menu;}
return MenuFactory;}];}).directive('utkSingleSelect',["$utkSingleSelect",function($utkSingleSelect){'use strict';return{restrict:'AC',require:'?ngModel',scope:{items:'=',onSelect:'&',isSmall:'=',isTransparent:'=',hasLightBg:'=',menuLabel:'@',hasResetOption:'=',linkCssClass:'@',staticLabel:'=',maxlen:'='},replace:true,templateUrl:'templates/selectmenu.tpl.html',link:function(scope,element,attr,ngModel){var itemSelected=function(selectedItem){scope.$apply(function(){if(scope.onSelect){scope.onSelect({item:selectedItem});}});};var options={element:element,items:scope.items,selectCb:itemSelected,model:ngModel};angular.forEach(['isSmall','menuLabel','hasResetOption','isTransparent','hasLightBg','linkCssClass','staticLabel','maxlen'],function(key){if(angular.isDefined(attr[key])){options[key]=scope[key];}});if(!options.menuLabel&&options.menuLabel!==''){options.menuLabel='';}
var $menu=$utkSingleSelect(options);scope.$watch('items',function(newVal){$menu.options.items=newVal;$menu.buildOptions();},true);if(ngModel){scope.$watch(function(){return ngModel.$modelValue;},function(newVal){$menu.options.model=ngModel;$menu.buildOptions();},true);}
scope.$on('$destroy',function(){$menu.destroy();options=null;$menu=null;});}};}]);}());(function(){angular.module('ui-toolkit').directive('utkPagination',[function(){'use strict';return{scope:{current:'=utkPagination', max:'=utkPaginationMax',disabled:'=utkPaginationDisabled',onChange:'&utkPaginationOnchange',},templateUrl:'templates/pagination.html',link:function(scope,element,attrs){scope.range=6;scope.select=function(page){if(!scope.disabled&&typeof scope.onChange==='function'){scope.onChange({page:page});}};
scope.getPagesBetweenEllipses=function(){if(scope.max<=0){return[];}
var midIdx=scope.current; if(scope.current<2){midIdx=2;}
if(scope.current>scope.max-3){midIdx=scope.max-3;}
return[midIdx-1,midIdx,midIdx+1];};
scope.getAllPages=function(){var arr=[];for(var i=0;i<scope.max;i++){arr.push(i);}
return arr;};}};}]);}());(function(){angular.module('ui-toolkit')
.factory('DispatchingController',["$rootScope",function($rootScope){'use strict';function DispatchingController($scope){var delisteners=[];if(!$scope){throw new Error('A DispatchingController must have $scope to function. It wasn\'t found.');}
this.dispatch=$rootScope.$emit.bind($rootScope);this.listen=function(){var args=Array.prototype.slice.call(arguments),deListenFunc=$rootScope.$on.apply($rootScope,args);delisteners.push(deListenFunc);return deListenFunc;};$scope.$on('$destroy',function(){delisteners.forEach(function(deListenFunc){if(angular.isFunction(deListenFunc)){deListenFunc.call();}});});}
return DispatchingController;}]);}());(function(){angular.module('ui-toolkit')
.factory('utkMwebSvc',["$window",function($window){'use strict';return{isMobileWeb:function(){if($window.innerWidth<=800&&$window.innerHeight<=600){return true;}else{return false;}}};}]);}());(function(){if(!String.prototype.trim){(function(){'use strict'; var rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(rtrim,'');};})();}}());(function(){(function(){var supported=typeof document.createElement('details').open==='boolean';angular.module('ui-toolkit')
.directive('utkToggle',function(){return{scope:false,restrict:'C',link:function(scope,el,attrs){if(supported)return;attrs.$addClass('utk-toggle-compat');var isOpen=attrs.open!==undefined;function toggle(){isOpen=!isOpen
el.attr('open',isOpen?true:null);}
el.on('click',toggle);scope.$on('$destroy',function(){el.off('click',toggle);});}};});}())}());(function(){angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/accordion-item.html','<div class="utk-accrd-step-title" ng-if="title">\n    <div class="utk-accrd-step-title-name">{{ title }}</div>\n    <a class="utk-accrd-step-edit" ng-if="visited" ng-click="$accordion.select(name)">Edit</a>\n    <i class="utk-accrd-step-status utk-icon-medium utk-icon-{{ icon }}" ng-if="icon"></i>\n</div>\n<div class="utk-accrd-step-summary" ng-show="visited && valid && submitted"></div>\n<div class="utk-accrd-step-container">\n    <div class="utk-accrd-step-body" ng-transclude></div>\n    <div class="utk-accrd-step-actions">\n        <ul class="utk-list-inline utk-button-row">\n            <li>\n                <button class="utk-button-primary"\n                    data-elm-id="utk-accordion-next"\n                    ng-disabled="pending"\n                    ng-click="next()">{{ $accordion.isFinal() ? text(\'Complete\') : text(\'Next\') }}</button>\n            </li>\n            <li class="utk-is-last" ng-if="required && !pending && !$accordion.isFinal()">\n                <a ng-click="skip()">Do This Later</a>\n            </li>\n        </ul>\n    </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/autosuggest.tpl.html','<div class="utk-autosuggest-container" ng-style="{\'margin-right\': button.width}">\n    <div class="utk-autosuggest-background"><!--\n    --><div ng-if="showCompletion" class="utk-autosuggest-completion"><!--\n        --><span><!--\n        --><span ng-repeat="section in suggestLabel" ng-class="section.match?(inputZ===0? \'utk-autosuggest-input-hidden\':\'utk-autosuggest-input-entered\'):\'utk-autosuggest-input-suggested\'">{{(inputZ===0 && $index===0)?userInput:section.label}}</span><!--\n        --></span><!--\n        --><span> </span><!--\n        --><div ng-if="!button.visible" class="utk-autosuggest-right">{{suggestSubLabel}}</div><!--\n    --></div>\n        <!--div class="utk-util-fr">\n            <a ng-if="button.visible" class="button-primary button-small utk-autosuggest-button" ng-class="button.css" ng-click="buttonClick()">{{button.label}}</a>\n        </div-->\n        <a ng-if="button.visible" class="utk-autosuggest-search" ng-class="button.css" data-elm-id="Header_Search_Btn" ng-click="buttonClick()" ng-attr-title="{{button.label}}"></a>\n    </div>\n    <input class="utk-autosuggest-input" type="text" ng-style="{\'z-index\': inputZ}"\n        utk-placeholder="placeholder"\n        ng-model="userInput"\n        ng-trim="false"\n        ng-change="userInputChange()"\n        ng-keyup="keyPress($event)"\n        ng-keydown="keyDown($event)"\n        ng-blur="onBlur()"\n        ng-focus="onFocus()"\n        ng-class="css"\n        data-elm-id="Header_Search_Text"\n    ></input>\n    <ul class="utk-autosuggest-list" ng-show="showSuggestions()">\n        <li ng-repeat="suggestion in suggestions" ng-class="{\'utk-is-selected\': suggestion.selected}" ng-click="suggestionClick($event, suggestion)">\n                <span><span ng-repeat="section in suggestion.displayLabel" ng-class="{\'utk-is-suggested\': !section.match}">{{section.label}}</span></span>\n                <div class="utk-autosuggest-right">{{suggestion.subLabel}}</div>\n        </li>\n    </ul>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/calendar.tpl.html','<div class="utk-info-layer">\n    <span class="utk-info-layer-arrow-border"></span>\n    <span class="utk-info-layer-arrow"></span>\n    <div class="utk-info-layer-cal-content">\n        <div class="utk-cal-box">\n            <div class="utk-cal-header">\n                <a class="utk-button-transparent utk-button-icon-small utk-icon-triangle-left-light utk-util-fl" href="javascript:void(0)" ng-click="$selectPane(-1)"></a>\n                <span ng-bind="headerTitle"></span>\n                <a class="utk-button-transparent utk-button-icon-small utk-icon-triangle-right-light utk-util-fr" href="javascript:void(0)" ng-click="$selectPane(+1)"></a>\n            </div>\n            <div  ng-bind-html="labels"></div>\n            <a class="utk-cal-day" ng-repeat="(i, el) in days" ng-class="{\'utk-is-selected\': el.selected, \'utk-is-today\': el.isToday && !el.selected, \'utk-is-disabled\': el.disabled, \'is-empty\': el.isEmpty}" ng-click="$select(el)" ng-bind="el.label"></a>\n        </div>\n    </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/counter.tpl.html','    <strong ng-class="counterCtrl.styling" ng-cloak>\n        <span class="utk-icon-label-small" ng-show="counterCtrl.showClock">\n            <i class="utk-icon-label-icon red-clock" ng-class="{true: \'utk-counter-urgent\', false: \'utk-counter-neutral\'}[counterCtrl.isEndingSoon]"></i><span ng-bind="counterCtrl.time"></span>\n        </span>\n        <div ng-bind="counterCtrl.msg"></div>\n    </strong>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/dropdownmenu.tpl.html','<div class="drop-down" >\n    <a class="utk-dropdown-button" href="javascript:void(0)"></a>\n    <div class="utk-menu-box" style="margin-top: -1px;" ng-transclude>\n    </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/infolayer.tpl.html','<div class="utk-info-layer">\n    <a class="utk-info-layer-close utk-button-transparent utk-button-icon-small close-grey-basic" ng-click="$toggle()"></a>\n    <span class="utk-info-layer-arrow-border"></span>\n    <span class="utk-info-layer-arrow"></span>\n    <div class="utk-info-layer-content" ng-bind="content"></div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/lightbox.tpl.html','<div class="utk-lightbox-container utk-lightbox-hidden" ng-click=\'closeOnAway()\'>\n    <div class="utk-lightbox utk-lightbox-positioning utk-lightbox-animate-all">\n        <div class="utk-lightbox-content">\n            <h3 class="utk-lightbox-title" ng-if="options.title">@@REPLACEtitle@@</h3>\n            <div class="utk-lightbox-no-title" ng-if="!options.title && !options.hideClose"></div>\n            @@REPLACEcontent@@\n            <div class="utk-util-clearfix" ng-if="!options.hideButtons && options.buttons.length">\n                <ul class="utk-list-inline utk-lightbox-button-row">\n                    <li ng-repeat="button in options.buttons" ng-class="button.style" ng-click="button.click(scope)" ng-bind="button.name"></li>\n                </ul>\n            </div>\n        </div>\n        <a ng-if="!options.hideClose" ng-click="close()" class="utk-lightbox-close utk-button-transparent utk-button-icon-medium close-grey-basic"></a>\n    </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/lightboxspinner.tpl.html','<div class="utk-lightbox-container utk-lightbox-hidden">\n    <div class="msg-processing-ind utk-lightbox-positioning"></div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/message.html','<div class="utk-msg-transient-container"\n  ng-class="{\'utk-is-open\': svc.isOpen}"\n  ng-click="svc.close()">\n  <div class="utk-msg-transient">\n    <h6 ng-if="svc.title">{{svc.title}}</h6>\n    <div ng-if="svc.description">{{svc.description}}</div>\n  </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/pagination.html','<div ng-if="max > 0">\n    <!-- for no ellipsis version (max <= range) -->\n    <ul class="utk-pagination utk-list-inline" ng-if="max <= range">\n        <!-- Previous button. -->\n        <li class="utk-pagination-item utk-pagination-prev" ng-if="current > 0">\n            <a ng-click="select(current - 1)"></a>\n        </li>\n\n        <!-- Pages are array index numbering friendly, convert to human friendly numbering. -->\n        <li class="utk-pagination-item" ng-class="{\'utk-is-current\': page === current}"\n            ng-repeat="page in getAllPages()">\n            <a ng-click="select(page)">{{page + 1}}</a>\n        </li>\n\n        <!-- Next button. -->\n        <li class="utk-pagination-item utk-pagination-next" ng-if="current < max - 1" >\n            <a ng-click="select(current + 1)"></a>\n        </li>\n    </ul>\n\n    <!-- full version (max > range) -->\n    <ul class="utk-pagination utk-list-inline" ng-if="max > range">\n        <!-- Previous button. -->\n        <li class="utk-pagination-item utk-pagination-prev" ng-if="current > 0" >\n            <a ng-click="select(current - 1)"></a>\n        </li>\n\n        <!-- Min page, in human friendly 1 based indexing. -->\n        <li class="utk-pagination-item" ng-class="{\'utk-is-current\': current === 0}">\n            <!-- Communication with JS is via array style indexing. -->\n            <a ng-click="select(0)">1</a>\n        </li>\n        <!-- Left ellipsis -->\n        <li class="utk-pagination-item" ng-if="(max > range) && (current > 2)">...</li>\n        <!-- Pages are array index numbering friendly, convert to human friendly numbering. -->\n        <li class="utk-pagination-item" ng-class="{\'utk-is-current\': page === current}"\n            ng-repeat="page in getPagesBetweenEllipses()">\n            <a ng-click="select(page)">{{page + 1}}</a>\n        </li>\n        <!-- Right ellipsis -->\n        <li class="utk-pagination-item" ng-if="(max > range) && (current < max - 2)" >...</li>\n        <!-- Max page, in human friendly 1 based indexing. -->\n        <li class="utk-pagination-item" ng-class="{\'utk-is-current\': current === max - 1}">\n            <a ng-click="select(max - 1)">{{max}}</a>\n        </li>\n\n        <!-- Next button. -->\n        <li class="utk-pagination-item utk-pagination-next" ng-if="current < max - 1">\n            <a ng-click="select(current + 1)"></a>\n        </li>\n    </ul>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/selectmenu.tpl.html','<div class="drop-down" >\n    <a class="utk-dropdown-button" href="javascript:void(0)"></a>\n    <div class="utk-menu-box-standard" style="margin-top: -1px; line-height: 26px;">\n\n    </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('ui-toolkit').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('templates/badges.svg','<svg width="0" height="0" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <symbol viewBox="0 0 100 100" id="badge-broker-co-op">\n        <g>\n            <path d="M44.7604,78.0252333 C43.9014,81.0682333 39.6417333,83.1019 36.7157333,81.8652333 C35.4064,81.3099 34.5980667,79.8639 34.9340667,78.4959 C35.1444,77.6349 35.5107333,76.8129 35.8360667,75.9002333 C35.1854,76.0709 34.5610667,76.2575667 33.9264,76.4022333 C31.9797333,76.8442333 30.3840667,76.1999 29.8377333,74.6282333 C29.6284,74.0189 29.6937333,73.2772333 29.7877333,72.6202333 C29.8767333,72.0005667 30.1687333,71.4122333 30.4164,70.6799 C29.7397333,70.8499 29.1670667,70.9995667 28.5900667,71.1392333 C27.3717333,71.4342333 26.2497333,71.3529 25.3514,70.3405667 C24.4467333,69.3232333 24.2527333,68.1945667 24.7720667,66.9322333 C24.9607333,66.4685667 25.1007333,65.9865667 25.3077333,65.3812333 C24.6424,65.5642333 24.0914,65.7392333 23.5294,65.8662333 C21.1130667,66.4189 19.2414,64.8912333 19.2927333,62.4199 C19.3507333,59.6629 21.7144,56.8169 24.3070667,56.3722333 C27.2580667,55.8662333 29.5740667,58.1462333 29.2304,61.0805667 C29.2417333,60.9732333 29.2567333,60.8582333 29.2627333,60.8582333 L29.2600667,60.8582333 C29.2667333,60.8582333 29.2667333,60.7329 29.2627333,60.7722333 C33.1937333,61.0775667 34.7307333,62.9212333 34.7307333,66.1652333 C36.3347333,66.0199 37.6247333,66.5679 38.7534,67.9139 C39.8540667,69.2282333 40.4014,70.4212333 39.8754,72.0335667 C40.5647333,71.9799 40.5410667,72.5365667 41.1307333,72.5992333 C43.8867333,72.8872333 45.5144,75.3472333 44.7604,78.0252333 M77.3530667,56.4025667 C72.0884,51.1762333 61.9624,41.0075667 61.9624,41.0075667 C59.5817333,38.5479 57.8094,38.5139 55.1817333,39.8745667 C52.4347333,41.1135667 51.2787333,41.8709 48.5900667,43.2372333 C47.3360667,43.8732333 46.1017333,44.5419 44.8417333,45.1699 C42.6384,46.2682333 40.0097333,45.3995667 38.8570667,43.2132333 C37.7320667,41.0855667 38.5147333,38.4282333 40.6287333,37.2402333 C46.9557333,33.6799 53.2904,30.1272333 59.6214,26.5699 C61.1350667,25.7175667 62.7414,25.0455667 64.4324,25.8065667 C65.6494,26.3512333 66.7980667,27.1315667 67.8410667,27.9762333 C70.3264,29.9875667 72.7237333,32.1062333 75.1694,34.1679 C76.2670667,35.0925667 77.5937333,35.4715667 78.9697333,35.1922333 C82.9760667,34.3795667 86.9654,33.4665667 90.9617333,32.5892333 C91.0580667,32.5692333 96.3317333,31.1165667 96.4654,31.0639 C88.9834,12.8392333 71.0287333,-0.0001 50.0647333,-0.0001 C30.8350667,-0.0001 14.1374,10.8032333 5.7314,26.6565667 C5.8044,26.6832333 19.0017333,31.4965667 21.8804,32.4469 C24.2710667,33.2359 26.5470667,33.0015667 28.7140667,31.6249 C32.1077333,29.4659 35.6307333,27.5395667 39.4304,26.1745667 C42.6974,24.9999 45.8207333,25.2705667 48.7417333,27.2092333 C49.1407333,27.4745667 49.4857333,27.8219 49.9237333,28.1862333 C49.6094,28.3765667 49.3770667,28.5215667 49.1407333,28.6579 C46.0207333,30.4669 42.8614,32.2125667 39.7914,34.1039 C36.3527333,36.2179 35.0254,39.9549 36.2964,43.4965667 C37.3887333,46.5419 40.3120667,48.7505667 43.4860667,48.6579 C44.7237333,48.6212333 46.0010667,48.1902333 47.1620667,47.7062333 C49.7094,46.6469 52.1980667,45.4369 54.7094,44.2899 C57.1254,43.1889 58.6220667,43.1412333 60.5074,45.0182333 L75.5104,59.9419 C76.9620667,61.3912333 77.0177333,63.5839 75.6460667,64.9599 C74.2634,66.3465667 72.3567333,66.2952333 70.8577333,64.8289 C70.1000667,63.8229 68.8574,65.1959 69.7587333,65.7639 C71.3934,67.4582333 71.1284,69.6999 69.3720667,71.0105667 C67.9387333,72.0815667 66.0117333,71.8569 64.6367333,70.4925667 C63.3904,68.9455667 63.0710667,70.6295667 63.5200667,71.1732333 C64.1620667,72.1385667 64.2104,72.3799 63.9014,73.8572333 C63.5617333,75.1462333 62.7000667,75.9702333 61.3934,76.2912333 C60.0790667,76.6129 58.4667333,75.7342333 57.5300667,74.7935667 C56.8827333,73.6932333 55.7540667,74.4429 56.3050667,75.2085667 C57.7414,76.7472333 57.3280667,78.4049 55.8890667,79.7289 C54.4310667,81.0659 52.3644,80.9145667 50.8777333,79.4065667 C49.9280667,78.4425667 49.2440667,77.3799 49.2454,75.8085667 C47.9787333,72.4519 47.5657333,71.0789 44.4224,69.0132333 C44.1517333,68.8342333 43.8040667,68.5672333 43.6977333,68.2645667 C42.8857333,65.9639 41.4014,64.7802333 39.1334,63.3745667 C38.8547333,63.2572333 38.5717333,62.9482333 38.4607333,62.6612333 C37.6360667,60.5179 36.1914,59.0015667 34.0577333,58.1135667 C33.7744,57.9952333 33.4624,57.7019 33.3627333,57.4202333 C31.9877333,53.4902333 27.9780667,51.5769 23.7734,52.5445667 C20.8464,53.2192333 18.8180667,54.9819 17.6684,57.7522333 C17.6194,57.8655667 17.5520667,57.9749 17.5037333,58.0669 C16.0660667,57.6335667 1.41173333,52.8395667 6.66666667e-05,52.4135667 C1.26273333,78.9062333 23.1934,99.9999 50.0647333,99.9999 C76.2864,99.9999 97.8017333,79.9129 100.000067,54.3242333 C99.8397333,54.3579 85.7560667,57.3179 83.0174,57.7265667 C81.0294,58.0212333 78.8020667,57.8409 77.3530667,56.4025667"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-broker-commission-available">\n        <g>\n            <path d="M44.7604,78.0252333 C43.9014,81.0682333 39.6417333,83.1019 36.7157333,81.8652333 C35.4064,81.3099 34.5980667,79.8639 34.9340667,78.4959 C35.1444,77.6349 35.5107333,76.8129 35.8360667,75.9002333 C35.1854,76.0709 34.5610667,76.2575667 33.9264,76.4022333 C31.9797333,76.8442333 30.3840667,76.1999 29.8377333,74.6282333 C29.6284,74.0189 29.6937333,73.2772333 29.7877333,72.6202333 C29.8767333,72.0005667 30.1687333,71.4122333 30.4164,70.6799 C29.7397333,70.8499 29.1670667,70.9995667 28.5900667,71.1392333 C27.3717333,71.4342333 26.2497333,71.3529 25.3514,70.3405667 C24.4467333,69.3232333 24.2527333,68.1945667 24.7720667,66.9322333 C24.9607333,66.4685667 25.1007333,65.9865667 25.3077333,65.3812333 C24.6424,65.5642333 24.0914,65.7392333 23.5294,65.8662333 C21.1130667,66.4189 19.2414,64.8912333 19.2927333,62.4199 C19.3507333,59.6629 21.7144,56.8169 24.3070667,56.3722333 C27.2580667,55.8662333 29.5740667,58.1462333 29.2304,61.0805667 C29.2417333,60.9732333 29.2567333,60.8582333 29.2627333,60.8582333 L29.2600667,60.8582333 C29.2667333,60.8582333 29.2667333,60.7329 29.2627333,60.7722333 C33.1937333,61.0775667 34.7307333,62.9212333 34.7307333,66.1652333 C36.3347333,66.0199 37.6247333,66.5679 38.7534,67.9139 C39.8540667,69.2282333 40.4014,70.4212333 39.8754,72.0335667 C40.5647333,71.9799 40.5410667,72.5365667 41.1307333,72.5992333 C43.8867333,72.8872333 45.5144,75.3472333 44.7604,78.0252333 M77.3530667,56.4025667 C72.0884,51.1762333 61.9624,41.0075667 61.9624,41.0075667 C59.5817333,38.5479 57.8094,38.5139 55.1817333,39.8745667 C52.4347333,41.1135667 51.2787333,41.8709 48.5900667,43.2372333 C47.3360667,43.8732333 46.1017333,44.5419 44.8417333,45.1699 C42.6384,46.2682333 40.0097333,45.3995667 38.8570667,43.2132333 C37.7320667,41.0855667 38.5147333,38.4282333 40.6287333,37.2402333 C46.9557333,33.6799 53.2904,30.1272333 59.6214,26.5699 C61.1350667,25.7175667 62.7414,25.0455667 64.4324,25.8065667 C65.6494,26.3512333 66.7980667,27.1315667 67.8410667,27.9762333 C70.3264,29.9875667 72.7237333,32.1062333 75.1694,34.1679 C76.2670667,35.0925667 77.5937333,35.4715667 78.9697333,35.1922333 C82.9760667,34.3795667 86.9654,33.4665667 90.9617333,32.5892333 C91.0580667,32.5692333 96.3317333,31.1165667 96.4654,31.0639 C88.9834,12.8392333 71.0287333,-0.0001 50.0647333,-0.0001 C30.8350667,-0.0001 14.1374,10.8032333 5.7314,26.6565667 C5.8044,26.6832333 19.0017333,31.4965667 21.8804,32.4469 C24.2710667,33.2359 26.5470667,33.0015667 28.7140667,31.6249 C32.1077333,29.4659 35.6307333,27.5395667 39.4304,26.1745667 C42.6974,24.9999 45.8207333,25.2705667 48.7417333,27.2092333 C49.1407333,27.4745667 49.4857333,27.8219 49.9237333,28.1862333 C49.6094,28.3765667 49.3770667,28.5215667 49.1407333,28.6579 C46.0207333,30.4669 42.8614,32.2125667 39.7914,34.1039 C36.3527333,36.2179 35.0254,39.9549 36.2964,43.4965667 C37.3887333,46.5419 40.3120667,48.7505667 43.4860667,48.6579 C44.7237333,48.6212333 46.0010667,48.1902333 47.1620667,47.7062333 C49.7094,46.6469 52.1980667,45.4369 54.7094,44.2899 C57.1254,43.1889 58.6220667,43.1412333 60.5074,45.0182333 L75.5104,59.9419 C76.9620667,61.3912333 77.0177333,63.5839 75.6460667,64.9599 C74.2634,66.3465667 72.3567333,66.2952333 70.8577333,64.8289 C70.1000667,63.8229 68.8574,65.1959 69.7587333,65.7639 C71.3934,67.4582333 71.1284,69.6999 69.3720667,71.0105667 C67.9387333,72.0815667 66.0117333,71.8569 64.6367333,70.4925667 C63.3904,68.9455667 63.0710667,70.6295667 63.5200667,71.1732333 C64.1620667,72.1385667 64.2104,72.3799 63.9014,73.8572333 C63.5617333,75.1462333 62.7000667,75.9702333 61.3934,76.2912333 C60.0790667,76.6129 58.4667333,75.7342333 57.5300667,74.7935667 C56.8827333,73.6932333 55.7540667,74.4429 56.3050667,75.2085667 C57.7414,76.7472333 57.3280667,78.4049 55.8890667,79.7289 C54.4310667,81.0659 52.3644,80.9145667 50.8777333,79.4065667 C49.9280667,78.4425667 49.2440667,77.3799 49.2454,75.8085667 C47.9787333,72.4519 47.5657333,71.0789 44.4224,69.0132333 C44.1517333,68.8342333 43.8040667,68.5672333 43.6977333,68.2645667 C42.8857333,65.9639 41.4014,64.7802333 39.1334,63.3745667 C38.8547333,63.2572333 38.5717333,62.9482333 38.4607333,62.6612333 C37.6360667,60.5179 36.1914,59.0015667 34.0577333,58.1135667 C33.7744,57.9952333 33.4624,57.7019 33.3627333,57.4202333 C31.9877333,53.4902333 27.9780667,51.5769 23.7734,52.5445667 C20.8464,53.2192333 18.8180667,54.9819 17.6684,57.7522333 C17.6194,57.8655667 17.5520667,57.9749 17.5037333,58.0669 C16.0660667,57.6335667 1.41173333,52.8395667 6.66666667e-05,52.4135667 C1.26273333,78.9062333 23.1934,99.9999 50.0647333,99.9999 C76.2864,99.9999 97.8017333,79.9129 100.000067,54.3242333 C99.8397333,54.3579 85.7560667,57.3179 83.0174,57.7265667 C81.0294,58.0212333 78.8020667,57.8409 77.3530667,56.4025667"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-buyers-premium">\n        <g>\n            <path d="M75.633,72.9486667 C73.1763333,77.0606667 68.6713333,79.614 63.876,79.614 C61.415,79.614 58.9923333,78.9446667 56.8696667,77.6763333 C50.3933333,73.806 48.2726667,65.388 52.143,58.9126667 C54.5993333,54.8016667 59.1046667,52.2473333 63.8986667,52.2473333 C66.3603333,52.2473333 68.7833333,52.9176667 70.9063333,54.186 C74.043,56.06 76.2626667,59.0443333 77.1553333,62.5883333 C78.0486667,66.132 77.5073333,69.8116667 75.633,72.9486667 L75.633,72.9486667 L75.633,72.9486667 Z M36.513,77.0676667 C36.0646667,77.8176667 35.27,78.234 34.455,78.234 C34.0373333,78.234 33.614,78.125 33.229,77.8946667 C32.0943333,77.2163333 31.7233333,75.7463333 32.402,74.6106667 L63.2826667,22.9326667 C63.961,21.798 65.4313333,21.427 66.567,22.1053333 C67.7016667,22.784 68.0723333,24.2536667 67.3936667,25.389 L36.513,77.0676667 L36.513,77.0676667 Z M22.6396667,37.4116667 C21.747,33.8673333 22.288,30.188 24.163,27.0503333 C26.619,22.9396667 31.124,20.385 35.918,20.385 C38.38,20.385 40.803,21.0556667 42.926,22.3236667 C49.402,26.1943333 51.5226667,34.612 47.653,41.088 C45.1953333,45.1993333 40.6906667,47.7526667 35.8966667,47.7526667 C33.435,47.7526667 31.012,47.082 28.889,45.813 C25.752,43.9396667 23.5326667,40.9556667 22.6396667,37.4116667 L22.6396667,37.4116667 L22.6396667,37.4116667 Z M50,0 C22.3856667,0 0,22.3853333 0,50 C0,77.614 22.3856667,100 50,100 C77.6136667,100 100,77.614 100,50 C100,22.3853333 77.6136667,0 50,0 L50,0 L50,0 Z M68.4500667,58.2965 C67.0687333,57.4721667 65.4964,57.0361667 63.8987333,57.0361667 C60.7334,57.0361667 57.8754,58.6558333 56.2537333,61.3698333 C53.7377333,65.5785 55.1164,71.0501667 59.3260667,73.5661667 C60.7060667,74.3901667 62.2797333,74.8258333 63.8760667,74.8258333 C66.9950667,74.8258333 69.9250667,73.1655 71.5220667,70.4918333 C72.7407333,68.4535 73.0920667,66.0618333 72.5124,63.7581667 C71.9314,61.4551667 70.4894,59.5151667 68.4500667,58.2965 L68.4500667,58.2965 Z M43.5422,38.6313 C46.0575333,34.4219667 44.6788667,28.9499667 40.4695333,26.4349667 C39.0888667,25.6099667 37.5152,25.1739667 35.9182,25.1739667 C32.7532,25.1739667 29.8948667,26.7936333 28.2735333,29.5073 C27.0545333,31.5466333 26.7035333,33.9379667 27.2832,36.2419667 C27.8638667,38.5453 29.3065333,40.4846333 31.3452,41.7026333 C32.7265333,42.5279667 34.2998667,42.9639667 35.8965333,42.9639667 C39.0625333,42.9639667 41.9202,41.3446333 43.5422,38.6313 L43.5422,38.6313 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-no-buyers-premium">\n        <g>\n            <path d="M79.7016667,71.4506667 C78.207,71.4506667 76.7363333,71.0443333 75.4473333,70.274 C71.5143333,67.924 70.227,62.8133333 72.577,58.8806667 C74.0686667,56.3846667 76.8043333,54.8333333 79.7153333,54.8333333 C81.21,54.8333333 82.681,55.2406667 83.9703333,56.011 C85.8753333,57.1486667 87.2226667,58.961 87.7643333,61.1126667 C88.307,63.2646667 87.9786667,65.4993333 86.8403333,67.4033333 C85.3486667,69.9003333 82.613,71.4506667 79.7016667,71.4506667 M61.837,70.6126667 C61.5836667,70.6126667 61.3263333,70.5466667 61.0923333,70.4066667 C60.404,69.9946667 60.1783333,69.102 60.5906667,68.4126667 L79.3413333,37.0346667 C79.7533333,36.3446667 80.646,36.1196667 81.3353333,36.531 C82.0243333,36.9436667 82.2496667,37.8356667 81.8376667,38.525 L63.0866667,69.9046667 C62.8146667,70.3603333 62.3323333,70.6126667 61.837,70.6126667 M54.663,45.8253333 C54.121,43.6733333 54.4493333,41.4396667 55.5876667,39.5346667 C57.0793333,37.038 59.8143333,35.4866667 62.7256667,35.4866667 C64.2206667,35.4866667 65.6916667,35.8946667 66.9806667,36.664 C70.913,39.014 72.2006667,44.1253333 69.851,48.0576667 C68.3583333,50.5543333 65.6233333,52.1046667 62.7126667,52.1046667 C61.2173333,52.1046667 59.7463333,51.6976667 58.4573333,50.927 C56.5526667,49.7893333 55.205,47.9773333 54.663,45.8253333 M49.389,60.0616667 C48.946,63.2383333 48.0836667,66.1563333 46.804,68.816 C45.522,71.4756667 43.725,73.668 41.41,75.391 C39.095,77.1146667 36.0656667,77.977 32.3236667,77.977 C28.58,77.977 25.5506667,77.1146667 23.2363333,75.391 C20.9206667,73.668 19.1233333,71.4756667 17.8433333,68.816 C16.562,66.1563333 15.7006667,63.2383333 15.2573333,60.0616667 C14.814,56.885 14.5923333,53.8443333 14.5923333,50.9373333 C14.5923333,48.032 14.814,44.9903333 15.2573333,41.8133333 C15.7006667,38.6366667 16.562,35.7186667 17.8433333,33.059 C19.1233333,30.3993333 20.9206667,28.208 23.2363333,26.484 C25.5506667,24.7603333 28.58,23.8976667 32.3236667,23.8976667 C36.0656667,23.8976667 39.095,24.7603333 41.41,26.484 C43.725,28.208 45.522,30.3993333 46.804,33.059 C48.0836667,35.7186667 48.946,38.6366667 49.389,41.8133333 C49.8323333,44.9903333 50.054,48.032 50.054,50.9373333 C50.054,53.8443333 49.8323333,56.885 49.389,60.0616667 M50,0 C22.3853333,0 0,22.385 0,50 C0,77.6136667 22.3853333,100 50,100 C77.6136667,100 100,77.6136667 100,50 C100,22.385 77.6136667,0 50,0 M82.479,58.5066333 C81.6403333,58.0059667 80.6853333,57.7413 79.715,57.7413 C77.793,57.7413 76.0576667,58.7249667 75.073,60.3726333 C73.5456667,62.9283 74.3826667,66.2506333 76.9386667,67.7779667 C77.7763333,68.2786333 78.7326667,68.5433 79.7016667,68.5433 C81.5953333,68.5433 83.3743333,67.5353 84.344,65.9113 C85.0833333,64.6743 85.2976667,63.2219667 84.9456667,61.8229667 C84.5926667,60.4246333 83.717,59.2466333 82.479,58.5066333 M67.3546667,46.5659 C68.8823333,44.0102333 68.045,40.6872333 65.4893333,39.1602333 C64.6506667,38.6592333 63.695,38.3945667 62.7256667,38.3945667 C60.8036667,38.3945667 59.068,39.3782333 58.084,41.0262333 C57.3436667,42.2642333 57.1303333,43.7162333 57.482,45.1152333 C57.835,46.5139 58.7106667,47.6912333 59.9486667,48.4309 C60.787,48.9322333 61.743,49.1972333 62.7126667,49.1972333 C64.6346667,49.1972333 66.3696667,48.2139 67.3546667,46.5659 M42.8139667,36.7529 C41.9759667,34.4882333 40.7326333,32.5909 39.0829667,31.0642333 C37.4323,29.5379 35.1793,28.7735667 32.3236333,28.7735667 C29.4663,28.7735667 27.2129667,29.5379 25.5633,31.0642333 C23.9126333,32.5909 22.6696333,34.4882333 21.8326333,36.7529 C20.9946333,39.0185667 20.4656333,41.4325667 20.2439667,43.9932333 C20.0223,46.5542333 19.9116333,48.8689 19.9116333,50.9372333 C19.9116333,53.0059 20.0223,55.3215667 20.2439667,57.8819 C20.4656333,60.4435667 20.9946333,62.8575667 21.8326333,65.1222333 C22.6696333,67.3882333 23.9126333,69.2845667 25.5633,70.8112333 C27.2129667,72.3379 29.4663,73.1005667 32.3236333,73.1005667 C35.1793,73.1005667 37.4323,72.3379 39.0829667,70.8112333 C40.7326333,69.2845667 41.9759667,67.3882333 42.8139667,65.1222333 C43.6509667,62.8575667 44.1813,60.4435667 44.4026333,57.8819 C44.6243,55.3215667 44.7353,53.0059 44.7353,50.9372333 C44.7353,48.8689 44.6243,46.5542333 44.4026333,43.9932333 C44.1813,41.4325667 43.6509667,39.0185667 42.8139667,36.7529"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-cash-only">\n        <g>\n            <path d="M50,86.5294352 C35.299,86.5294352 23.3813333,74.926113 23.3813333,60.2729568 C23.3813333,45.621794 41.8636667,32.7490366 41.8636667,32.7490366 L58.0826667,32.7490366 C58.0826667,32.7490366 76.6183333,45.6546843 76.6183333,60.2666446 C76.6183333,74.8769436 64.7013333,86.5294352 50,86.5294352 L50,86.5294352 L50,86.5294352 Z M59.9873333,28.3683057 C59.9873333,29.870299 58.7656667,31.087907 57.2586667,31.087907 L43.049,31.087907 C41.5423333,31.087907 40.3206667,29.870299 40.3206667,28.3683057 L40.3206667,28.1593356 C40.3206667,26.6573422 41.5423333,25.4400664 43.049,25.4400664 L57.2586667,25.4400664 C58.7656667,25.4400664 59.9873333,26.6573422 59.9873333,28.1593356 L59.9873333,28.3683057 L59.9873333,28.3683057 Z M40.2293333,10.9819269 C42.881,11.4101661 44.674,15.0676412 44.674,15.0676412 C44.674,15.0676412 46.428,10.7839203 49.996,10.7839203 C53.563,10.7839203 55.3503333,15.1178073 55.3503333,15.1178073 C55.3503333,15.1178073 57.127,11.4869103 59.7783333,11.0590033 C62.43,10.6324252 64.664,12.6948837 64.664,12.6948837 L57.9496667,23.7789369 L42.042,23.7789369 L35.336,12.7181396 C35.336,12.7181396 37.5776667,10.5553488 40.2293333,10.9819269 L40.2293333,10.9819269 L40.2293333,10.9819269 Z M50,-0.000132890366 C22.3856667,-0.000132890366 0,22.3108306 0,49.8337541 C0,77.3560133 22.3856667,99.6676412 50,99.6676412 C77.614,99.6676412 100,77.3560133 100,49.8337541 C100,22.3108306 77.614,-0.000132890366 50,-0.000132890366 L50,-0.000132890366 L50,-0.000132890366 Z M60.0494667,63.0551163 C59.9648,62.2913289 59.6954667,61.5278738 59.2408,60.7627574 C58.7844667,59.9989701 58.0781333,59.2644186 57.1204667,58.5604319 C56.1611333,57.8557808 54.7954667,57.2647508 53.0231333,56.7873422 C52.6884667,56.6919933 52.3708,56.6082724 52.0711333,56.5361794 C51.7714667,56.4647508 51.4774667,56.3933222 51.1908,56.3218937 L49.0704667,55.8199003 C47.9198,55.5574419 47.0934667,55.2112624 46.5908,54.7813621 C46.0874667,54.3514618 45.8361333,53.7428239 45.8361333,52.9544518 C45.8361333,52.4531229 45.9251333,52.017907 46.1051333,51.6471429 C46.2851333,51.2777077 46.5304667,50.966412 46.8421333,50.7159137 C47.1534667,50.4650831 47.5014667,50.2806977 47.8848,50.1604319 C48.2678,50.0418272 48.6624667,49.9820266 49.0704667,49.9820266 L51.1908,49.9820266 C52.0054667,49.9820266 52.7001333,50.3165781 53.2748,50.9846843 C53.8491333,51.6537873 54.1491333,52.4654153 54.1741333,53.4202326 L59.2758,53.4202326 C59.2041333,52.1790366 58.9411333,51.1042857 58.4861333,50.1969768 C58.0298,49.2896678 57.4438,48.531196 56.7258,47.9218937 C56.0061333,47.313588 55.1741333,46.8361794 54.2281333,46.4893356 C53.8974667,46.3687376 53.5591333,46.2617608 53.2131333,46.1687376 L53.2161333,42.7006312 L48.3204667,42.7006312 L48.3204667,45.8637541 C47.5074667,45.9677409 46.7151333,46.1527907 45.9441333,46.417907 C44.9381333,46.7640863 44.0504667,47.2537873 43.2844667,47.8863456 C42.5181333,48.5195681 41.9011333,49.3016279 41.4331333,50.2325249 C40.9664667,51.1640863 40.7324667,52.2381728 40.7324667,53.4557808 C40.7324667,54.6501329 40.9358,55.6471429 41.3438,56.4471429 C41.7504667,57.2474751 42.2958,57.9155814 42.9788,58.4524584 C43.6614667,58.9896678 44.4351333,59.4195681 45.2964667,59.7424917 C46.1591333,60.0644186 47.0338,60.3451496 47.9198,60.5840199 C48.1598,60.6321927 48.3818,60.6853489 48.5851333,60.7451496 C48.7884667,60.8049501 48.9508,60.8587708 49.0704667,60.9062791 L51.1908,61.5152492 C52.6034667,61.897309 53.6038,62.3212292 54.1914667,62.78701 C54.7778,63.251794 55.0718,63.9507973 55.0718,64.8820266 C55.0718,65.454784 54.9521333,65.9511296 54.7121333,66.3687376 C54.4724667,66.7860133 54.1668,67.1381728 53.7968,67.425216 C53.4238,67.7115947 53.0058,67.9325249 52.5374667,68.0876744 C52.0711333,68.2434883 51.6221333,68.3448172 51.1908,68.3919933 L49.0704667,68.3919933 C47.9681333,68.1773754 47.0454667,67.6760466 46.3024667,66.8873422 C45.5598,66.0996346 45.2014667,65.0255482 45.2248,63.6644186 L40.1581333,63.6644186 C40.3978,66.4823588 41.2721333,68.6195681 42.7814667,70.0757143 C44.1468,71.3936544 45.9938,72.1933222 48.3204667,72.4750499 L48.3204667,75.2886711 L53.2578,75.2886711 L53.2374667,72.279701 C54.1411333,72.0936544 54.9324667,71.8245514 55.6114667,71.472392 C56.7608,70.8757143 57.6774667,70.1949833 58.3604667,69.4305316 C59.0434667,68.6670764 59.5154667,67.8850167 59.7788,67.0850167 C60.0434667,66.2846843 60.1751333,65.6225581 60.1751333,65.0969768 C60.1751333,64.500299 60.1328,63.8195681 60.0494667,63.0551163 L60.0494667,63.0551163 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-do-not-disturb">\n        <g>\n            <path d="M67.457,87.278 C67.457,88.3883333 67.4233333,88.4196667 66.3083333,88.4196667 C55.072,88.4276667 43.833,88.4356667 32.5956667,88.4416667 C31.6933333,88.4426667 31.5536667,88.3023333 31.5536667,87.4003333 C31.553,78.3506667 31.5473333,51.2223333 31.5563333,48.281 C31.5603333,46.7296667 32.1356667,45.3086667 32.8596667,44.007 C33.7053333,42.4836667 55.5333333,33.4373333 57.6066667,30.5876667 C58.5776667,29.252 59.375,27.718 59.32,25.929 C59.2863333,24.8693333 59.431,23.7893333 59.2736667,22.752 C59.1416667,21.8796667 58.8026667,20.989 58.356,20.2226667 C57.26,18.3436667 55.8496667,16.732 53.794,15.8383333 C51.969,15.0456667 50.13,14.608 48.0716667,14.9563333 C44.464,15.5663333 41.9666667,17.5586667 40.4136667,20.745 C39.6746667,22.2586667 39.3946667,23.9186667 39.6566667,25.6696667 C39.8666667,27.0756667 39.14,29.0536667 37.4146667,29.7483333 C35.3536667,30.5783333 33.149,30.249 32.0376667,28.0583333 C31.7703333,27.5323333 31.619,26.9096667 31.5736667,26.319 C31.4986667,25.3443333 31.4523333,24.3466667 31.5776667,23.3826667 C31.753,22.041 31.8193333,20.6693333 32.4283333,19.4026667 C32.8953333,18.43 33.2183333,17.3893333 33.651,16.3986667 C34.4483333,14.578 35.658,13.035 37.1126667,11.711 C38.8566667,10.1246667 40.8236667,8.912 43.043,8.01366667 C45.8803333,6.865 48.8066667,6.637 51.745,6.91666667 C53.872,7.11833333 55.9463333,7.792 57.8723333,8.874 C59.891,10.0086667 61.782,11.2893333 63.219,13.103 C64.14,14.265 64.9476667,15.5463333 65.6156667,16.8713333 C66.2443333,18.1156667 67.4393333,22.521 67.441,23.3796667 C67.462,37.3323333 67.457,73.3256667 67.457,87.278 L67.457,87.278 Z M0,50 C0,77.6133333 22.385,100 50,100 C77.614,100 100,77.6133333 100,50 C100,22.3846667 77.614,0 50,0 C22.385,0 0,22.3846667 0,50 L0,50 Z M59.389336,73.6462222 L40.5256111,59.7914071 C42.6814396,57.3335761 45.8413361,55.7772406 49.3594846,55.7772406 C55.8396036,55.7772406 61.1111111,61.0496504 61.1111111,67.5291679 C61.1111111,69.7683178 60.4809366,71.863084 59.389336,73.6462222 L59.389336,73.6462222 Z M49.0112762,79.8902222 C42.5497122,79.8902222 37.2916111,74.632721 37.2916111,68.171157 C37.2916111,65.9610088 37.907441,63.8918444 38.9756193,62.1259456 L57.7777778,75.9363726 C55.6294224,78.3591966 52.4965793,79.8902222 49.0112762,79.8902222 L49.0112762,79.8902222 Z M33.8775,67.9786667 C33.8775,76.4296667 40.7525,83.3046667 49.2038333,83.3046667 C57.6545,83.3046667 64.5295,76.4296667 64.5295,67.9786667 C64.5295,59.528 57.6545,52.6526667 49.2038333,52.6526667 C40.7525,52.6526667 33.8775,59.528 33.8775,67.9786667 L33.8775,67.9786667 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-due-diligence-certified">\n        <g>\n            <path d="M17.6911,73.3399 C16.2871,74.6349 16.0591,76.6369 17.3451,78.0309 C18.5701,79.3599 20.5721,79.3649 22.0191,78.0289 C23.4771,76.6839 23.6201,74.6989 22.3951,73.3709 C21.1101,71.9789 19.0951,72.0429 17.6911,73.3399 Z M24.944,22.4102 C25.799,21.7022 26.108,20.8892 25.532,20.1942 C25.005,19.5562 24.197,19.5302 23.238,20.3232 L21.925,21.4092 L23.643,23.4852 L24.944,22.4102 Z M53.5466,87.3087 L52.0956,87.5197 L53.0746,94.2457 L54.3936,94.0567 C56.4166,93.7617 57.5386,92.1157 57.2616,90.2107 C56.9776,88.2617 55.4226,87.0377 53.5466,87.3087 Z M22.4411,17.1983 C21.9691,16.6283 21.2701,16.5713 20.3341,17.3453 L19.2841,18.2133 L20.8601,20.1183 L22.0111,19.1653 C22.6511,18.6373 22.9881,17.8593 22.4411,17.1983 Z M36.8855,15.0577 C38.8015,14.3437 39.5535,12.4987 38.8805,10.6937 C38.1945,8.8477 36.4145,7.9767 34.6375,8.6387 L33.2635,9.1507 L35.6355,15.5227 L36.8855,15.0577 Z"></path>\n            <path d="M42.4302,67.1247 L37.7482,62.2957 L37.7512,62.2927 L28.6032,52.8557 L33.4312,48.1747 L42.5792,57.6127 L66.7092,34.2217 L71.3912,39.0507 L42.4302,67.1247 Z M50.2382,20.9887 C34.7192,20.9887 22.0932,33.6137 22.0932,49.1327 C22.0932,64.6517 34.7192,77.2767 50.2382,77.2767 C65.7562,77.2767 78.3822,64.6517 78.3822,49.1327 C78.3822,33.6137 65.7562,20.9887 50.2382,20.9887 L50.2382,20.9887 Z"></path>\n            <path d="M82.029,66.254 L83.522,59.699 L85.342,60.113 L84.302,64.676 L86.758,65.234 L87.59,61.582 L89.381,61.99 L88.549,65.643 L90.931,66.186 L92.04,61.32 L93.844,61.731 L92.282,68.59 L82.029,66.254 Z M87.633,76.668 C85.872,78.938 82.872,79.76 80.134,77.635 C77.758,75.793 77.032,72.791 79.139,70.076 C80.029,68.93 81.48,68.051 83.3,68 L83.394,70.004 C82.44,70.051 81.379,70.428 80.707,71.293 C79.59,72.733 79.807,74.625 81.469,75.914 C83.013,77.113 84.925,76.947 86.077,75.461 C86.75,74.596 86.885,73.5 86.659,72.537 L88.635,72.141 C88.971,73.543 88.778,75.195 87.633,76.668 L87.633,76.668 Z M79.382,85.018 L71.514,82.135 L71.491,82.152 L75.619,87.779 L73.946,89.006 L67.723,80.524 L69.395,79.297 L77.389,82.254 L77.402,82.244 L73.194,76.51 L74.88,75.274 L81.102,83.756 L79.382,85.018 Z M64.136,93.68 L59.927,84.041 L66.091,81.35 L66.837,83.061 L62.548,84.934 L63.555,87.24 L66.99,85.74 L67.725,87.424 L64.291,88.924 L65.268,91.164 L69.842,89.166 L70.585,90.861 L64.136,93.68 Z M54.793,95.869 L51.304,96.377 L49.79,85.971 L53.233,85.469 C56.531,84.99 58.954,86.822 59.401,89.899 C59.846,92.963 58.133,95.381 54.793,95.869 L54.793,95.869 Z M46.374,95.885 L44.312,95.555 L45.973,85.176 L48.034,85.504 L46.374,95.885 Z M41.999,89.08 L41.342,90.828 L37.501,89.385 L36.1,93.115 L34.173,92.393 L37.87,82.545 L44.401,84.998 L43.746,86.746 L39.141,85.016 L38.157,87.639 L41.999,89.08 Z M28.499,89.369 L28.424,80.99 L28.399,80.973 L24.589,86.82 L22.85,85.688 L28.594,76.875 L30.333,78.008 L30.384,86.529 L30.397,86.539 L34.28,80.578 L36.03,81.721 L30.286,90.533 L28.499,89.369 Z M15.909,79.336 C13.751,76.994 13.94,73.859 16.225,71.75 C18.522,69.631 21.663,69.693 23.822,72.035 C25.921,74.309 25.846,77.44 23.485,79.617 C21.124,81.797 18.008,81.609 15.909,79.336 L15.909,79.336 Z M12.43,62.748 C10.567,63.334 9.616,64.998 10.18,66.793 C10.508,67.838 11.33,68.572 12.251,68.936 L11.452,70.785 C10.107,70.262 8.862,69.164 8.301,67.385 C7.44,64.645 8.473,61.711 11.778,60.672 C14.644,59.77 17.524,60.881 18.554,64.158 C18.99,65.541 18.886,67.236 17.891,68.76 L16.191,67.695 C16.696,66.885 16.991,65.799 16.662,64.752 C16.116,63.016 14.436,62.117 12.43,62.748 L12.43,62.748 Z M19.462,15.685 C21.184,14.261 22.675,14.181 23.741,15.471 C24.344,16.201 24.627,17.217 24.019,18.294 L24.029,18.306 C25.296,17.7 26.493,17.941 27.38,19.013 C28.446,20.302 28.361,21.966 26.592,23.429 L23.238,26.202 L16.54,18.101 L19.462,15.685 Z M26.979,10.324 L32.548,19.239 L30.777,20.345 L25.209,11.431 L26.979,10.324 Z M33.944,6.904 C37.069,5.742 39.823,7.024 40.908,9.939 C41.989,12.841 40.823,15.568 37.657,16.746 L34.352,17.977 L30.682,8.12 L33.944,6.904 Z M50.684,3.55 L51.81,10.862 L51.84,10.865 L54.593,4.049 L56.783,4.33 L57.731,11.62 L57.747,11.621 L60.69,4.829 L62.895,5.111 L58.268,15.123 L56.359,14.88 L55.354,7.208 L55.309,7.202 L52.333,14.364 L50.437,14.121 L48.481,3.268 L50.684,3.55 Z M68.565,7.842 L64.465,17.527 L62.541,16.713 L66.641,7.027 L68.565,7.842 Z M71.604,9.177 L78.248,13.443 L77.24,15.015 L74.784,13.438 L70.109,20.718 L68.364,19.597 L73.039,12.316 L70.595,10.748 L71.604,9.177 Z M80.883,49.133 C80.883,66.029 67.135,79.776 50.238,79.776 C33.341,79.776 19.593,66.029 19.593,49.133 C19.593,32.235 33.341,18.488 50.238,18.488 C67.135,18.488 80.883,32.235 80.883,49.133 L80.883,49.133 Z M82.53,17.203 L79.301,20.405 L82.336,23.466 L85.565,20.265 L87.035,21.747 L79.568,29.151 L78.097,27.669 L81.01,24.78 L77.976,21.72 L75.062,24.608 L73.592,23.125 L81.059,15.72 L82.53,17.203 Z M50,0 C22.386,0 0,22.386 0,50 C0,77.614 22.386,100 50,100 C77.614,100 100,77.614 100,50 C100,22.386 77.614,0 50,0 L50,0 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-financing-available">\n        <g>\n            <path d="M11.3206333,74.1914 L11.3206333,69.1914 L12.9873,69.1914 L12.9873,65.1914 L16.9873,65.1914 L16.9873,61.5247333 L35.1253,61.5247333 C35.9259667,61.5247333 36.7496333,62.9934 37.8679667,63.8110667 C39.3453,64.8854 41.3866333,65.5077333 44.2249667,66.2477333 C44.9743,66.4430667 45.6539667,66.4194 46.3206333,66.5417333 L46.3206333,71.5247333 L56.3206333,71.5247333 L56.3206333,66.4540667 C56.3206333,66.3094 57.6756333,66.1800667 58.4556333,65.9430667 C60.6786333,65.2607333 62.2079667,64.7000667 63.7513,63.4434 C64.6323,62.7270667 65.3949667,61.5247333 66.0433,61.5247333 L83.6539667,61.5247333 L83.6539667,65.1914 L86.9873,65.1914 L86.9873,69.1914 L88.6539667,69.1914 L88.6539667,74.1914 L11.3206333,74.1914 L11.3206333,74.1914 Z M72.1629667,59.8580667 C71.7446333,59.8580667 71.6539667,59.7644 71.6539667,59.4650667 L71.6539667,57.5977333 C71.6539667,57.3157333 71.9429667,57.1914 72.2726333,57.1914 L73.9873,57.1914 L73.9873,36.5247333 L72.1686333,36.5247333 C71.8249667,36.5247333 71.6539667,36.3684 71.6539667,36.0870667 L71.6539667,35.4707333 C71.6539667,35.2880667 71.9599667,35.1914 72.1666333,35.1914 L83.2989667,35.1914 C83.4186333,35.1914 83.3206333,35.2617333 83.3206333,35.4440667 L83.3206333,36.2960667 C83.3206333,36.2960667 83.4983,36.5247333 83.2989667,36.5247333 L80.9873,36.5247333 L80.9873,57.1914 L83.1133,57.1914 C83.4183,57.1914 83.3206333,57.3330667 83.3206333,57.6230667 L83.3206333,59.4650667 C83.3206333,59.7474 83.2683,59.8580667 82.9626333,59.8580667 L72.1629667,59.8580667 L72.1629667,59.8580667 Z M17.4056333,59.8580667 C16.9873,59.8580667 16.9873,59.7644 16.9873,59.4650667 L16.9873,57.5977333 C16.9873,57.3157333 17.0949667,57.1914 17.4246333,57.1914 L19.3206333,57.1914 L19.3206333,36.5247333 L17.3206333,36.5247333 C16.9769667,36.5247333 16.9873,36.3684 16.9873,36.0870667 L16.9873,35.4707333 C16.9873,35.2880667 17.1119667,35.1914 17.3186333,35.1914 L28.4509667,35.1914 C28.5706333,35.1914 28.6539667,35.2617333 28.6539667,35.4440667 L28.6539667,36.2960667 C28.6539667,36.2960667 28.6503,36.5247333 28.4509667,36.5247333 L26.3206333,36.5247333 L26.3206333,57.1914 L28.2653,57.1914 C28.5703,57.1914 28.6539667,57.3330667 28.6539667,57.6230667 L28.6539667,59.4650667 C28.6539667,59.7474 28.5563,59.8580667 28.2506333,59.8580667 L17.4056333,59.8580667 L17.4056333,59.8580667 Z M44.8446333,63.8450667 C42.8806333,63.3340667 40.8219667,62.4707333 39.3183,61.3754 C37.8143,60.2787333 36.6193,59.1310667 35.7363,57.4344 C34.8503,55.7350667 34.4256333,54.1914 34.4616333,51.5247333 L42.5279667,51.5247333 C42.5279667,53.5247333 42.7026333,53.7357333 43.1629667,54.6190667 C43.6233,55.5044 44.1786333,56.2600667 44.9396333,56.8077333 C45.7003,57.3580667 46.4839667,57.6734 47.5093,57.9387333 C47.9573,58.0544 47.9873,58.0497333 48.6539667,58.1154 L48.6539667,55.8844 L48.6539667,50.1077333 L48.6539667,47.8164 C47.9873,47.6407333 47.5103,47.4554 46.8213,47.2607333 C45.4059667,46.9064 44.2489667,46.4744 42.9046333,45.9610667 C41.5596333,45.4484 40.3636333,44.7844 39.3009667,43.9704 C38.2403,43.1567333 37.3923,42.1404 36.7379667,40.9187333 C36.0833,39.6964 35.7759667,38.2204 35.7759667,36.4867333 C35.7759667,34.5414 36.2313,32.8510667 37.0643,31.4177333 C37.8946333,29.9844 39.0639667,28.7910667 40.4099667,27.8354 C41.7526333,26.8804 43.4359667,26.1737333 45.1363,25.7124 C46.1996333,25.4254 46.3206333,25.2270667 48.6539667,25.1194 L48.6539667,21.5247333 L53.6539667,21.5247333 L53.6539667,25.2550667 C53.6539667,25.3620667 55.0276333,25.3254 55.7746333,25.5080667 C57.5973,25.9514 59.0513,26.4904 60.4663,27.4790667 C61.8813,28.4720667 63.0049667,29.7390667 63.8369667,31.2797333 C64.6676333,32.8164 65.0836333,35.1914 65.0836333,36.5247333 L57.0173,36.5247333 C56.9459667,36.5247333 56.9246333,34.4414 55.9456333,33.2747333 C54.9663,32.1080667 54.2996333,31.4830667 53.6539667,31.4830667 L53.6539667,34.5280667 L53.6539667,38.8394 L53.6539667,41.1534 C53.6539667,41.2737333 54.6046333,41.3974 55.1206333,41.5287333 C55.8276333,41.6710667 56.7976333,41.9264 58.0539667,42.2980667 C59.3086333,42.6700667 60.5579667,43.2617333 61.7969667,44.0764 C63.0346333,44.8907333 64.1066333,45.9787333 65.0093,47.3404 C65.9116333,48.7047333 66.3769667,50.4454 66.3769667,52.5667333 C66.3769667,54.3024 66.0619667,55.9114 65.3909667,57.3984 C64.7183,58.8847333 63.7606333,60.1674 62.4336333,61.2454 C61.1069667,62.3244 59.5429667,63.1644 57.5786333,63.7660667 C56.3413,64.1457333 54.3206333,64.4040667 53.6539667,64.5450667 L53.6539667,69.1914 L48.6539667,69.1914 L48.6539667,64.5320667 C46.3206333,64.4040667 45.9836333,64.1427333 44.8446333,63.8450667 L44.8446333,63.8450667 L44.8446333,63.8450667 Z M14.8589667,31.3574 L47.7719667,14.6197333 C49.4859667,13.6020667 52.2906333,13.4997333 54.0053,14.5164 L86.9173,31.4100667 C88.6316333,32.4270667 88.4033,33.5247333 86.4106333,33.5247333 L66.8226333,33.5247333 C66.5839667,31.5247333 66.2929667,31.1930667 65.8259667,30.3317333 C64.7323,28.3024 63.3829667,26.9464 61.9236333,25.9210667 C60.4263,24.8747333 58.8929667,24.0627333 56.5269667,23.4870667 C56.3413,23.4417333 56.3206333,23.3164 56.3206333,23.2867333 L56.3206333,19.8580667 L46.3206333,19.8580667 L46.3206333,23.1107333 C45.6539667,23.2284 45.2223,23.3814 44.4956333,23.5780667 C42.9526333,23.9970667 41.0339667,24.7624 39.2469667,26.0317333 C37.4889667,27.2807333 36.1306333,29.0290667 35.2096333,30.6180667 C34.7339667,31.4384 34.3666333,32.8580667 34.1009667,33.5247333 L15.3656333,33.5247333 C13.3726333,33.5247333 13.1446333,32.3740667 14.8589667,31.3574 L14.8589667,31.3574 L14.8589667,31.3574 Z M-3.33333333e-05,50.0000667 C-3.33333333e-05,77.6130667 22.3859667,100.000067 49.9999667,100.000067 C77.6143,100.000067 99.9999667,77.6130667 99.9999667,50.0000667 C99.9999667,22.3844 77.6143,6.66666666e-05 49.9999667,6.66666666e-05 C22.3859667,6.66666666e-05 -3.33333333e-05,22.3844 -3.33333333e-05,50.0000667 L-3.33333333e-05,50.0000667 Z M48.6539667,37.6909333 L48.6539667,33.7186 L48.6539667,31.5102667 C47.9873,31.5342667 47.8149667,31.6006 47.2899667,31.7106 C46.6189667,31.8532667 46.2219667,32.1006 45.6733,32.4536 C45.1243,32.8076 44.6586333,33.2506 44.3053,33.7802667 C43.9513,34.3106 43.7459667,34.9832667 43.7459667,35.7962667 C43.7459667,36.5409333 43.8333,37.1432667 44.1169667,37.6016 C44.3993,38.0619333 44.8469667,38.4876 45.6783,38.8746 C46.4596333,39.2416 46.9873,39.6076 48.6539667,39.9732667 L48.6539667,37.6909333 L48.6539667,37.6909333 Z M57.5573,55.8842667 C58.0523,55.2659333 58.2956333,54.4786 58.2956333,53.5236 C58.2956333,52.4982667 57.9706333,51.6666 57.3149667,51.0289333 C56.6609667,50.3929333 55.8116333,49.8636 54.7493,49.4362667 C54.3976333,49.2939333 53.6539667,49.1616 53.6539667,49.0339333 L53.6539667,51.3369333 L53.6539667,55.7732667 L53.6539667,58.0026 C54.3206333,57.8689333 55.0616333,57.6529333 55.7083,57.3442667 C56.4519667,56.9912667 57.0606333,56.5046 57.5573,55.8842667 L57.5573,55.8842667 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-financing-considered">\n        <g>\n            <path d="M11.3206333,74.1914 L11.3206333,69.1914 L12.9873,69.1914 L12.9873,65.1914 L16.9873,65.1914 L16.9873,61.5247333 L35.1253,61.5247333 C35.9259667,61.5247333 36.7496333,62.9934 37.8679667,63.8110667 C39.3453,64.8854 41.3866333,65.5077333 44.2249667,66.2477333 C44.9743,66.4430667 45.6539667,66.4194 46.3206333,66.5417333 L46.3206333,71.5247333 L56.3206333,71.5247333 L56.3206333,66.4540667 C56.3206333,66.3094 57.6756333,66.1800667 58.4556333,65.9430667 C60.6786333,65.2607333 62.2079667,64.7000667 63.7513,63.4434 C64.6323,62.7270667 65.3949667,61.5247333 66.0433,61.5247333 L83.6539667,61.5247333 L83.6539667,65.1914 L86.9873,65.1914 L86.9873,69.1914 L88.6539667,69.1914 L88.6539667,74.1914 L11.3206333,74.1914 L11.3206333,74.1914 Z M72.1629667,59.8580667 C71.7446333,59.8580667 71.6539667,59.7644 71.6539667,59.4650667 L71.6539667,57.5977333 C71.6539667,57.3157333 71.9429667,57.1914 72.2726333,57.1914 L73.9873,57.1914 L73.9873,36.5247333 L72.1686333,36.5247333 C71.8249667,36.5247333 71.6539667,36.3684 71.6539667,36.0870667 L71.6539667,35.4707333 C71.6539667,35.2880667 71.9599667,35.1914 72.1666333,35.1914 L83.2989667,35.1914 C83.4186333,35.1914 83.3206333,35.2617333 83.3206333,35.4440667 L83.3206333,36.2960667 C83.3206333,36.2960667 83.4983,36.5247333 83.2989667,36.5247333 L80.9873,36.5247333 L80.9873,57.1914 L83.1133,57.1914 C83.4183,57.1914 83.3206333,57.3330667 83.3206333,57.6230667 L83.3206333,59.4650667 C83.3206333,59.7474 83.2683,59.8580667 82.9626333,59.8580667 L72.1629667,59.8580667 L72.1629667,59.8580667 Z M17.4056333,59.8580667 C16.9873,59.8580667 16.9873,59.7644 16.9873,59.4650667 L16.9873,57.5977333 C16.9873,57.3157333 17.0949667,57.1914 17.4246333,57.1914 L19.3206333,57.1914 L19.3206333,36.5247333 L17.3206333,36.5247333 C16.9769667,36.5247333 16.9873,36.3684 16.9873,36.0870667 L16.9873,35.4707333 C16.9873,35.2880667 17.1119667,35.1914 17.3186333,35.1914 L28.4509667,35.1914 C28.5706333,35.1914 28.6539667,35.2617333 28.6539667,35.4440667 L28.6539667,36.2960667 C28.6539667,36.2960667 28.6503,36.5247333 28.4509667,36.5247333 L26.3206333,36.5247333 L26.3206333,57.1914 L28.2653,57.1914 C28.5703,57.1914 28.6539667,57.3330667 28.6539667,57.6230667 L28.6539667,59.4650667 C28.6539667,59.7474 28.5563,59.8580667 28.2506333,59.8580667 L17.4056333,59.8580667 L17.4056333,59.8580667 Z M44.8446333,63.8450667 C42.8806333,63.3340667 40.8219667,62.4707333 39.3183,61.3754 C37.8143,60.2787333 36.6193,59.1310667 35.7363,57.4344 C34.8503,55.7350667 34.4256333,54.1914 34.4616333,51.5247333 L42.5279667,51.5247333 C42.5279667,53.5247333 42.7026333,53.7357333 43.1629667,54.6190667 C43.6233,55.5044 44.1786333,56.2600667 44.9396333,56.8077333 C45.7003,57.3580667 46.4839667,57.6734 47.5093,57.9387333 C47.9573,58.0544 47.9873,58.0497333 48.6539667,58.1154 L48.6539667,55.8844 L48.6539667,50.1077333 L48.6539667,47.8164 C47.9873,47.6407333 47.5103,47.4554 46.8213,47.2607333 C45.4059667,46.9064 44.2489667,46.4744 42.9046333,45.9610667 C41.5596333,45.4484 40.3636333,44.7844 39.3009667,43.9704 C38.2403,43.1567333 37.3923,42.1404 36.7379667,40.9187333 C36.0833,39.6964 35.7759667,38.2204 35.7759667,36.4867333 C35.7759667,34.5414 36.2313,32.8510667 37.0643,31.4177333 C37.8946333,29.9844 39.0639667,28.7910667 40.4099667,27.8354 C41.7526333,26.8804 43.4359667,26.1737333 45.1363,25.7124 C46.1996333,25.4254 46.3206333,25.2270667 48.6539667,25.1194 L48.6539667,21.5247333 L53.6539667,21.5247333 L53.6539667,25.2550667 C53.6539667,25.3620667 55.0276333,25.3254 55.7746333,25.5080667 C57.5973,25.9514 59.0513,26.4904 60.4663,27.4790667 C61.8813,28.4720667 63.0049667,29.7390667 63.8369667,31.2797333 C64.6676333,32.8164 65.0836333,35.1914 65.0836333,36.5247333 L57.0173,36.5247333 C56.9459667,36.5247333 56.9246333,34.4414 55.9456333,33.2747333 C54.9663,32.1080667 54.2996333,31.4830667 53.6539667,31.4830667 L53.6539667,34.5280667 L53.6539667,38.8394 L53.6539667,41.1534 C53.6539667,41.2737333 54.6046333,41.3974 55.1206333,41.5287333 C55.8276333,41.6710667 56.7976333,41.9264 58.0539667,42.2980667 C59.3086333,42.6700667 60.5579667,43.2617333 61.7969667,44.0764 C63.0346333,44.8907333 64.1066333,45.9787333 65.0093,47.3404 C65.9116333,48.7047333 66.3769667,50.4454 66.3769667,52.5667333 C66.3769667,54.3024 66.0619667,55.9114 65.3909667,57.3984 C64.7183,58.8847333 63.7606333,60.1674 62.4336333,61.2454 C61.1069667,62.3244 59.5429667,63.1644 57.5786333,63.7660667 C56.3413,64.1457333 54.3206333,64.4040667 53.6539667,64.5450667 L53.6539667,69.1914 L48.6539667,69.1914 L48.6539667,64.5320667 C46.3206333,64.4040667 45.9836333,64.1427333 44.8446333,63.8450667 L44.8446333,63.8450667 L44.8446333,63.8450667 Z M14.8589667,31.3574 L47.7719667,14.6197333 C49.4859667,13.6020667 52.2906333,13.4997333 54.0053,14.5164 L86.9173,31.4100667 C88.6316333,32.4270667 88.4033,33.5247333 86.4106333,33.5247333 L66.8226333,33.5247333 C66.5839667,31.5247333 66.2929667,31.1930667 65.8259667,30.3317333 C64.7323,28.3024 63.3829667,26.9464 61.9236333,25.9210667 C60.4263,24.8747333 58.8929667,24.0627333 56.5269667,23.4870667 C56.3413,23.4417333 56.3206333,23.3164 56.3206333,23.2867333 L56.3206333,19.8580667 L46.3206333,19.8580667 L46.3206333,23.1107333 C45.6539667,23.2284 45.2223,23.3814 44.4956333,23.5780667 C42.9526333,23.9970667 41.0339667,24.7624 39.2469667,26.0317333 C37.4889667,27.2807333 36.1306333,29.0290667 35.2096333,30.6180667 C34.7339667,31.4384 34.3666333,32.8580667 34.1009667,33.5247333 L15.3656333,33.5247333 C13.3726333,33.5247333 13.1446333,32.3740667 14.8589667,31.3574 L14.8589667,31.3574 L14.8589667,31.3574 Z M-3.33333333e-05,50.0000667 C-3.33333333e-05,77.6130667 22.3859667,100.000067 49.9999667,100.000067 C77.6143,100.000067 99.9999667,77.6130667 99.9999667,50.0000667 C99.9999667,22.3844 77.6143,6.66666666e-05 49.9999667,6.66666666e-05 C22.3859667,6.66666666e-05 -3.33333333e-05,22.3844 -3.33333333e-05,50.0000667 L-3.33333333e-05,50.0000667 Z M48.6539667,37.6909333 L48.6539667,33.7186 L48.6539667,31.5102667 C47.9873,31.5342667 47.8149667,31.6006 47.2899667,31.7106 C46.6189667,31.8532667 46.2219667,32.1006 45.6733,32.4536 C45.1243,32.8076 44.6586333,33.2506 44.3053,33.7802667 C43.9513,34.3106 43.7459667,34.9832667 43.7459667,35.7962667 C43.7459667,36.5409333 43.8333,37.1432667 44.1169667,37.6016 C44.3993,38.0619333 44.8469667,38.4876 45.6783,38.8746 C46.4596333,39.2416 46.9873,39.6076 48.6539667,39.9732667 L48.6539667,37.6909333 L48.6539667,37.6909333 Z M57.5573,55.8842667 C58.0523,55.2659333 58.2956333,54.4786 58.2956333,53.5236 C58.2956333,52.4982667 57.9706333,51.6666 57.3149667,51.0289333 C56.6609667,50.3929333 55.8116333,49.8636 54.7493,49.4362667 C54.3976333,49.2939333 53.6539667,49.1616 53.6539667,49.0339333 L53.6539667,51.3369333 L53.6539667,55.7732667 L53.6539667,58.0026 C54.3206333,57.8689333 55.0616333,57.6529333 55.7083,57.3442667 C56.4519667,56.9912667 57.0606333,56.5046 57.5573,55.8842667 L57.5573,55.8842667 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-interior-access">\n        <g>\n            <path d="M85.755,45.858 L82.654,45.858 L82.654,73.5463333 C82.654,75.1046667 81.9556667,77.5246667 80.4973333,77.5246667 L69.9873333,77.5246667 L69.9873333,50.858 L57.654,50.858 L57.654,77.5246667 L30.0183333,77.5246667 L24.3206667,84.407 L24.3206667,73.1913333 L13.3206667,73.1913333 L13.3206667,35.858 L24.3206667,35.858 L24.3206667,24.6226667 L30.488,32.1423333 L52.9726667,10.595 C54.3166667,9.15766667 55.635,9.14366667 56.951,10.5523333 L87.5846667,39.9633333 C90.017,42.6676667 89.199,45.858 85.755,45.858 L85.755,45.858 Z M50,0 C22.3863333,0 0,22.3853333 0,50 C0,77.614 22.3863333,100 50,100 C77.614,100 100,77.614 100,50 C100,22.3853333 77.614,0 50,0 L50,0 Z M26.6541,33.2237333 L26.6541,39.8580667 L15.9874333,39.8580667 L15.9874333,70.8580667 L26.6541,70.8580667 L26.6541,75.8057333 L44.4594333,54.5144 L26.6541,33.2237333 L26.6541,33.2237333 Z M49.0748333,55.0526667 L42.3065,63.1913333 L53.3208333,63.1913333 L53.3208333,50.858 L45.6041667,50.858 L49.0748333,55.0526667 L49.0748333,55.0526667 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-published-reserve">\n        <g>\n            <path d="M77.7651111,64.4717037 L60.1847778,82.962037 L22.7651111,82.962037 L22.7651111,18.6287037 L38.4317778,18.6287037 L38.4317778,21.962037 L26.0984444,21.962037 L26.0984444,79.6287037 L58.7927778,79.6287037 L59.0821111,79.124037 L59.1304444,63.4653704 L74.3607778,63.3663704 L74.4317778,63.1027037 L74.4317778,21.962037 L61.7651111,21.962037 L61.7651111,18.6287037 L77.7651111,18.6287037 L77.7651111,64.4717037 L77.7651111,64.4717037 Z M50.8441111,11.8823703 C54.9301111,11.8823703 58.2427778,15.1960371 58.2427778,19.281037 C58.2427778,22.6097037 56.0437778,25.4257037 53.0191111,26.3537037 C52.3314444,26.565037 50.8441111,37.9203704 50.8441111,37.9203704 C50.8441111,37.9203704 49.0117778,26.5053704 48.1874444,26.188037 C45.4134444,25.1193704 43.4457778,22.4307037 43.4457778,19.281037 C43.4457778,15.1960371 46.7581111,11.8823703 50.8441111,11.8823703 L50.8441111,11.8823703 L50.8441111,11.8823703 Z M50,0 C22.43,0 0,22.4293333 0,49.9999999 C0,77.5693333 22.43,100 50,100 C77.5703333,100 100,77.5693333 100,49.9999999 C100,22.4293333 77.5703333,0 50,0 L50,0 L50,0 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-specified-bid">\n        <g>\n            <path d="M52.3206333,79.5142696 C53.3206333,79.3756765 55.3969667,79.1211995 56.6119667,78.7471651 C58.5369667,78.1547213 60.2899667,77.3275042 61.5913,76.2645118 C62.8923,75.2015194 63.9409667,73.9374835 64.6009667,72.4747418 C65.2586333,71.0106643 65.6239667,69.4246917 65.6239667,67.7164899 C65.6239667,65.6259048 65.1919667,63.910022 64.3069667,62.5681736 C63.4233,61.2263252 62.3859667,60.1546499 61.1723,59.3521457 C59.9579667,58.5509774 58.7413,57.9668826 57.5103,57.6008632 C56.2783,57.2355118 55.3193,56.9823706 54.6256333,56.8431096 C52.3009667,56.2513337 50.4206333,55.7644211 48.9813,55.380034 C47.5413,54.9969827 46.4149667,54.6132635 45.6003,54.2302122 C44.7853,53.8471609 44.2386333,53.428042 43.9616333,52.9745253 C43.6836333,52.5230123 43.5453,51.9292327 43.5453,51.1975279 C43.5453,50.3960256 43.7189667,49.7334504 44.0659667,49.2111381 C44.4123,48.6891597 44.8546333,48.2526749 45.3936333,47.9033535 C45.9303,47.5567038 46.5289667,47.3122456 47.1886333,47.1723166 C47.8463,47.0337235 48.5063,46.9632581 49.1653,46.9632581 C50.1709667,46.9632581 51.0989667,47.0494196 51.9493,47.2244143 C52.7986333,47.3997429 53.5529667,47.694295 54.2126333,48.112746 C54.8706333,48.5305291 55.4006333,48.9366235 55.7996333,49.6689963 C56.1979667,50.400701 56.4323,50.5994068 56.5019667,52.2692032 L64.4113,52.2692032 C64.4113,49.9314883 64.0026333,48.44036 63.1883,46.9248528 C62.3729667,45.4080097 61.2716333,44.249505 59.8836333,43.2700024 C58.4959667,42.2948413 56.6296333,41.6326 54.8426333,41.1961153 C54.1093,41.0167791 52.3206333,40.919597 52.3206333,40.8137319 L52.3206333,36.5731169 L47.3206333,36.5731169 L47.3206333,40.6808161 C45.9873,40.7866812 45.4066333,40.9813794 44.3629667,41.2645769 C42.6976333,41.7180936 41.2923,42.4157346 39.9746333,43.3561639 C38.6553,44.2969272 37.6323,45.4731318 36.8173,46.8844437 C36.0009667,48.2960896 35.6156333,49.9612106 35.6156333,51.877469 C35.6156333,53.5843349 35.9463,55.0383936 36.5889667,56.2423168 C37.2299667,57.4445703 38.0773,58.44745 39.1176333,59.2479504 C40.1589667,60.0497867 41.3403,60.703345 42.6589667,61.2086254 C43.9766333,61.7142397 45.3303,62.1413736 46.7183,62.4893592 C48.0713,62.8730784 49.4076333,63.2207301 50.7259667,63.5346518 C52.0436333,63.8479056 53.2236333,64.213925 54.2636333,64.632042 C55.3049667,65.0514949 56.1459667,65.5741411 56.7869667,66.2009827 C57.4296333,66.8278243 57.7513,67.6473604 57.7513,68.6579212 C57.7513,69.5980165 57.5076333,70.3744719 57.0226333,70.9829457 C56.5359667,71.5940912 55.9296333,72.0739907 55.2006333,72.4216423 C54.4726333,72.7699618 53.6926333,73.0054031 52.8596333,73.1272983 C52.0269667,73.2505292 51.2466333,73.310308 50.5183,73.310308 C49.4423,73.310308 48.4019667,73.1793959 47.3966333,72.9179058 C46.3896333,72.6570836 45.5139667,72.2566664 44.7686333,71.7153184 C44.0219667,71.1763081 43.4236333,70.4125432 42.9736333,69.5412435 C42.5219667,68.6702777 42.2973,67.6313303 42.2973,66.2954932 L34.3879667,66.2954932 C34.3533,68.6332082 34.7689667,70.6382997 35.6369667,72.3127716 C36.5033,73.9855736 37.6743,75.3902064 39.1489667,76.4698967 C40.6229667,77.5509229 42.1516333,78.3587705 44.0769667,78.8633829 C45.1943,79.1565992 45.9873,79.3756765 47.3206333,79.4999093 L47.3206333,83.9953353 L13.4193,83.9953353 C22.5473,94.0141138 35.5539667,100 49.9999667,100 C64.4459667,100 77.4529667,94.0141138 86.5806333,83.9953353 L52.3206333,83.9953353 L52.3206333,79.5142696 Z M50,0 C22.3856667,0 0,22.2877747 0,50.0311083 C0,60.6116064 3.263,70.3031048 8.824,78.3181276 L25.3206667,78.3181276 L25.3206667,55.6088963 L23.815,55.6088963 C21.2746667,55.6088963 20.62,53.7444016 22.4156667,51.132506 L46.9056667,15.5905552 C48.7033333,12.9880105 51.2303333,13.0063783 53.0323333,15.609257 L60.654,27.4871868 L60.654,22.916954 C60.654,22.0620182 61.1743333,21.8790086 61.9053333,21.8790086 L66.631,21.8790086 C67.1816667,21.8790086 66.9873333,22.0620182 66.9873333,22.6200642 L66.9873333,39.6546594 L76.5576667,51.132506 C78.349,53.7444016 79.2526667,55.6088963 76.718,55.6088963 L71.9873333,55.6088963 L71.9873333,78.3181276 L91.1763333,78.3181276 C96.7363333,70.3031048 100,60.6116064 100,50.0311083 C100,22.2877747 77.614,0 50,0"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-subject-to-redemption">\n        <g>\n            <path d="M80.0999333,74.0496333 C67.1182667,91.1999667 42.6912667,94.5793 25.5402667,81.5979667 C8.3906,68.6153 5.01026667,44.1893 17.9926,27.0389667 C29.6572667,11.6283 50.5586,7.34496667 67.1219333,16.0506333 L67.9616,14.9416333 C68.2319333,14.5839667 69.0369333,14.7373 69.7596,15.2839667 L77.3589333,21.0359667 C78.0809333,21.5836333 78.4469333,22.3163 78.1762667,22.6739667 L77.3369333,23.7819667 C90.2119333,37.3606333 91.7642667,58.6399667 80.0999333,74.0496333 L80.0999333,74.0496333 Z M66.1322667,10.5653 L67.7559333,8.4203 C68.0269333,8.0623 68.8316,8.21596667 69.5542667,8.7623 L83.6906,19.4633 C84.4132667,20.0103 84.7792667,20.7426333 84.5086,21.1003 L82.8849333,23.2453 C82.6142667,23.6029667 81.8096,23.4506333 81.0866,22.9033 L66.9502667,12.2026333 C66.2276,11.6556333 65.8616,10.9233 66.1322667,10.5653 L66.1322667,10.5653 Z M49.9999333,-3.33333333e-05 C22.3856,-3.33333333e-05 -6.66666667e-05,22.3846333 -6.66666667e-05,49.9999667 C-6.66666667e-05,77.6136333 22.3856,99.9999667 49.9999333,99.9999667 C77.6139333,99.9999667 99.9999333,77.6136333 99.9999333,49.9999667 C99.9999333,22.3846333 77.6139333,-3.33333333e-05 49.9999333,-3.33333333e-05 L49.9999333,-3.33333333e-05 Z M37.8794,19.2513 L40.4680667,26.4896333 C41.0267333,26.2896333 41.5967333,26.1076333 42.1644,25.9483 L40.0870667,18.5479667 C39.3487333,18.7553 38.6054,18.9919667 37.8794,19.2513 L37.8794,19.2513 Z M46.4627333,83.6683 C47.2304,83.7289667 48.0110667,83.7639667 48.7804,83.7706333 L48.8490667,76.0843 C48.2590667,76.0793 47.6597333,76.0523 47.0704,76.0056333 L46.4627333,83.6683 L46.4627333,83.6683 Z M35.3004667,80.7970333 C36.0004667,81.1153667 36.7228,81.4127 37.4458,81.6813667 L40.1211333,74.4747 C39.5668,74.2687 39.0134667,74.0410333 38.4764667,73.7977 L35.3004667,80.7970333 L35.3004667,80.7970333 Z M55.8841,75.1548 L57.9504333,82.5578 C58.6914333,82.3514667 59.4347667,82.1161333 60.1591,81.8584667 L57.5817667,74.6161333 C57.0251,74.8144667 56.4547667,74.9951333 55.8841,75.1548 L55.8841,75.1548 Z M74.1541333,55.1963 C74.0461333,55.7796333 73.9164667,56.3659667 73.7688,56.9396333 L81.2128,58.8549667 C81.4041333,58.1116333 81.5718,57.3516333 81.7138,56.5876333 L81.7314667,56.4926333 L74.1721333,55.0983 L74.1541333,55.1963 L74.1541333,55.1963 Z M70.1012333,65.0050333 L76.4355667,69.3590333 C76.8732333,68.7220333 77.2935667,68.0640333 77.6825667,67.4027 L71.0585667,63.5030333 C70.7595667,64.0103667 70.4379,64.5153667 70.1012333,65.0050333 L70.1012333,65.0050333 Z M63.8846,71.3261667 L68.3489333,77.5835 C68.9749333,77.1365 69.5942667,76.6611667 70.1882667,76.1725 L65.2976,70.2415 C64.8412667,70.6178333 64.3656,70.9828333 63.8846,71.3261667 L63.8846,71.3261667 Z M26.0107333,61.5677 L19.0797333,64.8917 C19.4117333,65.5843667 19.7737333,66.2753667 20.1537333,66.9447 L26.8367333,63.1470333 C26.5440667,62.6327 26.2667333,62.1010333 26.0107333,61.5677 L26.0107333,61.5677 Z M49.0433,17.6006 L48.7899667,50.8579333 L82.2989667,50.8579333 C82.2989667,31.1912667 67.4099667,17.6006 49.0433,17.6006 L49.0433,17.6006 Z M27.9655,36.1222333 L21.6255,31.7779 C21.1901667,32.4135667 20.7708333,33.0732333 20.3811667,33.7372333 L27.0111667,37.6265667 C27.3101667,37.1162333 27.6315,36.6112333 27.9655,36.1222333 L27.9655,36.1222333 Z M27.8603667,24.9544333 L32.7597,30.8774333 C33.2163667,30.4994333 33.6917,30.1337667 34.1727,29.7894333 L29.6963667,23.5401 C29.0713667,23.9881 28.4543667,24.4637667 27.8603667,24.9544333 L27.8603667,24.9544333 Z M24.3128333,44.1946667 L16.8655,42.2913333 C16.6805,43.015 16.5168333,43.756 16.3815,44.487 L16.3701667,44.548 L23.9388333,45.8943333 C24.0441667,45.3236667 24.1701667,44.752 24.3128333,44.1946667 L24.3128333,44.1946667 Z M23.6263,53.0397 L15.9756333,53.7843667 C16.0499667,54.5483667 16.1536333,55.3220333 16.2809667,56.0827 L23.8599667,54.8010333 C23.7619667,54.2183667 23.6829667,53.6260333 23.6263,53.0397 L23.6263,53.0397 Z M25.7851667,74.2685667 C26.3351667,74.8082333 26.9101667,75.3355667 27.4951667,75.8355667 L32.4848333,69.9882333 C32.0351667,69.6045667 31.5935,69.1995667 31.1711667,68.7845667 L25.7851667,74.2685667 L25.7851667,74.2685667 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-tenant-occupied">\n        <g>\n            <path d="M83.119103,55.1055482 L72.7446843,56.9620266 L72.7446843,78.9284718 L73.7599668,78.9284718 C74.9137873,78.9284718 75.7347176,79.8563788 75.7347176,81.0101993 L75.7347176,82.5261462 C75.7347176,83.6796346 74.9137873,84.9085382 73.7599668,84.9085382 L70.8390366,84.9085382 L55.4689369,84.9085382 L55.4689369,69.2939202 L44.1732558,69.2939202 L44.1732558,84.9085382 L28.5719269,84.9085382 L25.8672758,84.9085382 C24.7134551,84.9085382 23.9074751,83.6796346 23.9074751,82.5261462 L23.9074751,81.0101993 C23.9074751,79.8563788 24.7134551,78.9284718 25.8672758,78.9284718 L26.8975083,78.9284718 L26.8975083,65.1656811 L22.822093,65.8955814 C22.501495,65.9527242 22.1762459,65.9733222 21.8533222,65.956711 C19.867608,65.8543853 18.236711,64.4158472 17.8855482,62.4577077 L14.5666113,43.903887 C14.3662791,42.7842857 14.6134551,41.6553821 15.2636212,40.7234883 C15.9127907,39.7889369 16.8848837,39.1653489 18.0041528,38.9666778 L26.8975083,37.3746511 L26.8975083,21.4533887 L25.6187708,21.4533887 C24.4493356,21.4533887 23.501495,20.5072093 23.501495,19.3533887 C23.501495,18.1995681 24.8938538,15.3095349 24.8938538,15.3095349 C25.3004983,13.9769768 27.2347176,13.1477409 28.4038206,13.1477409 L31.880897,13.1477409 L31.880897,10.8221595 L45.8343853,10.8221595 L45.8343853,13.1477409 L70.8214286,13.1477409 C71.9901993,13.1477409 73.8084718,13.9543853 74.3307309,15.2879402 C74.3307309,15.2879402 75.7237541,18.0105316 75.7237541,19.4181728 C75.7237541,20.8261462 74.7759137,21.4533887 73.6061462,21.4533887 L72.7446843,21.4533887 L72.7446843,29.1696678 L78.2991694,28.1759801 C78.6197674,28.1188372 78.9480067,28.0982392 79.2712624,28.1148504 C81.2563123,28.2161794 82.888206,29.6553821 83.2383721,31.6138538 L86.5586379,50.1673422 C86.9709302,52.4753157 85.4284053,54.6899336 83.119103,55.1055482 M49.8340531,-9.96677741e-05 C22.3111296,-9.96677741e-05 0.000166112957,22.3105316 0.000166112957,49.8337873 C0.000166112957,77.3560466 22.3111296,99.6676744 49.8340531,99.6676744 C77.3559801,99.6676744 99.6679402,77.3560466 99.6679402,49.8337873 C99.6679402,22.3105316 77.3559801,-9.96677741e-05 49.8340531,-9.96677741e-05"></path>\n            <path d="M31.8810631,19.7920266 L31.8810631,30.0910299 L42.5122923,30.0910299 L42.5122923,19.7920266 L31.8810631,19.7920266 Z M42.5122591,31.7522259 L31.8810299,31.7522259 L31.8810299,36.4831229 L42.5122591,34.5801329 L42.5122591,31.7522259 Z M44.1733887,67.6326246 L55.4690698,67.6326246 L55.4690698,60.0532226 L44.1733887,62.074485 L44.1733887,67.6326246 Z M31.8810299,67.6326246 L42.5122591,67.6326246 L42.5122591,62.371495 L31.8810299,64.2738206 L31.8810299,67.6326246 Z M68.4259137,19.7920266 L57.7946843,19.7920266 L57.7946843,30.0910299 L68.4259137,30.0910299 L68.4259137,19.7920266 Z M55.4690698,31.7522259 L44.1733887,31.7522259 L44.1733887,34.2831229 L55.4690698,32.261196 L55.4690698,31.7522259 Z M57.7946511,67.6326246 L68.4258804,67.6326246 L68.4258804,57.7346179 L57.7946511,59.6369436 L57.7946511,67.6326246 Z M55.469103,19.7920266 L44.1734219,19.7920266 L44.1734219,30.0910299 L55.469103,30.0910299 L55.469103,19.7920266 Z M70.561196,40.1472758 C70.4701661,39.6406312 70.2977409,39.2662127 70.0425913,39.0260133 C69.7877741,38.7864784 69.3897674,38.7140531 68.8452492,38.8100664 L67.9950831,38.9628903 L69.6801329,48.3771761 L70.5306312,48.2253489 C71.0492359,48.1316611 71.3940863,47.9363123 71.565515,47.6376412 C71.7362791,47.3393023 71.7718272,46.9130564 71.6728239,46.3575748 L70.561196,40.1472758 L70.561196,40.1472758 Z M30.9967774,46.7710299 C30.9163788,46.5291694 30.8030897,46.3321594 30.6575748,46.17701 C30.5113953,46.0221927 30.3280067,45.9205316 30.1080731,45.872691 C29.8871429,45.8251828 29.6077409,45.8318272 29.2705316,45.8919601 L28.3113953,46.0643853 L29.03,50.0833222 L30.0808306,49.8956147 C30.406412,49.8368107 30.6572426,49.744784 30.8346511,49.6198671 C31.0110631,49.4942857 31.1363123,49.338804 31.2084053,49.152093 C31.2808306,48.9643853 31.3133887,48.7441196 31.3050831,48.4896346 C31.2967774,48.2368107 31.2632226,47.9474419 31.2054153,47.6208638 C31.1472758,47.2936212 31.0775083,47.0115614 30.9967774,46.7710299 L30.9967774,46.7710299 Z M73.0866113,48.6718937 C72.6035548,49.3512957 71.8131893,49.7881728 70.7148504,49.9861794 L68.1437541,50.4453157 L65.8374419,37.5546179 L68.5706644,37.0652492 C69.6211628,36.8785382 70.4766446,37.0263788 71.1354486,37.5127574 C71.7959137,37.9994684 72.2198339,38.7682392 72.4078738,39.8170764 L73.4866113,45.8456479 C73.7032226,47.0536212 73.5690033,47.995814 73.0866113,48.6718937 L73.0866113,48.6718937 L73.0866113,48.6718937 Z M60.5404319,51.8067774 L58.2334551,38.9154153 L63.7371097,37.9303654 L64.0487376,39.6692359 L60.390598,40.3237209 L61.0683389,44.1064452 L64.2550499,43.53701 L64.5656811,45.2745514 L61.3789701,45.8449833 L62.056711,49.6287043 L65.7135216,48.9732226 L66.0440863,50.8210631 L60.5404319,51.8067774 L60.5404319,51.8067774 Z M56.6842857,52.4971429 L54.8374419,52.826711 L52.8417608,41.6745514 L50.7058804,42.0559469 L50.3949169,40.3190698 L56.5138538,39.2240531 L56.8251496,40.9615947 L54.6882724,41.3436544 L56.6842857,52.4971429 L56.6842857,52.4971429 Z M49.3161794,53.8150831 L45.105216,46.5702326 L45.0690033,46.5768771 L46.4553821,54.3277077 L44.6092027,54.6572758 L42.3018937,41.7665781 L44.0766446,41.4496346 L48.2543853,48.716412 L48.2902658,48.7107641 L46.8999003,40.9439867 L48.7474087,40.6130897 L51.0543853,53.5031229 L49.3161794,53.8150831 L49.3161794,53.8150831 Z M37.077309,56.004784 L34.7713289,43.1144186 L40.2749833,42.1290366 L40.5856147,43.8672426 L36.9284718,44.5220598 L37.6055482,48.3057808 L40.7919269,47.7353489 L41.1028903,49.473887 L37.9168439,50.0433222 L38.5939202,53.8273754 L42.2510631,53.1722259 L42.5816279,55.019402 L37.077309,56.004784 L37.077309,56.004784 Z M33.1307973,56.7114286 L30.4261462,51.5140863 L29.321495,51.7127574 L30.3065449,57.2174087 L28.4600332,57.5469768 L26.1533887,44.6572758 L29.1224917,44.1257143 C31.2952492,43.73701 32.6068771,44.8027907 33.0583721,47.3250499 C33.1919269,48.0748837 33.1892691,48.7386711 33.0503987,49.3170764 C32.911196,49.8964784 32.5753157,50.4021262 32.042093,50.832691 L35.0859469,56.3609302 L33.1307973,56.7114286 L33.1307973,56.7114286 Z M79.1580399,30.3386711 C79.0035548,30.3306977 78.8477409,30.3413289 78.6939202,30.367907 L18.397907,41.157608 C17.8650167,41.2542857 17.4005648,41.550299 17.0909302,41.9951496 C16.7816279,42.4396678 16.6640199,42.9775416 16.7587043,43.5107641 L20.0793023,62.0649169 C20.2733222,63.1493023 21.3327907,63.9011296 22.4327907,63.7034551 L82.7284718,52.9127574 C83.828804,52.7154153 84.5636877,51.6589369 84.3666778,50.5599336 L81.0474087,32.0071097 C80.8799668,31.0728903 80.1032226,30.3871761 79.1580399,30.3386711 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-total-debt">\n        <g>\n            <path d="M94.3543145,26.8940426 L67.9872266,26.8940426 L67.9872266,39.43854 L77.0575902,50.9972649 C78.8489295,53.5983032 79.2529308,55.583192 76.7179224,55.583192 L72.9872433,55.583192 L72.9872433,80.7929481 C72.9872433,82.1456748 71.902573,83.2715571 70.8275694,83.2715571 L53.3205111,83.2715571 L53.3205111,79.1339813 C53.98718,78.9958731 55.8971863,78.7420075 57.111857,78.3697157 C59.0371968,77.7795866 60.5402018,76.9556075 61.8412061,75.897445 C63.1422105,74.8386152 64.0662136,73.5802958 64.7258824,72.1228203 C65.3838846,70.6646776 65.6865523,69.0857736 65.6865523,67.3844403 C65.6865523,65.3024754 65.2235507,63.5941366 64.3385478,62.2574224 C63.4545448,60.9213754 62.4018747,59.8542057 61.1878706,59.0549127 C59.9731999,58.2566204 58.7491958,57.6751648 57.5181917,57.3108793 C56.2858543,56.9469274 55.3231844,56.6950634 54.6295154,56.5562879 C52.3051744,55.966826 50.4225014,55.4814456 48.9834966,55.0988124 C47.5434918,54.7175136 46.4161547,54.3355476 45.601152,53.9535816 C44.7861493,53.5722828 44.2391475,53.1549558 43.9621465,52.7036021 C43.6841456,52.2542499 43.5451452,51.6627864 43.5451452,50.9338819 C43.5451452,50.135256 43.7188124,49.4757392 44.0661469,48.9559985 C44.4124814,48.4355907 44.8544828,48.0009167 45.3934846,47.653311 C45.9304864,47.3077068 46.5291551,47.0648498 47.1881573,46.9250736 C47.8464928,46.7876326 48.5061617,46.7169105 49.1654972,46.7169105 C50.1711672,46.7169105 51.098837,46.8036451 51.9491732,46.9771144 C52.7985093,47.1515845 53.5531785,47.4454814 54.212514,47.8618077 C54.8708496,48.2778004 55.4001847,48.8052137 55.7995193,49.5344518 C56.197854,50.2633564 56.4321881,50.5792706 56.501855,52.2472444 L64.4112147,52.2472444 C64.4112147,49.9120811 64.00288,48.3108263 63.1878773,46.8016436 C62.3728746,45.2911265 61.2715376,44.0755072 59.8835329,43.1010769 C58.496195,42.1289817 57.1295238,41.4394414 55.3431845,41.0044338 C54.6098487,40.825627 53.3205111,40.6985274 53.3205111,40.5924443 L53.3205111,36.5682907 L48.3204944,36.5682907 L48.3204944,40.4603408 C46.6538222,40.5657567 45.9064864,40.7595753 44.8628162,41.04213 C43.1978107,41.4934837 41.5421385,42.1883616 40.2244674,43.1244285 C38.9051297,44.0618298 37.7567925,45.2334146 36.9421231,46.6388493 C36.1254538,48.0439504 35.6781189,49.7025836 35.6781189,51.6107456 C35.6781189,53.3107445 35.9777866,54.7588794 36.6204554,55.9578189 C37.2614575,57.1550905 38.093127,58.1535397 39.1331304,58.9514983 C40.1744672,59.7497906 41.3474712,60.4003004 42.6664756,60.9030277 C43.9841466,61.4070894 45.3341511,61.8327563 46.7221557,62.1793612 C48.0748269,62.5609936 49.409498,62.907265 50.7281691,63.2205105 C52.0458402,63.5317544 53.2248441,63.8963735 54.2648475,64.3126997 C55.3061844,64.730694 56.1465205,65.2504346 56.7875226,65.8752576 C57.4301914,66.499747 57.7511925,67.3157198 57.7511925,68.3221751 C57.7511925,69.2585756 57.507525,70.0315147 57.0228567,70.6376564 C56.5358551,71.2464668 55.9295198,71.7241745 55.2005173,72.0701123 C54.4725149,72.4170508 53.6925123,72.6515679 52.8595095,72.7726628 C52.0271734,72.8957593 51.2468375,72.9554728 50.5181684,72.9554728 C49.4424981,72.9554728 48.4021613,72.8250372 47.396158,72.5644997 C46.389488,72.304963 45.5138184,71.9059837 44.7684826,71.3668945 C44.0221467,70.8301406 43.4234781,70.213991 42.9734766,69.3466447 C42.5218084,68.4789647 42.297141,67.5926034 42.297141,66.2582244 L34.3881146,66.2582244 C34.3531145,68.5933877 34.7687826,70.4388339 35.6367855,72.1054733 C36.5031217,73.7721127 37.6741256,75.0988191 39.1487972,76.173995 C40.6231354,77.2505053 42.6518088,78.0194412 44.5768153,78.5211678 C45.6944856,78.8133968 46.6538222,78.9958731 48.3204944,79.1193032 L48.3204944,83.2715571 L28.5527618,83.2715571 C27.4780916,83.2715571 26.3204211,82.1456748 26.3204211,80.7929481 L26.3204211,55.583192 L23.814746,55.583192 C21.2747376,55.583192 20.6200687,53.6016392 22.4154081,51.0006008 L39.0417968,26.8940426 L5.64501882,26.8940426 C2.04634015,33.8995326 0,41.6462701 0,49.9754641 C0,77.6037822 22.385408,100 50.0001667,100 C77.6142587,100 100,77.6047829 100,49.9764649 C100,41.6472709 97.9536598,33.8995326 94.3543145,26.8940426 L94.3543145,26.8940426 Z M46.9057564,15.537176 C48.703429,12.9448111 51.5554385,12.9581549 53.3571112,15.5505198 L57.1651239,21.2229651 L90.8692362,21.2229651 C81.8175394,8.21276941 66.8924896,-1.77635684e-15 50.0001,-1.77635684e-15 C33.1070437,-1.77635684e-15 18.1823273,8.21276941 9.13063044,21.2229651 L42.99341,21.2229651 L46.9057564,15.537176 L46.9057564,15.537176 Z"></path>\n        </g>\n    </symbol>\n    <symbol viewBox="0 0 100 100" id="badge-total-debt-below-market">\n        <g>\n            <path d="M52.3206333,79.5142696 C53.3206333,79.3756765 55.3969667,79.1211995 56.6119667,78.7471651 C58.5369667,78.1547213 60.2899667,77.3275042 61.5913,76.2645118 C62.8923,75.2015194 63.9409667,73.9374835 64.6009667,72.4747418 C65.2586333,71.0106643 65.6239667,69.4246917 65.6239667,67.7164899 C65.6239667,65.6259048 65.1919667,63.910022 64.3069667,62.5681736 C63.4233,61.2263252 62.3859667,60.1546499 61.1723,59.3521457 C59.9579667,58.5509774 58.7413,57.9668826 57.5103,57.6008632 C56.2783,57.2355118 55.3193,56.9823706 54.6256333,56.8431096 C52.3009667,56.2513337 50.4206333,55.7644211 48.9813,55.380034 C47.5413,54.9969827 46.4149667,54.6132635 45.6003,54.2302122 C44.7853,53.8471609 44.2386333,53.428042 43.9616333,52.9745253 C43.6836333,52.5230123 43.5453,51.9292327 43.5453,51.1975279 C43.5453,50.3960256 43.7189667,49.7334504 44.0659667,49.2111381 C44.4123,48.6891597 44.8546333,48.2526749 45.3936333,47.9033535 C45.9303,47.5567038 46.5289667,47.3122456 47.1886333,47.1723166 C47.8463,47.0337235 48.5063,46.9632581 49.1653,46.9632581 C50.1709667,46.9632581 51.0989667,47.0494196 51.9493,47.2244143 C52.7986333,47.3997429 53.5529667,47.694295 54.2126333,48.112746 C54.8706333,48.5305291 55.4006333,48.9366235 55.7996333,49.6689963 C56.1979667,50.400701 56.4323,50.5994068 56.5019667,52.2692032 L64.4113,52.2692032 C64.4113,49.9314883 64.0026333,48.44036 63.1883,46.9248528 C62.3729667,45.4080097 61.2716333,44.249505 59.8836333,43.2700024 C58.4959667,42.2948413 56.6296333,41.6326 54.8426333,41.1961153 C54.1093,41.0167791 52.3206333,40.919597 52.3206333,40.8137319 L52.3206333,36.5731169 L47.3206333,36.5731169 L47.3206333,40.6808161 C45.9873,40.7866812 45.4066333,40.9813794 44.3629667,41.2645769 C42.6976333,41.7180936 41.2923,42.4157346 39.9746333,43.3561639 C38.6553,44.2969272 37.6323,45.4731318 36.8173,46.8844437 C36.0009667,48.2960896 35.6156333,49.9612106 35.6156333,51.877469 C35.6156333,53.5843349 35.9463,55.0383936 36.5889667,56.2423168 C37.2299667,57.4445703 38.0773,58.44745 39.1176333,59.2479504 C40.1589667,60.0497867 41.3403,60.703345 42.6589667,61.2086254 C43.9766333,61.7142397 45.3303,62.1413736 46.7183,62.4893592 C48.0713,62.8730784 49.4076333,63.2207301 50.7259667,63.5346518 C52.0436333,63.8479056 53.2236333,64.213925 54.2636333,64.632042 C55.3049667,65.0514949 56.1459667,65.5741411 56.7869667,66.2009827 C57.4296333,66.8278243 57.7513,67.6473604 57.7513,68.6579212 C57.7513,69.5980165 57.5076333,70.3744719 57.0226333,70.9829457 C56.5359667,71.5940912 55.9296333,72.0739907 55.2006333,72.4216423 C54.4726333,72.7699618 53.6926333,73.0054031 52.8596333,73.1272983 C52.0269667,73.2505292 51.2466333,73.310308 50.5183,73.310308 C49.4423,73.310308 48.4019667,73.1793959 47.3966333,72.9179058 C46.3896333,72.6570836 45.5139667,72.2566664 44.7686333,71.7153184 C44.0219667,71.1763081 43.4236333,70.4125432 42.9736333,69.5412435 C42.5219667,68.6702777 42.2973,67.6313303 42.2973,66.2954932 L34.3879667,66.2954932 C34.3533,68.6332082 34.7689667,70.6382997 35.6369667,72.3127716 C36.5033,73.9855736 37.6743,75.3902064 39.1489667,76.4698967 C40.6229667,77.5509229 42.1516333,78.3587705 44.0769667,78.8633829 C45.1943,79.1565992 45.9873,79.3756765 47.3206333,79.4999093 L47.3206333,83.9953353 L13.4193,83.9953353 C22.5473,94.0141138 35.5539667,100 49.9999667,100 C64.4459667,100 77.4529667,94.0141138 86.5806333,83.9953353 L52.3206333,83.9953353 L52.3206333,79.5142696 Z M50,0 C22.3856667,0 0,22.2877747 0,50.0311083 C0,60.6116064 3.263,70.3031048 8.824,78.3181276 L25.3206667,78.3181276 L25.3206667,55.6088963 L23.815,55.6088963 C21.2746667,55.6088963 20.62,53.7444016 22.4156667,51.132506 L46.9056667,15.5905552 C48.7033333,12.9880105 51.2303333,13.0063783 53.0323333,15.609257 L60.654,27.4871868 L60.654,22.916954 C60.654,22.0620182 61.1743333,21.8790086 61.9053333,21.8790086 L66.631,21.8790086 C67.1816667,21.8790086 66.9873333,22.0620182 66.9873333,22.6200642 L66.9873333,39.6546594 L76.5576667,51.132506 C78.349,53.7444016 79.2526667,55.6088963 76.718,55.6088963 L71.9873333,55.6088963 L71.9873333,78.3181276 L91.1763333,78.3181276 C96.7363333,70.3031048 100,60.6116064 100,50.0311083 C100,22.2877747 77.614,0 50,0"></path>\n        </g>\n    </symbol>\n    </symbol>\n</svg>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);}());!function(e,t){typeof module!="undefined"&&module.exports?module.exports=t():typeof define=="function"&&define.amd?define(t):this[e]=t()}("bowser",function(){function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(t),o=!s&&/android/i.test(t),u=/CrOS/.test(t),a=n(/edge\/(\d+(\.\d+)?)/i),f=n(/version\/(\d+(\.\d+)?)/i),l=/tablet/i.test(t),c=!l&&/[^-]mobi/i.test(t),h;/opera|opr/i.test(t)?h={name:"Opera",opera:e,version:f||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?h={name:"Yandex Browser",yandexbrowser:e,version:f||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(t)?(h={name:"Windows Phone",windowsphone:e},a?(h.msedge=e,h.version=a):(h.msie=e,h.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?h={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?h={name:"Chrome",chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?h={name:"Microsoft Edge",msedge:e,version:a}:/chrome|crios|crmo/i.test(t)?h={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:i?(h={name:i=="iphone"?"iPhone":i=="ipad"?"iPad":"iPod"},f&&(h.version=f)):/sailfish/i.test(t)?h={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?h={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(t)?(h={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(h.firefoxos=e)):/silk/i.test(t)?h={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:o?h={name:"Android",version:f}:/phantom/i.test(t)?h={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?h={name:"BlackBerry",blackberry:e,version:f||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(t)?(h={name:"WebOS",webos:e,version:f||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(h.touchpad=e)):/bada/i.test(t)?h={name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(t)?h={name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||f}:/safari/i.test(t)?h={name:"Safari",safari:e,version:f}:h={name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!h.msedge&&/(apple)?webkit/i.test(t)?(h.name=h.name||"Webkit",h.webkit=e,!h.version&&f&&(h.version=f)):!h.opera&&/gecko\//i.test(t)&&(h.name=h.name||"Gecko",h.gecko=e,h.version=h.version||n(/gecko\/(\d+(\.\d+)?)/i)),!h.msedge&&(o||h.silk)?h.android=e:i&&(h[i]=e,h.ios=e);var p="";h.windowsphone?p=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i?(p=n(/os (\d+([_\s]\d+)*) like mac os x/i),p=p.replace(/[_\s]/g,".")):o?p=n(/android[ \/-](\d+(\.\d+)*)/i):h.webos?p=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):h.blackberry?p=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):h.bada?p=n(/bada\/(\d+(\.\d+)*)/i):h.tizen&&(p=n(/tizen[\/\s](\d+(\.\d+)*)/i)),p&&(h.osversion=p);var d=p.split(".")[0];if(l||i=="ipad"||o&&(d==3||d==4&&!c)||h.silk)h.tablet=e;else if(c||i=="iphone"||i=="ipod"||o||h.blackberry||h.webos||h.bada)h.mobile=e;return h.msedge||h.msie&&h.version>=10||h.yandexbrowser&&h.version>=15||h.chrome&&h.version>=20||h.firefox&&h.version>=20||h.safari&&h.version>=6||h.opera&&h.version>=10||h.ios&&h.osversion&&h.osversion.split(".")[0]>=6||h.blackberry&&h.version>=10.1?h.a=e:h.msie&&h.version<10||h.chrome&&h.version<20||h.firefox&&h.version<20||h.safari&&h.version<6||h.opera&&h.version<10||h.ios&&h.osversion&&h.osversion.split(".")[0]<6?h.c=e:h.x=e,h}var e=!0,n=t(typeof navigator!="undefined"?navigator.userAgent:"");return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if(typeof r=="string"&&r in n)return!0}return!1},n._detect=t,n})
angular.module('xdc-cookies',[]).factory('cookieSvc',function(){return{read:function(name){var nameEQ=name+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;},create:function(name,value,days){var expires='';if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires='; expires='+date.toGMTString();}
document.cookie=name+'='+value+expires+'; path=/';},erase:function(name){this.create(name,'',-1);}};});angular.module('xdc-storage',['ng']);angular.module('xdc-storage').factory('sessionStore',function($window,$log){var _store=$window.sessionStorage;var simulateLocalStore={};try{_store.shared_contrib_test_store='';}catch(e){_store=simulateLocalStore;}
return{set:function(key,value){_store[key]=JSON.stringify(value);},store:function(){return this.set.apply(this,arguments);},get:function(key){try{return JSON.parse(_store[key]||null);}catch(e){throw new Error('sessionStore.get: retrieved data that wasn\'t null and wasn\'t JSON: '+e);}},remove:function(key){if(_store!==simulateLocalStore){_store.removeItem(key);}else{delete _store[key];}},clear:function(){if(_store!==simulateLocalStore){_store.clear();}else{_store=simulateLocalStore={};}}};});angular.module('xdc-storage').factory('localStore',function($window,$log){var _store=$window.localStorage;var simulateLocalStore={};try{_store.shared_contrib_test_store='';}catch(e){_store=simulateLocalStore;}
return{set:function(key,value){_store[key]=JSON.stringify(value);},store:function(){return this.set.apply(this,arguments);},get:function(key){try{return JSON.parse(_store[key]||null);}catch(e){throw new Error('sessionStore.get: retrieved data that wasn\'t null and wasn\'t JSON: '+e);}},remove:function(key){if(_store!==simulateLocalStore){_store.removeItem(key);}else{delete _store[key];}},clear:function(){if(_store!==simulateLocalStore){_store.clear();}else{_store=simulateLocalStore={};}}};});angular.module('fe-shared-components',['fe-create-account','fe-create-account-popup','fe-deprecate-browsers','fe-footer','fe-header','fe-login','fe-login-popup','fe-shared-constants','fe-user','fe-validators','xdc-cookies','xdc-environment','xdc-analytics','xdc-storage','fe-snapEngage','fe-launch-darkly','fe-live-agent','fe-smart-app-banner','fe-seller-dashboard-tooltip','fe-browser-detect','ui-toolkit']);
    function Visitor(m,s){if(!m)throw"Visitor requires Adobe Marketing Cloud Org ID";var a=this;a.version="1.5.2";var l=window,j=l.Visitor;l.s_c_in||(l.s_c_il=[],l.s_c_in=0);a._c="Visitor";a._il=l.s_c_il;a._in=l.s_c_in;a._il[a._in]=a;l.s_c_in++;var n=l.document,h=j.Ka;h||(h=null);var x=j.La;x||(x=void 0);var i=j.ja;i||(i=!0);var k=j.Ja;k||(k=!1);a.S=function(a){var c=0,b,e;if(a)for(b=0;b<a.length;b++)e=a.charCodeAt(b),c=(c<<5)-c+e,c&=c;return c};a.q=function(a){var c="0123456789",b="",e="",f,g=8,i=10,h=10;if(1==a){c+="ABCDEF";for(a=0;16>a;a++)f=Math.floor(Math.random()*g),b+=c.substring(f,f+1),f=Math.floor(Math.random()*g),e+=c.substring(f,f+1),g=16;return b+"-"+e}for(a=0;19>a;a++)f=Math.floor(Math.random()*i),b+=c.substring(f,f+1),0==a&&9==f?i=3:(1==a||2==a)&&10!=i&&2>f?i=10:2<a&&(i=10),f=Math.floor(Math.random()*h),e+=c.substring(f,f+1),0==a&&9==f?h=3:(1==a||2==a)&&10!=h&&2>f?h=10:2<a&&(h=10);return b+e};a.ma=function(){var a;!a&&l.location&&(a=l.location.hostname);if(a)if(/^[0-9.]+$/.test(a))a="";else{var c=a.split("."),b=c.length-1,e=b-1;1<b&&2>=c[b].length&&(2==c[b-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+
c[b]+","))&&e--;if(0<e)for(a="";b>=e;)a=c[b]+(a?".":"")+a,b--}return a};a.cookieRead=function(a){var a=encodeURIComponent(a),c=(";"+n.cookie).split(" ").join(";"),b=c.indexOf(";"+a+"="),e=0>b?b:c.indexOf(";",b+1);return 0>b?"":decodeURIComponent(c.substring(b+2+a.length,0>e?c.length:e))};a.cookieWrite=function(d,c,b){var e=a.cookieLifetime,f,c=""+c,e=e?(""+e).toUpperCase():"";b&&"SESSION"!=e&&"NONE"!=e?(f=""!=c?parseInt(e?e:0,10):-60)?(b=new Date,b.setTime(b.getTime()+1E3*f)):1==b&&(b=new Date,f=b.getYear(),b.setYear(f+2+(1900>f?1900:0))):b=0;return d&&"NONE"!=e?(n.cookie=encodeURIComponent(d)+"="+encodeURIComponent(c)+"; path=/;"+(b?" expires="+b.toGMTString()+";":"")+(a.cookieDomain?" domain="+a.cookieDomain+";":""),a.cookieRead(d)==c):0};a.g=h;a.O=function(a,c){try{"function"==typeof a?a.apply(l,c):a[1].apply(a[0],c)}catch(b){}};a.qa=function(d,c){c&&(a.g==h&&(a.g={}),a.g[d]==x&&(a.g[d]=[]),a.g[d].push(c))};a.o=function(d,c){if(a.g!=h){var b=a.g[d];if(b)for(;0<b.length;)a.O(b.shift(),c)}};a.j=h;a.oa=function(d,c,b){var e=0,f=0,g;if(c&&n){for(g=0;!e&&2>g;){try{e=(e=n.getElementsByTagName(0<g?"HEAD":"head"))&&0<e.length?e[0]:0}catch(i){e=0}g++}if(!e)try{n.body&&(e=n.body)}catch(j){e=0}if(e)for(g=0;!f&&2>g;){try{f=n.createElement(0<g?"SCRIPT":"script")}catch(k){f=0}g++}}!c||!e||!f?b&&b():(f.type="text/javascript",f.setAttribute("async","async"),f.src=c,e.firstChild?e.insertBefore(f,e.firstChild):e.appendChild(f),b&&(a.j==h&&(a.j={}),a.j[d]=setTimeout(b,a.loadTimeout)))};a.ka=function(d){a.j!=h&&a.j[d]&&(clearTimeout(a.j[d]),a.j[d]=0)};a.T=k;a.U=k;a.isAllowed=function(){if(!a.T&&(a.T=i,a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,"T",1)))a.U=i;return a.U};a.a=h;a.d=h;var z=j.Ya;z||(z="MC");var q=j.bb;q||(q="MCMID");var A=j.Za;A||(A="MCCIDH");var B=j.ab;B||(B="MCSYNCS");var D=j.$a;D||(D="MCIDTS");var y=j.Wa;y||(y="A");var o=j.Ta;o||(o="MCAID");var w=j.Xa;w||(w="AAM");var v=j.Va;v||(v="MCAAMLH");var p=j.Ua;p||(p="MCAAMB");var r=j.cb;r||(r="NONE");a.B=0;a.R=function(){if(!a.B){var d=a.version;a.audienceManagerServer&&(d+="|"+a.audienceManagerServer);a.audienceManagerServerSecure&&(d+="|"+a.audienceManagerServerSecure);a.B=a.S(d)}return a.B};a.V=k;a.f=function(){if(!a.V){a.V=i;var d=a.R(),c=k,b=a.cookieRead(a.cookieName),e,f,g,j=new Date;a.a==h&&(a.a={});if(b&&"T"!=b){b=b.split("|");b[0].match(/^[\-0-9]+$/)&&(parseInt(b[0],10)!=d&&(c=i),b.shift());1==b.length%2&&b.pop();for(d=0;d<b.length;d+=2)e=b[d].split("-"),f=e[0],g=b[d+1],e=1<e.length?parseInt(e[1],10):0,c&&(f==A&&(g=""),0<e&&(e=j.getTime()/1E3-60)),f&&g&&(a.c(f,g,1),0<e&&(a.a["expire"+f]=e,j.getTime()>=1E3*e&&(a.d||(a.d={}),a.d[f]=i)))}if(!a.b(o)&&(b=a.cookieRead("s_vi")))b=b.split("|"),1<b.length&&0<=b[0].indexOf("v1")&&(g=b[1],d=g.indexOf("["),0<=d&&(g=g.substring(0,d)),g&&g.match(/^[0-9a-fA-F\-]+$/)&&a.c(o,g))}};a.sa=function(){var d=a.R(),c,b;for(c in a.a)!Object.prototype[c]&&a.a[c]&&"expire"!=c.substring(0,6)&&(b=a.a[c],d+=(d?"|":"")+c+(a.a["expire"+c]?"-"+a.a["expire"+c]:"")+"|"+b);a.cookieWrite(a.cookieName,d,1)};a.b=function(d,c){return a.a!=h&&(c||!a.d||!a.d[d])?a.a[d]:h};a.c=function(d,c,b){a.a==h&&(a.a={});a.a[d]=c;b||a.sa()};a.na=function(d,c){var b=a.b(d,c);return b?b.split("*"):h};a.ra=function(d,c,b){a.c(d,c?c.join("*"):"",b)};a.Qa=function(d,c){var b=a.na(d,c);if(b){var e={},f;for(f=0;f<b.length;f+=2)e[b[f]]=b[f+1];return e}return h};a.Sa=function(d,c,b){var e=h,f;if(c)for(f in e=[],c)Object.prototype[f]||(e.push(f),e.push(c[f]));a.ra(d,e,b)};a.l=function(d,c){var b=new Date;b.setTime(b.getTime()+
1E3*c);a.a==h&&(a.a={});a.a["expire"+d]=Math.floor(b.getTime()/1E3);0>c?(a.d||(a.d={}),a.d[d]=i):a.d&&(a.d[d]=k)};a.Q=function(a){if(a&&("object"==typeof a&&(a=a.d_mid?a.d_mid:a.visitorID?a.visitorID:a.id?a.id:a.uuid?a.uuid:""+a),a&&(a=a.toUpperCase(),"NOTARGET"==a&&(a=r)),!a||a!=r&&!a.match(/^[0-9a-fA-F\-]+$/)))a="";return a};a.i=function(d,c){a.ka(d);a.h!=h&&(a.h[d]=k);if(d==z){var b=a.b(q);if(!b){b="object"==typeof c&&c.mid?c.mid:a.Q(c);if(!b){if(a.u){a.getAnalyticsVisitorID(h,k,i);return}b=a.q()}a.c(q,b)}if(!b||b==r)b="";"object"==typeof c&&((c.d_region||c.dcs_region||c.d_blob||c.blob)&&a.i(w,c),a.u&&c.mid&&a.i(y,{id:c.id}));a.o(q,[b])}if(d==w&&"object"==typeof c){b=604800;c.id_sync_ttl!=x&&c.id_sync_ttl&&(b=parseInt(c.id_sync_ttl,10));var e=a.b(v);e||((e=c.d_region)||(e=c.dcs_region),e&&(a.l(v,b),a.c(v,e)));e||(e="");a.o(v,[e]);e=a.b(p);if(c.d_blob||c.blob)(e=c.d_blob)||(e=c.blob),a.l(p,b),a.c(p,e);e||(e="");a.o(p,[e]);!c.error_msg&&a.s&&a.c(A,a.s);a.idSyncDisableSyncs?t.ba=i:(t.ba=k,b={},b.ibs=c.ibs,b.subdomain=c.subdomain,t.Ha(b))}if(d==y){b=a.b(o);b||((b=a.Q(c))?a.l(p,-1):b=r,a.c(o,b));if(!b||b==r)b="";a.o(o,[b])}};a.h=h;a.r=function(d,c,b,e){var f="",g;if(a.isAllowed()&&(a.f(),f=a.b(d),!f&&(d==q?g=z:d==v||d==p?g=w:d==o&&(g=y),g))){if(c&&(a.h==h||!a.h[g]))a.h==h&&(a.h={}),a.h[g]=i,a.oa(g,c,function(){if(!a.b(d)){var b="";d==q?b=a.q():g==w&&(b={error_msg:"timeout"});a.i(g,b)}});a.qa(d,b);c||a.i(g,{id:r});return""}if((d==q||d==o)&&f==r)f="",e=i;b&&e&&a.O(b,[f]);return f};a._setMarketingCloudFields=function(d){a.f();a.i(z,d)};a.setMarketingCloudVisitorID=function(d){a._setMarketingCloudFields(d)};a.u=k;a.getMarketingCloudVisitorID=function(d,c){if(a.isAllowed()){a.marketingCloudServer&&0>a.marketingCloudServer.indexOf(".demdex.net")&&(a.u=i);var b=a.A("_setMarketingCloudFields");return a.r(q,b,d,c)}return""};a.pa=function(){a.getAudienceManagerBlob()};j.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2};a.p={};a.P=k;a.s="";a.setCustomerIDs=function(d){if(a.isAllowed()&&d){a.f();var c,b;for(c in d)if(!Object.prototype[c]&&(b=d[c]))if("object"==typeof b){var e={};b.id&&(e.id=b.id);b.authState!=x&&(e.authState=b.authState);a.p[c]=e}else a.p[c]={id:b};var d=a.getCustomerIDs(),e=a.b(A),f="";e||(e=0);for(c in d)Object.prototype[c]||(b=d[c],f+=(f?"|":"")+c+"|"+(b.id?b.id:"")+(b.authState?b.authState:""));a.s=a.S(f);a.s!=e&&(a.P=i,a.pa())}};a.getCustomerIDs=function(){a.f();var d={},c,b;for(c in a.p)Object.prototype[c]||(b=a.p[c],d[c]||(d[c]={}),b.id&&(d[c].id=b.id),d[c].authState=b.authState!=x?b.authState:j.AuthState.UNKNOWN);return d};a._setAnalyticsFields=function(d){a.f();a.i(y,d)};a.setAnalyticsVisitorID=function(d){a._setAnalyticsFields(d)};a.getAnalyticsVisitorID=function(d,c,b){if(a.isAllowed()){var e="";b||(e=a.getMarketingCloudVisitorID(function(){a.getAnalyticsVisitorID(d,i)}));if(e||b){var f=b?a.marketingCloudServer:a.trackingServer,g="";a.loadSSL&&(b?a.marketingCloudServerSecure&&(f=a.marketingCloudServerSecure):a.trackingServerSecure&&(f=a.trackingServerSecure));f&&(g="http"+(a.loadSSL?"s":"")+"://"+f+"/id?d_visid_ver="+
a.version+"&callback=s_c_il%5B"+a._in+"%5D._set"+(b?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(a.marketingCloudOrgID)+(e?"&mid="+e:""));return a.r(b?q:o,g,d,c)}}return""};a._setAudienceManagerFields=function(d){a.f();a.i(w,d)};a.A=function(d){var c=a.audienceManagerServer,b="",e=a.b(q),f=a.b(p,i),g=a.b(o),g=g&&g!=r?"&d_cid_ic=AVID%01"+encodeURIComponent(g):"";a.loadSSL&&a.audienceManagerServerSecure&&(c=a.audienceManagerServerSecure);if(c){var b=a.getCustomerIDs(),h,j;if(b)for(h in b)Object.prototype[h]||(j=b[h],g+="&d_cid_ic="+encodeURIComponent(h)+"%01"+encodeURIComponent(j.id?j.id:"")+(j.authState?"%01"+j.authState:""));d||(d="_setAudienceManagerFields");b="http"+(a.loadSSL?"s":"")+"://"+c+"/id?d_visid_ver="+a.version+"&d_rtbd=json&d_ver=2"+(!e&&a.u?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(a.marketingCloudOrgID)+"&d_nsid="+(a.idSyncContainerID||0)+(e?"&d_mid="+e:"")+(f?"&d_blob="+encodeURIComponent(f):"")+g+"&d_cb=s_c_il%5B"+a._in+"%5D."+d}return b};a.getAudienceManagerLocationHint=function(d,c){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerLocationHint(d,i)})){var b=a.b(o);b||(b=a.getAnalyticsVisitorID(function(){a.getAudienceManagerLocationHint(d,i)}));if(b)return b=a.A(),a.r(v,b,d,c)}return""};a.getAudienceManagerBlob=function(d,c){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerBlob(d,i)})){var b=a.b(o);b||(b=a.getAnalyticsVisitorID(function(){a.getAudienceManagerBlob(d,i)}));if(b)return b=a.A(),a.P&&a.l(p,-1),a.r(p,b,d,c)}return""};a.m="";a.t={};a.C="";a.D={};a.getSupplementalDataID=function(d,c){!a.m&&!c&&(a.m=a.q(1));var b=a.m;a.C&&!a.D[d]?(b=a.C,a.D[d]=i):b&&(a.t[d]&&(a.C=a.m,a.D=a.t,a.m=b=!c?a.q(1):"",a.t={}),b&&(a.t[d]=i));return b};var u={k:!!l.postMessage,ha:1,N:864E5};a.Ma=u;a.X={postMessage:function(a,c,b){var e=1;c&&(u.k?b.postMessage(a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):c&&(b.location=c.replace(/#.*$/,"")+"#"+ +new Date+e++ +"&"+a))},J:function(a,c){var b;try{if(u.k)if(a&&(b=function(b){if("string"===typeof c&&b.origin!==c||"[object Function]"===Object.prototype.toString.call(c)&&!1===c(b.origin))return!1;a(b)}),window.addEventListener)window[a?"addEventListener":"removeEventListener"]("message",b,!1);else window[a?"attachEvent":"detachEvent"]("onmessage",b)}catch(e){}}};var E={Y:function(){if(n.addEventListener)return function(a,c,b){a.addEventListener(c,function(a){"function"===typeof b&&b(a)},k)};if(n.attachEvent)return function(a,c,b){a.attachEvent("on"+c,function(a){"function"===typeof b&&b(a)})}}(),map:function(a,c){if(Array.prototype.map)return a.map(c);if(void 0===a||a===h)throw new TypeError;var b=Object(a),e=b.length>>>0;if("function"!==typeof c)throw new TypeError;for(var f=Array(e),g=0;g<e;g++)g in b&&(f[g]=c.call(c,b[g],g,b));return f},ya:function(a,c){return this.map(a,function(a){return encodeURIComponent(a)}).join(c)}};a.Ra=E;var t={ia:3E4,M:649,fa:k,id:h,H:h,aa:function(a){if("string"===typeof a)return a=a.split("/"),a[0]+"//"+a[2]},e:h,url:h,za:function(){var d="http://fast.",c="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(n.location.href);this.e||(this.e="nosubdomainreturned");a.loadSSL&&(d=a.idSyncSSLUseAkamai?"https://fast.":"https://");d=d+this.e+".demdex.net/dest5.html"+c;this.H=this.aa(d);this.id="destination_publishing_iframe_"+this.e+"_"+a.idSyncContainerID;return d},ua:function(){var d="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"===typeof a.z&&a.z.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+a.idSyncContainerID,this.H=this.aa(a.z),this.url=a.z+d)},ba:h,G:k,L:k,v:h,eb:h,Fa:h,fb:h,K:k,w:[],Da:[],Ea:[],ca:u.k?15:100,I:[],Ba:[],$:i,da:k,Z:function(){function a(){e=document.createElement("iframe");e.id=b.id;e.style.cssText="display: none; width: 0; height: 0;";e.src=b.url;b.Fa=i;c();document.body.appendChild(e)}function c(){E.Y(e,"load",function(){e.className="aamIframeLoaded";b.v=i;b.n()})}this.L=i;var b=this,e=document.getElementById(this.id);e?"IFRAME"!==e.nodeName?(this.id+="_2",a()):"aamIframeLoaded"!==e.className?c():(this.v=i,this.n()):a();this.Aa=e},n:function(d){var c=this;d===Object(d)&&this.I.push(d);if((this.da||!u.k||this.v)&&this.I.length)this.Ga(this.I.shift()),this.n();!a.idSyncDisableSyncs&&this.v&&this.w.length&&!this.K&&(this.fa||(this.fa=i,setTimeout(function(){c.ca=u.k?15:150},this.ia)),this.K=i,this.ea())},Ga:function(a){var c=encodeURIComponent,b,e,f,g,h;if((b=a.ibs)&&b instanceof Array&&(e=b.length))for(f=0;f<e;f++)g=b[f],h=[c("ibs"),c(g.id||""),c(g.tag||""),E.ya(g.url||[],","),c(g.ttl||""),"","",g.fireURLSync?"true":"false"],this.$?this.F(h.join("|")):g.fireURLSync&&this.va(g,h.join("|"));this.Ba.push(a)},va:function(d,c){a.f();var b=a.b(B),e=k,f=k,g=Math.ceil((new Date).getTime()/u.N);if(b){if(b=b.split("*"),f=this.Ia(b,d.id,g),e=f.wa,f=f.xa,!e||!f)this.F(c),b.push(d.id+"-"+(g+Math.ceil(d.ttl/60/24))),this.Ca(b),a.c(B,b.join("*"))}else this.F(c),a.c(B,d.id+"-"+(g+Math.ceil(d.ttl/60/24)))},Ia:function(a,c,b){var e=k,f=k,g,h,j;for(h=0;h<a.length;h++)g=a[h],j=parseInt(g.split("-")[1],10),g.match("^"+c+"-")?(e=i,b<j?f=i:(a.splice(h,1),h--)):b>=j&&(a.splice(h,1),h--);return{wa:e,xa:f}},Ca:function(a){if(a.join("*").length>this.M)for(a.sort(function(a,b){return parseInt(a.split("-")[1],10)-parseInt(b.split("-")[1],10)});a.join("*").length>this.M;)a.shift()},F:function(d){var c=encodeURIComponent;this.w.push((a.Oa?c("---destpub-debug---"):c("---destpub---"))+d)},ea:function(){var d=this,c;this.w.length?(c=this.w.shift(),a.X.postMessage(c,this.url,this.Aa.contentWindow),this.Da.push(c),setTimeout(function(){d.ea()},this.ca)):this.K=k},J:function(a){var c=/^---destpub-to-parent---/;"string"===typeof a&&c.test(a)&&(c=a.replace(c,"").split("|"),"canSetThirdPartyCookies"===c[0]&&(this.$="true"===c[1]?i:k,this.da=i,this.n()),this.Ea.push(a))},Ha:function(d){this.url===h&&(this.e="string"===typeof a.W&&a.W.length?a.W:d.subdomain||"",this.url=this.za());d.ibs instanceof Array&&d.ibs.length&&(this.G=i);if((this.G||a.la)&&this.e&&"nosubdomainreturned"!==this.e&&!this.L)(j.ga||"complete"===n.readyState||"loaded"===n.readyState)&&this.Z();"function"===typeof a.idSyncIDCallResult?a.idSyncIDCallResult(d):this.n(d);"function"===typeof a.idSyncAfterIDCallResult&&a.idSyncAfterIDCallResult(d)},ta:function(d,c){return a.Pa||!d||c-d>u.ha}};a.Na=t;0>m.indexOf("@")&&(m+="@AdobeOrg");a.marketingCloudOrgID=m;a.cookieName="AMCV_"+m;a.cookieDomain=a.ma();a.cookieDomain==l.location.hostname&&(a.cookieDomain="");a.loadSSL=0<=l.location.protocol.toLowerCase().indexOf("https");a.loadTimeout=500;a.marketingCloudServer=a.audienceManagerServer="dpm.demdex.net";if(s&&"object"==typeof s){for(var C in s)!Object.prototype[C]&&(a[C]=s[C]);a.idSyncContainerID=a.idSyncContainerID||0;a.f();C=a.b(D);var F=Math.ceil((new Date).getTime()/u.N);!a.idSyncDisableSyncs&&t.ta(C,F)&&(a.l(p,-1),a.c(D,F));a.getMarketingCloudVisitorID();a.getAudienceManagerLocationHint();a.getAudienceManagerBlob()}if(!a.idSyncDisableSyncs){t.ua();E.Y(window,"load",function(){var d=t;j.ga=i;(d.G||a.la)&&d.e&&"nosubdomainreturned"!==d.e&&d.url&&!d.L&&d.Z()});try{a.X.J(function(a){t.J(a.data)},t.H)}catch(G){}}}Visitor.getInstance=function(m,s){var a,l=window.s_c_il,j;0>m.indexOf("@")&&(m+="@AdobeOrg");if(l)for(j=0;j<l.length;j++)if((a=l[j])&&"Visitor"==a._c&&a.marketingCloudOrgID==m)return a;return new Visitor(m,s)};(function(){function m(){s.ga=a}var s=window.Visitor,a=s.ja;a||(a=!0);window.addEventListener?window.addEventListener("load",m):window.attachEvent&&window.attachEvent("onload",m)})();
  
 
 window.s=window.s||{};window.s.usePlugins=true;window.s.doPlugins=function(s){};
   function s_getLoadTime(){if(!window.s_loadT){var b=new Date().getTime(),o=window.performance?performance.timing:0,a=o?o.requestStart:window.inHeadTS||0;s_loadT=a?Math.round((b-a)/100):''}return s_loadT}
s.getLoadTime=s_getLoadTime;s.getPercentPageViewed=new Function("n",""
+"var s=this,W=window,EL=W.addEventListener,AE=W.attachEvent,E=['load"
+"','unload','scroll','resize','zoom','keyup','mouseup','touchend','o"
+"rientationchange','pan'];W.s_Obj=s;s_PPVid=(n=='-'?s.pageName:n)||s"
+".pageName||location.href;if(!W.s_PPVevent){s.s_PPVg=function(n,r){v"
+"ar k='s_ppv',p=k+'l',c=s.c_r(n||r?k:p),a=c.indexOf(',')>-1?c.split("
+"',',10):[''],l=a.length,i;a[0]=unescape(a[0]);r=r||(n&&n!=a[0])||0;"
+"a.length=10;if(typeof a[0]!='string')a[0]='';for(i=1;i<10;i++)a[i]="
+"!r&&i<l?parseInt(a[i])||0:0;if(l<10||typeof a[9]!='string')a[9]='';"
+"if(r){s.c_w(p,c);s.c_w(k,'?')}return a};W.s_PPVevent=function(e){va"
+"r W=window,D=document,B=D.body,E=D.documentElement,S=window.screen|"
+"|0,Ho='offsetHeight',Hs='scrollHeight',Ts='scrollTop',Wc='clientWid"
+"th',Hc='clientHeight',C=100,M=Math,J='object',N='number',s=W.s_Obj|"
+"|W.s||0;e=e&&typeof e==J?e.type||'':'';if(!e.indexOf('on'))e=e.subs"
+"tring(2);s_PPVi=W.s_PPVi||0;if(W.s_PPVt&&!e){clearTimeout(s_PPVt);s"
+"_PPVt=0;if(s_PPVi<2)s_PPVi++}if(typeof s==J){var h=M.max(B[Hs]||E[H"
+"s],B[Ho]||E[Ho],B[Hc]||E[Hc]),X=W.innerWidth||E[Wc]||B[Wc]||0,Y=W.i"
+"nnerHeight||E[Hc]||B[Hc]||0,x=S?S.width:0,y=S?S.height:0,r=M.round("
+"C*(W.devicePixelRatio||1))/C,b=(D.pageYOffset||E[Ts]||B[Ts]||0)+Y,p"
+"=h>0&&b>0?M.round(C*b/h):0,O=W.orientation,o=!isNaN(O)?M.abs(o)%180"
+":Y>X?0:90,L=e=='load'||s_PPVi<1,a=s.s_PPVg(s_PPVid,L),V=function(i,"
+"v,f,n){i=parseInt(typeof a==J&&a.length>i?a[i]:'0')||0;v=typeof v!="
+"N?i:v;v=f||v>i?v:i;return n?v:v>C?C:v<0?0:v};if(new RegExp('(iPod|i"
+"Pad|iPhone)').exec(navigator.userAgent||'')&&o){o=x;x=y;y=o}o=o?'P'"
+":'L';a[9]=L?'':a[9].substring(0,1);s.c_w('s_ppv',escape(W.s_PPVid)+"
+"','+V(1,p,L)+','+(L||!V(2)?p:V(2))+','+V(3,b,L,1)+','+X+','+Y+','+x"
+"+','+y+','+r+','+a[9]+(a[9]==o?'':o))}if(!W.s_PPVt&&e!='unload')W.s"
+"_PPVt=setTimeout(W.s_PPVevent,333)};for(var f=W.s_PPVevent,i=0;i<E."
+"length;i++)if(EL)EL(E[i],f,false);else if(AE)AE('on'+E[i],f);f()};v"
+"ar a=s.s_PPVg();return!n||n=='-'?a[1]:a");s.getPreviousValue=new Function("v","c","el",""
+"var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el"
+"){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i"
+"){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t)"
+":s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?"
+"s.c_w(c,v,t):s.c_w(c,'no value',t);return r}");s.split=new Function("l","d",""
+"var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"
+"++]=l.substring(0,i);l=l.substring(i+d.length);}return a");function AppMeasurement_Module_Integrate(l){var c=this;c.s=l;var e=window;e.s_c_in||(e.s_c_il=[],e.s_c_in=0);c._il=e.s_c_il;c._in=e.s_c_in;c._il[c._in]=c;e.s_c_in++;c._c="s_m";c.list=[];c.add=function(d,b){var a;b||(b="s_Integrate_"+d);e[b]||(e[b]={});a=c[d]=e[b];a.a=d;a.e=c;a._c=0;a._d=0;void 0==a.disable&&(a.disable=0);a.get=function(b,d){var f=document,h=f.getElementsByTagName("HEAD"),k;if(!a.disable&&(d||(v="s_"+c._in+"_Integrate_"+a.a+"_get_"+a._c),a._c++,a.VAR=v,a.CALLBACK="s_c_il["+c._in+"]."+
a.a+".callback",a.delay(),h=h&&0<h.length?h[0]:f.body))try{k=f.createElement("SCRIPT"),k.type="text/javascript",k.setAttribute("async","async"),k.src=c.c(a,b),0>b.indexOf("[CALLBACK]")&&(k.onload=k.onreadystatechange=function(){a.callback(e[v])}),h.firstChild?h.insertBefore(k,h.firstChild):h.appendChild(k)}catch(l){}};a.callback=function(b){var c;if(b)for(c in b)Object.prototype[c]||(a[c]=b[c]);a.ready()};a.beacon=function(b){var d="s_i_"+c._in+"_Integrate_"+a.a+"_"+a._c;a.disable||(a._c++,d=e[d]=new Image,d.src=c.c(a,b))};a.script=function(b){a.get(b,1)};a.delay=function(){a._d++};a.ready=function(){a._d--;a.disable||l.delayReady()};c.list.push(d)};c._g=function(d){var b,a=(d?"use":"set")+"Vars";for(d=0;d<c.list.length;d++)if((b=c[c.list[d]])&&!b.disable&&b[a])try{b[a](l,b)}catch(e){}};c._t=function(){c._g(1)};c._d=function(){var d,b;for(d=0;d<c.list.length;d++)if((b=c[c.list[d]])&&!b.disable&&0<b._d)return 1;return 0};c.c=function(c,b){var a,e,g,f;"http"!=b.toLowerCase().substring(0,4)&&(b="http://"+b);l.ssl&&(b=l.replace(b,"http:","https:"));c.RAND=Math.floor(1E13*Math.random());for(a=0;0<=a;)a=b.indexOf("[",a),0<=a&&(e=b.indexOf("]",a),e>a&&(g=b.substring(a+1,e),2<g.length&&"s."==g.substring(0,2)?(f=l[g.substring(2)])||(f=""):(f=""+c[g],f!=c[g]&&parseFloat(f)!=c[g]&&(g=0)),g&&(b=b.substring(0,a)+encodeURIComponent(f)+b.substring(e+1)),a=e));return b}}
function AppMeasurement_Module_Media(q){var b=this;b.s=q;q=window;q.s_c_in||(q.s_c_il=[],q.s_c_in=0);b._il=q.s_c_il;b._in=q.s_c_in;b._il[b._in]=b;q.s_c_in++;b._c="s_m";b.list=[];b.open=function(d,c,e,k){var f={},a=new Date,l="",g;c||(c=-1);if(d&&e){b.list||(b.list={});b.list[d]&&b.close(d);k&&k.id&&(l=k.id);if(l)for(g in b.list)!Object.prototype[g]&&b.list[g]&&b.list[g].R==l&&b.close(b.list[g].name);f.name=d;f.length=c;f.offset=0;f.e=0;f.playerName=b.playerName?b.playerName:e;f.R=l;f.C=0;f.a=0;f.timestamp=Math.floor(a.getTime()/1E3);f.k=0;f.u=f.timestamp;f.c=-1;f.n="";f.g=-1;f.D=0;f.I={};f.G=0;f.m=0;f.f="";f.B=0;f.L=0;f.A=0;f.F=0;f.l=!1;f.v="";f.J="";f.K=0;f.r=!1;f.H="";f.complete=0;f.Q=0;f.p=0;f.q=0;b.list[d]=f}};b.openAd=function(d,c,e,k,f,a,l,g){var h={};b.open(d,c,e,g);if(h=b.list[d])h.l=!0,h.v=k,h.J=f,h.K=a,h.H=l};b.M=function(d){var c=b.list[d];b.list[d]=0;c&&c.monitor&&clearTimeout(c.monitor.interval)};b.close=function(d){b.i(d,0,-1)};b.play=function(d,c,e,k){var f=b.i(d,1,c,e,k);f&&!f.monitor&&(f.monitor={},f.monitor.update=function(){1==f.k&&b.i(f.name,3,-1);f.monitor.interval=setTimeout(f.monitor.update,1E3)},f.monitor.update())};b.click=function(d,c){b.i(d,7,c)};b.complete=function(d,c){b.i(d,5,c)};b.stop=function(d,c){b.i(d,2,c)};b.track=function(d){b.i(d,4,-1)};b.P=function(d,c){var e="a.media.",k=d.linkTrackVars,f=d.linkTrackEvents,a="m_i",l,g=d.contextData,h;c.l&&(e+="ad.",c.v&&(g["a.media.name"]=c.v,g[e+"pod"]=c.J,g[e+"podPosition"]=c.K),c.G||(g[e+"CPM"]=c.H));c.r&&(g[e+"clicked"]=!0,c.r=!1);g["a.contentType"]="video"+(c.l?"Ad":"");g["a.media.channel"]=b.channel;g[e+"name"]=c.name;g[e+"playerName"]=c.playerName;0<c.length&&(g[e+"length"]=c.length);g[e+"timePlayed"]=Math.floor(c.a);0<Math.floor(c.a)&&(g[e+"timePlayed"]=Math.floor(c.a));c.G||(g[e+"view"]=!0,a="m_s",b.Heartbeat&&b.Heartbeat.enabled&&(a=c.l?b.__primetime?"mspa_s":"msa_s":b.__primetime?"msp_s":"ms_s"),c.G=1);c.f&&(g[e+"segmentNum"]=c.m,g[e+"segment"]=c.f,0<c.B&&(g[e+"segmentLength"]=c.B),c.A&&0<c.a&&(g[e+"segmentView"]=!0));!c.Q&&c.complete&&(g[e+"complete"]=!0,c.S=1);0<c.p&&(g[e+"milestone"]=c.p);0<c.q&&(g[e+"offsetMilestone"]=c.q);if(k)for(h in g)Object.prototype[h]||(k+=",contextData."+h);l=g["a.contentType"];d.pe=a;d.pev3=l;var q,s;if(b.contextDataMapping)for(h in d.events2||(d.events2=""),k&&(k+=",events"),b.contextDataMapping)if(!Object.prototype[h]){a=h.length>e.length&&h.substring(0,e.length)==e?h.substring(e.length):"";l=b.contextDataMapping[h];if("string"==typeof l)for(q=l.split(","),s=0;s<q.length;s++)l=q[s],"a.contentType"==h?(k&&(k+=","+l),d[l]=g[h]):"view"==a||"segmentView"==a||"clicked"==a||"complete"==a||"timePlayed"==a||"CPM"==a?(f&&(f+=","+l),"timePlayed"==a||"CPM"==a?g[h]&&(d.events2+=(d.events2?",":"")+l+"="+g[h]):g[h]&&(d.events2+=(d.events2?",":"")+l)):"segment"==a&&g[h+"Num"]?(k&&(k+=","+l),d[l]=g[h+"Num"]+":"+g[h]):(k&&(k+=","+l),d[l]=g[h]);else if("milestones"==a||"offsetMilestones"==a)h=h.substring(0,h.length-1),g[h]&&b.contextDataMapping[h+"s"][g[h]]&&(f&&(f+=","+b.contextDataMapping[h+"s"][g[h]]),d.events2+=(d.events2?",":"")+b.contextDataMapping[h+"s"][g[h]]);g[h]&&(g[h]=0);"segment"==a&&g[h+"Num"]&&(g[h+"Num"]=0)}d.linkTrackVars=k;d.linkTrackEvents=f};b.i=function(d,c,e,k,f){var a={},l=(new Date).getTime()/1E3,g,h,q=b.trackVars,s=b.trackEvents,t=b.trackSeconds,u=b.trackMilestones,v=b.trackOffsetMilestones,w=b.segmentByMilestones,x=b.segmentByOffsetMilestones,p,n,r=1,m={},y;b.channel||(b.channel=b.s.w.location.hostname);if(a=d&&b.list&&b.list[d]?b.list[d]:0)if(a.l&&(t=b.adTrackSeconds,u=b.adTrackMilestones,v=b.adTrackOffsetMilestones,w=b.adSegmentByMilestones,x=b.adSegmentByOffsetMilestones),0>e&&(e=1==a.k&&0<a.u?l-a.u+a.c:a.c),0<a.length&&(e=e<a.length?e:a.length),0>e&&(e=0),a.offset=e,0<a.length&&(a.e=a.offset/a.length*100,a.e=100<a.e?100:a.e),0>a.c&&(a.c=e),y=a.D,m.name=d,m.ad=a.l,m.length=a.length,m.openTime=new Date,m.openTime.setTime(1E3*a.timestamp),m.offset=a.offset,m.percent=a.e,m.playerName=a.playerName,m.mediaEvent=0>a.g?"OPEN":1==c?"PLAY":2==c?"STOP":3==c?"MONITOR":4==c?"TRACK":5==c?"COMPLETE":7==c?"CLICK":"CLOSE",2<c||c!=a.k&&(2!=c||1==a.k)){f||(k=a.m,f=a.f);if(c){1==c&&(a.c=e);if((3>=c||5<=c)&&0<=a.g&&(r=!1,q=s="None",a.g!=e)){h=a.g;h>e&&(h=a.c,h>e&&(h=e));p=u?u.split(","):0;if(0<a.length&&p&&e>=h)for(n=0;n<p.length;n++)(g=p[n]?parseFloat(""+p[n]):0)&&h/a.length*100<g&&a.e>=g&&(r=!0,n=p.length,m.mediaEvent="MILESTONE",a.p=m.milestone=g);if((p=v?v.split(","):0)&&e>=h)for(n=0;n<p.length;n++)(g=p[n]?parseFloat(""+p[n]):0)&&h<g&&e>=g&&(r=!0,n=p.length,m.mediaEvent="OFFSET_MILESTONE",a.q=m.offsetMilestone=g)}if(a.L||!f){if(w&&u&&0<a.length){if(p=u.split(","))for(p.push("100"),n=h=0;n<p.length;n++)if(g=p[n]?parseFloat(""+p[n]):0)a.e<g&&(k=n+1,f="M:"+h+"-"+g,n=p.length),h=g}else if(x&&v&&(p=v.split(",")))for(p.push(""+(0<a.length?a.length:"E")),n=h=0;n<p.length;n++)if((g=p[n]?parseFloat(""+p[n]):0)||"E"==p[n]){if(e<g||"E"==p[n])k=n+1,f="O:"+h+"-"+g,n=p.length;h=g}f&&(a.L=!0)}(f||a.f)&&f!=a.f&&(a.F=!0,a.f||(a.m=k,a.f=f),0<=a.g&&(r=!0));(2<=c||100<=a.e)&&a.c<e&&(a.C+=e-a.c,a.a+=e-a.c);if(2>=c||3==c&&!a.k)a.n+=(1==c||3==c?"S":"E")+Math.floor(e),a.k=3==c?1:c;!r&&0<=a.g&&3>=c&&(t=t?t:0)&&a.a>=t&&(r=!0,m.mediaEvent="SECONDS");a.u=l;a.c=e}if(!c||3>=c&&100<=a.e)2!=a.k&&(a.n+="E"+Math.floor(e)),c=0,q=s="None",m.mediaEvent="CLOSE";7==c&&(r=m.clicked=a.r=!0);if(5==c||b.completeByCloseOffset&&(!c||100<=a.e)&&0<a.length&&e>=a.length-b.completeCloseOffsetThreshold)r=m.complete=a.complete=!0;l=m.mediaEvent;"MILESTONE"==l?l+="_"+m.milestone:"OFFSET_MILESTONE"==l&&(l+="_"+m.offsetMilestone);a.I[l]?m.eventFirstTime=!1:(m.eventFirstTime=!0,a.I[l]=1);m.event=m.mediaEvent;m.timePlayed=a.C;m.segmentNum=a.m;m.segment=a.f;m.segmentLength=a.B;b.monitor&&4!=c&&b.monitor(b.s,m);b.Heartbeat&&b.Heartbeat.enabled&&0<=a.g&&(r=!1);0==c&&b.M(d);r&&a.D==y&&(d={contextData:{}},d.linkTrackVars=q,d.linkTrackEvents=s,d.linkTrackVars||(d.linkTrackVars=""),d.linkTrackEvents||(d.linkTrackEvents=""),b.P(d,a),d.linkTrackVars||(d["!linkTrackVars"]=1),d.linkTrackEvents||(d["!linkTrackEvents"]=1),b.s.track(d),a.F?(a.m=k,a.f=f,a.A=!0,a.F=!1):0<a.a&&(a.A=!1),a.n="",a.p=a.q=0,a.a-=Math.floor(a.a),a.g=e,a.D++)}return a};b.O=function(d,c,e,k,f){var a=0;if(d&&(!b.autoTrackMediaLengthRequired||c&&0<c)){if(b.list&&b.list[d])a=1;else if(1==e||3==e)b.open(d,c,"HTML5 Video",f),a=1;a&&b.i(d,e,k,-1,0)}};b.attach=function(d){var c,e,k;d&&d.tagName&&"VIDEO"==d.tagName.toUpperCase()&&(b.o||(b.o=function(c,a,d){var e,h;b.autoTrack&&(e=c.currentSrc,(h=c.duration)||(h=-1),0>d&&(d=c.currentTime),b.O(e,h,a,d,c))}),c=function(){b.o(d,1,-1)},e=function(){b.o(d,1,-1)},b.j(d,"play",c),b.j(d,"pause",e),b.j(d,"seeking",e),b.j(d,"seeked",c),b.j(d,"ended",function(){b.o(d,0,-1)}),b.j(d,"timeupdate",c),k=function(){d.paused||d.ended||d.seeking||b.o(d,3,-1);setTimeout(k,1E3)},k())};b.j=function(b,c,e){b.attachEvent?b.attachEvent("on"+c,e):b.addEventListener&&b.addEventListener(c,e,!1)};void 0==b.completeByCloseOffset&&(b.completeByCloseOffset=1);void 0==b.completeCloseOffsetThreshold&&(b.completeCloseOffsetThreshold=1);b.Heartbeat={};b.N=function(){var d,c;if(b.autoTrack&&(d=b.s.d.getElementsByTagName("VIDEO")))for(c=0;c<d.length;c++)b.attach(d[c])};b.j(q,"load",b.N)}
function AppMeasurement(){var a=this;a.version="1.5.1";var k=window;k.s_c_in||(k.s_c_il=[],k.s_c_in=0);a._il=k.s_c_il;a._in=k.s_c_in;a._il[a._in]=a;k.s_c_in++;a._c="s_c";var q=k.AppMeasurement.zb;q||(q=null);var r=k,n,t;try{for(n=r.parent,t=r.location;n&&n.location&&t&&""+n.location!=""+t&&r.location&&""+n.location!=""+r.location&&n.location.host==t.host;)r=n,n=r.parent}catch(u){}a.ob=function(a){try{console.log(a)}catch(b){}};a.za=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.fb=function(){var c=k.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.cookieDomain&&!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.cookieDomain=0<d?c.substring(d):c}return a.cookieDomain};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"="),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.fb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1==d&&(d=new Date,g=d.getYear(),d.setYear(g+5+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=c+"="+a.escape(""!=b?b:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toGMTString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(c)==b):0};a.G=[];a.ba=function(c,b,d){if(a.ta)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,m=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.ca)for(a.ca=1,d=0;d<m.length;d++)a.d.addEventListener(m[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.ca=0,a.delayReady())});f=1;e=0}else d||a.l("_d")&&(f=1);f&&(a.G.push({m:c,a:b,t:e}),a.ca||setTimeout(a.delayReady,a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.l("_d")?b=1:a.na();0<a.G.length;){d=a.G.shift();if(b&&!d.t&&d.t>c){a.G.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.ta=1;a[d.m].apply(a,d.a);a.ta=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.ba("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,m="";e=f="";if(a.lightProfileID)d=a.K,(m=a.lightTrackVars)&&(m=","+m+","+a.ga.join(",")+",");else{d=a.c;if(a.pe||a.linkType)m=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(m=a[e].yb,f=a[e].xb));m&&(m=","+m+","+a.A.join(",")+",");f&&m&&(m+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!m||0<=m.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.B=function(c,b,d,f,e){var g="",m,p,k,w,n=0;"contextData"==c&&(c="c");if(b){for(m in b)if(!(Object.prototype[m]||e&&m.substring(0,e.length)!=e)&&b[m]&&(!d||0<=d.indexOf(","+(f?f+".":"")+m+","))){k=!1;if(n)for(p=0;p<n.length;p++)m.substring(0,n[p].length)==n[p]&&(k=!0);if(!k&&(""==g&&(g+="&"+c+"."),p=b[m],e&&(m=m.substring(e.length)),0<m.length))if(k=m.indexOf("."),0<k)p=m.substring(0,k),k=(e?e:"")+p+".",n||(n=[]),n.push(k),g+=a.B(p,b,d,f,k);else if("boolean"==typeof p&&(p=p?"true":"false"),p){if("retrieveLightData"==f&&0>e.indexOf(".contextData."))switch(k=m.substring(0,4),w=m.substring(4),m){case"transactionID":m="xact";break;case"channel":m="ch";break;case"campaign":m="v0";break;default:a.za(w)&&("prop"==k?m="c"+w:"eVar"==k?m="v"+w:"list"==k?m="l"+w:"hier"==k&&(m="h"+w,p=p.substring(0,255)))}g+="&"+a.escape(m)+"="+a.escape(p)}}""!=g&&(g+="&."+c)}return g};a.hb=function(){var c="",b,d,f,e,g,m,p,k,n="",r="",s=e="";if(a.lightProfileID)b=a.K,(n=a.lightTrackVars)&&(n=","+n+","+a.ga.join(",")+",");else{b=a.c;if(a.pe||a.linkType)n=a.linkTrackVars,r=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].yb,r=a[e].xb));n&&(n=","+n+","+a.A.join(",")+",");r&&(r=","+r+",",n&&(n+=",events,"));a.events2&&(s+=(""!=s?",":"")+a.events2)}if(a.visitor&&1.5<=parseFloat(a.visitor.version)&&a.visitor.getCustomerIDs){e=q;if(g=a.visitor.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState));e&&(c+=a.B("cid",e))}a.AudienceManagement&&a.AudienceManagement.isReady()&&(c+=a.B("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);m=e.substring(4);!g&&"events"==e&&s&&(g=s,s="");if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case"supplementalDataID":e="sdid";break;case"timestamp":e="ts";break;case"dynamicVariablePrefix":e="D";break;case"visitorID":e="vid";break;case"marketingCloudVisitorID":e="mid";break;case"analyticsVisitorID":e="aid";break;case"audienceManagerLocationHint":e="aamlh";break;case"audienceManagerBlob":e="aamb";break;case"authState":e="as";break;case"pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case"pageURLRest":e="-g";break;case"referrer":e="r";break;case"vmk":case"visitorMigrationKey":e="vmt";break;case"visitorMigrationServer":e="vmf";a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case"visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case"charSet":e="ce";break;case"visitorNamespace":e="ns";break;case"cookieDomainPeriods":e="cdp";break;case"cookieLifetime":e="cl";break;case"variableProvider":e="vvp";break;case"currencyCode":e="cc";break;case"channel":e="ch";break;case"transactionID":e="xact";break;case"campaign":e="v0";break;case"latitude":e="lat";break;case"longitude":e="lon";break;case"resolution":e="s";break;case"colorDepth":e="c";break;case"javascriptVersion":e="j";break;case"javaEnabled":e="v";break;case"cookiesEnabled":e="k";break;case"browserWidth":e="bw";break;case"browserHeight":e="bh";break;case"connectionType":e="ct";break;case"homepage":e="hp";break;case"events":s&&(g+=(""!=g?",":"")+s);if(r)for(m=g.split(","),g="",f=0;f<m.length;f++)p=m[f],k=p.indexOf("="),0<=k&&(p=p.substring(0,k)),k=p.indexOf(":"),0<=k&&(p=p.substring(0,k)),0<=r.indexOf(","+p+",")&&(g+=(g?",":"")+m[f]);break;case"events2":g="";break;case"contextData":c+=a.B("c",a[e],n,e);g="";break;case"lightProfileID":e="mtp";break;case"lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case"lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case"retrieveLightProfiles":e="mtsr";break;case"deleteLightProfiles":e="mtsd";break;case"retrieveLightData":a.retrieveLightProfiles&&(c+=a.B("mts",a[e],n,e));g="";break;default:a.za(m)&&("prop"==f?e="c"+m:"eVar"==f?e="v"+m:"list"==f?e="l"+m:"hier"==f&&(e="h"+m,g=g.substring(0,255)))}g&&(c+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}return c};a.u=function(a){var b=a.tagName;if("undefined"!=""+a.Cb||"undefined"!=""+a.sb&&"HTML"!=(""+a.sb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.va=function(a){var b=a.href?a.href:"",d,f,e;d=b.indexOf(":");f=b.indexOf("?");e=b.indexOf("/");b&&(0>d||0<=f&&d>f||0<=e&&d>e)&&(f=a.protocol&&1<a.protocol.length?a.protocol:l.protocol?l.protocol:"",d=l.pathname.lastIndexOf("/"),b=(f?f+"//":"")+(a.host?a.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>d?0:d)+"/":"")+b);return b};a.H=function(c){var b=a.u(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):c.src&&"IMAGE"==b&&(e=c.src):e=a.va(c),e)?{id:e.substring(0,100),type:g}:0};a.Ab=function(c){for(var b=a.u(c),d=a.H(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.u(c),d=a.H(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.rb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,m;a.ha=1;d||(a.ha=0,d=a.clickObject);if(d){c=a.u(d);for(b=a.H(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.u(d),b=a.H(d);b&&"BODY"!=c||(d=0);if(d){var p=d.onclick?""+d.onclick:"";if(0<=p.indexOf(".tl(")||0<=p.indexOf(".trackLink("))d=0}}else a.ha=1;!e&&d&&(e=a.va(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var n=0,r=0,q;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(p=e.toLowerCase(),g=p.indexOf("?"),m=p.indexOf("#"),0<=g?0<=m&&m<g&&(g=m):g=m,0<=g&&(p=p.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),m=0;m<g.length;m++)(q=g[m])&&p.substring(p.length-(q.length+1))=="."+q&&(f="d");if(a.trackExternalLinks&&!f&&(p=e.toLowerCase(),a.ya(p)&&(a.linkInternalFilters||(a.linkInternalFilters=k.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),n=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(m=0;m<g.length;m++)q=g[m],0<=p.indexOf(q)&&(r=1);r?n&&(f="e"):n||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),k.s_objectID&&(b.id=k.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="&pid="+a.escape(f.substring(0,255))+(e?"&pidt="+e:"")+"&oid="+a.escape(b.id.substring(0,100))+(b.type?"&oidt="+b.type:"")+"&ot="+c+(d?"&oi="+d:"")))};a.ib=function(){var c=a.ha,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats){var b={},d=0,e=a.cookieRead("s_sq"),g=e?e.split("&"):0,m,p,k,e=0;if(g)for(m=0;m<g.length;m++)p=g[m].split("="),f=a.unescape(p[0]).split(","),p=a.unescape(p[1]),b[p]=f;f=a.account.split(",");if(c||a.e){c&&!a.e&&(e=1);for(p in b)if(!Object.prototype[p])for(m=0;m<f.length;m++)for(e&&(k=b[p].join(","),k==a.account&&(a.e+=("&"!=p.charAt(0)?"&":"")+p,b[p]=[],d=1)),g=0;g<b[p].length;g++)k=b[p][g],k==f[m]&&(e&&(a.e+="&u="+a.escape(k)+("&"!=p.charAt(0)?"&":"")+p+"&u=0"),b[p].splice(g,1),d=1);c||(d=1);if(d){e="";m=2;!c&&a.e&&(e=a.escape(f.join(","))+"="+a.escape(a.e),m=1);for(p in b)!Object.prototype[p]&&0<m&&0<b[p].length&&(e+=(e?"&":"")+a.escape(b[p].join(","))+"="+a.escape(p),m--);a.cookieWrite("s_sq",e)}}}return c};a.jb=function(){if(!a.wb){var c=new Date,b=r.location,d,f,e=f=d="",g="",m="",k="1.2",n=a.cookieWrite("s_cc","true",0)?"Y":"N",q="",s="";if(c.setUTCDate&&(k="1.3",(0).toPrecision&&(k="1.5",c=[],c.forEach))){k="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(k="1.7",c.reduce&&(k="1.8",k.trim&&(k="1.8.1",Date.parse&&(k="1.8.2",Object.create&&(k="1.8.5")))))}catch(t){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;m=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),q=a.b.Bb(b)?"Y":"N"}catch(u){}try{a.b.addBehavior("#default#clientCaps"),s=a.b.connectionType}catch(x){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=k;a.javaEnabled=e;a.cookiesEnabled=n;a.browserWidth=g;a.browserHeight=m;a.connectionType=s;a.homepage=q;a.wb=1}};a.L={};a.loadModule=function(c,b){var d=a.L[c];if(!d){d=k["AppMeasurement_Module_"+
c]?new k["AppMeasurement_Module_"+c](a):{};a.L[c]=a[c]=d;d.Na=function(){return d.Ra};d.Sa=function(b){if(d.Ra=b)a[c+"_onLoad"]=b,a.ba(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.Na,set:d.Sa}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.ba(c+"_onLoad",[a,d],1)||b(a,d))};a.l=function(c){var b,d;for(b in a.L)if(!Object.prototype[b]&&(d=a.L[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.mb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>v)return 0}return 1};a.M=function(c,b){var d,f,e,g,m,k;for(d=0;2>d;d++)for(f=0<d?a.oa:a.c,e=0;e<f.length;e++)if(g=f[e],(m=c[g])||c["!"+g]){if(!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(k in a[g])m[k]||(m[k]=a[g][k]);a[g]=m}};a.Ga=function(c,b){var d,f,e,g;for(d=0;2>d;d++)for(f=0<d?a.oa:a.c,e=0;e<f.length;e++)g=f[e],c[g]=a[g],b||c[g]||(c["!"+g]=1)};a.cb=function(a){var b,d,f,e,g,m=0,k,n="",q="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(k=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?m=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(m=",p,ei,"),m&&k)))){if((a=k.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=m.indexOf(","+e.substring(0,d)+",")?n+=(n?"&":"")+e:q+=(q?"&":"")+e;n&&q?k=n+"&"+q:q=""}d=253-(k.length-q.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+k}return a};a.Ma=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.Y=!1;a.D=!1;a.Ta=function(){a.D=!0;a.i()};a.W=!1;a.Q=!1;a.Qa=function(c){a.marketingCloudVisitorID=c;a.Q=!0;a.i()};a.T=!1;a.N=!1;a.Ia=function(c){a.analyticsVisitorID=c;a.N=!0;a.i()};a.V=!1;a.P=!1;a.Ka=function(c){a.audienceManagerLocationHint=c;a.P=!0;a.i()};a.U=!1;a.O=!1;a.Ja=function(c){a.audienceManagerBlob=c;a.O=!0;a.i()};a.La=function(c){a.maxDelay||(a.maxDelay=250);return a.l("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.X=!1;a.C=!1;a.na=function(){a.C=!0;a.i()};a.isReadyToTrack=function(){var c=!0,b=a.visitor;a.Y||a.D||(a.Ma(a.Ta)?a.D=!0:a.Y=!0);if(a.Y&&!a.D)return!1;b&&b.isAllowed()&&(a.W||a.marketingCloudVisitorID||!b.getMarketingCloudVisitorID||(a.W=!0,a.marketingCloudVisitorID=b.getMarketingCloudVisitorID([a,a.Qa]),a.marketingCloudVisitorID&&(a.Q=!0)),a.T||a.analyticsVisitorID||!b.getAnalyticsVisitorID||(a.T=!0,a.analyticsVisitorID=b.getAnalyticsVisitorID([a,a.Ia]),a.analyticsVisitorID&&(a.N=!0)),a.V||a.audienceManagerLocationHint||!b.getAudienceManagerLocationHint||(a.V=!0,a.audienceManagerLocationHint=b.getAudienceManagerLocationHint([a,a.Ka]),a.audienceManagerLocationHint&&(a.P=!0)),a.U||a.audienceManagerBlob||!b.getAudienceManagerBlob||(a.U=!0,a.audienceManagerBlob=b.getAudienceManagerBlob([a,a.Ja]),a.audienceManagerBlob&&(a.O=!0)),a.W&&!a.Q&&!a.marketingCloudVisitorID||a.T&&!a.N&&!a.analyticsVisitorID||a.V&&!a.P&&!a.audienceManagerLocationHint||a.U&&!a.O&&!a.audienceManagerBlob)&&(c=!1);a.X||a.C||(a.La(a.na)?a.C=!0:a.X=!0);a.X&&!a.C&&(c=!1);return c};a.k=q;a.o=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.Xa=c;f.Wa=b;f.Ua=d;a.k==q&&(a.k=[]);a.k.push(f);0==a.o&&(a.o=setInterval(a.i,100))};a.i=function(){var c;if(a.isReadyToTrack()&&(a.o&&(clearInterval(a.o),a.o=0),a.k!=q))for(;0<a.k.length;)c=a.k.shift(),c.Wa.apply(c.Xa,c.Ua)};a.Oa=function(c){var b,d,f=q,e=q;if(!a.isReadyToTrack()){b=[];if(c!=q)for(d in f={},c)f[d]=c[d];e={};a.Ga(e,!0);b.push(f);b.push(e);a.callbackWhenReadyToTrack(a,a.track,b);return!0}return!1};a.gb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.t=a.track=function(c,b){var d,f=new Date,e="s"+Math.floor(f.getTime()/108E5)%10+Math.floor(1E13*Math.random()),g=f.getYear(),g="t="+a.escape(f.getDate()+"/"+f.getMonth()+"/"+(1900>g?g+1900:g)+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+" "+f.getDay()+" "+f.getTimezoneOffset());a.visitor&&(a.visitor.eb&&(a.authState=a.visitor.eb()),!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=a.visitor.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)));a.l("_s");a.Oa(c)||(b&&a.M(b),c&&(d={},a.Ga(d,0),a.M(c)),a.mb()&&(a.analyticsVisitorID||a.marketingCloudVisitorID||(a.fid=a.gb()),a.rb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1E3)),f=k.location,a.pageURL||(a.pageURL=f.href?f.href:f),a.referrer||a.Ha||(a.referrer=r.document.referrer),a.Ha=1,a.referrer=a.cb(a.referrer),a.l("_g")),a.ib()&&!a.abort&&(a.jb(),g+=a.hb(),a.qb(e,g),a.l("_t"),a.referrer=""))),c&&a.M(d,1));a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=k.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.j=c,a.q=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.c.length;c++)if(b=a.c[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.qb=function(c,b){var d,f=a.trackingServer;d="";var e=a.dc,g="sc.",k=a.visitorNamespace;f?a.trackingServerSecure&&a.ssl&&(f=a.trackingServerSecure):(k||(k=a.account,f=k.indexOf(","),0<=f&&(k=k.substring(0,f)),k=k.replace(/[^A-Za-z0-9]/g,"")),d||(d="2o7.net"),e=e?(""+e).toLowerCase():"d1","2o7.net"==d&&("d1"==e?e="112":"d2"==e&&(e="122"),g=""),f=k+"."+e+"."+g+d);d=a.ssl?"https://":"http://";e=a.AudienceManagement&&a.AudienceManagement.isReady();d+=f+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(e?"10":"1")+"/JS-"+a.version+(a.vb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")+"/"+c+"?AQB=1&ndh=1&pf=1&"+(e?"callback=s_c_il["+a._in+"].AudienceManagement.passData&":"")+b+"&AQE=1";a.ab(d);a.da()};a.ab=function(c){a.g||a.kb();a.g.push(c);a.fa=a.r();a.Fa()};a.kb=function(){a.g=a.nb();a.g||(a.g=[])};a.nb=function(){var c,b;if(a.ka()){try{(b=k.localStorage.getItem(a.ia()))&&(c=k.JSON.parse(b))}catch(d){}return c}};a.ka=function(){var c=!0;a.trackOffline&&a.offlineFilename&&k.localStorage&&k.JSON||(c=!1);return c};a.wa=function(){var c=0;a.g&&(c=a.g.length);a.v&&c++;return c};a.da=function(){if(!a.v)if(a.xa=q,a.ja)a.fa>a.J&&a.Da(a.g),a.ma(500);else{var c=a.Va();if(0<c)a.ma(c);else if(c=a.ua())a.v=1,a.pb(c),a.tb(c)}};a.ma=function(c){a.xa||(c||(c=0),a.xa=setTimeout(a.da,c))};a.Va=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.r()-a.Ca;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-
c};a.ua=function(){if(0<a.g.length)return a.g.shift()};a.pb=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("&");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.ob(b)}};a.Pa=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.S=!1;var s;try{s=JSON.parse('{"x":"y"}')}catch(x){s=null}s&&"y"==s.x?(a.S=!0,a.R=function(a){return JSON.parse(a)}):k.$&&k.$.parseJSON?(a.R=function(a){return k.$.parseJSON(a)},a.S=!0):a.R=function(){return null};a.tb=function(c){var b,d,f;a.Pa()&&2047<c.length&&("undefined"!=typeof XMLHttpRequest&&(b=new XMLHttpRequest,"withCredentials"in b?d=1:b=0),b||"undefined"==typeof XDomainRequest||(b=new XDomainRequest,d=2),b&&a.AudienceManagement&&a.AudienceManagement.isReady()&&(a.S?b.pa=!0:b=0));!b&&a.lb&&(c=c.substring(0,2047));!b&&a.d.createElement&&a.AudienceManagement&&a.AudienceManagement.isReady()&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=3):b=0);b||(b=new Image,b.alt="");b.ra=function(){try{a.la&&(clearTimeout(a.la),a.la=0),b.timeout&&(clearTimeout(b.timeout),b.timeout=0)}catch(c){}};b.onload=b.ub=function(){b.ra();a.$a();a.Z();a.v=0;a.da();if(b.pa){b.pa=!1;try{var c=a.R(b.responseText);AudienceManagement.passData(c)}catch(d){}}};b.onabort=b.onerror=b.bb=function(){b.ra();(a.trackOffline||a.ja)&&a.v&&a.g.unshift(a.Za);a.v=0;a.fa>a.J&&a.Da(a.g);a.Z();a.ma(500)};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.ub():b.bb())};a.Ca=a.r();if(1==d||2==d){var e=c.indexOf("?");f=c.substring(0,e);e=c.substring(e+1);e=e.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,"");1==d?(b.open("POST",f,!0),b.send(e)):2==d&&(b.open("POST",f),b.send(e))}else if(b.src=c,3==d){if(a.Aa)try{f.removeChild(a.Aa)}catch(g){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Aa=a.Ya}b.abort&&(a.la=setTimeout(b.abort,5E3));a.Za=c;a.Ya=k["s_i_"+a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.F||a.q)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.aa=setTimeout(a.Z,a.forcedLinkTrackingTimeout)};a.$a=function(){if(a.ka()&&!(a.Ba>a.J))try{k.localStorage.removeItem(a.ia()),a.Ba=a.r()}catch(c){}};a.Da=function(c){if(a.ka()){a.Fa();try{k.localStorage.setItem(a.ia(),k.JSON.stringify(c)),a.J=a.r()}catch(b){}}};a.Fa=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.g.length>a.offlineLimit;)a.ua()}};a.forceOffline=function(){a.ja=!0};a.forceOnline=function(){a.ja=!1};a.ia=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.r=function(){return(new Date).getTime()};a.ya=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.vb=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.M(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d){var f;b||(b=a.pageURL?a.pageURL:k.location);d||(d="&");return c&&b&&(b=""+b,f=b.indexOf("?"),0<=f&&(b=d+b.substring(f+1)+d,f=b.indexOf(d+c+"="),0<=f&&(b=b.substring(f+d.length+c.length+1),f=b.indexOf(d),0<=f&&(b=b.substring(0,f)),0<b.length)))?a.unescape(b):""},};a.A="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData pe pev1 pev2 pev3 pageURLRest".split(" ");a.c=a.A.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.ga="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.K=a.ga.slice(0);a.oa="account allAccounts debugTracking visitor trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData AudienceManagement".split(" ");for(n=0;250>=n;n++)76>n&&(a.c.push("prop"+n),a.K.push("prop"+n)),a.c.push("eVar"+n),a.K.push("eVar"+n),6>n&&a.c.push("hier"+n),4>n&&a.c.push("list"+n);n="latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage".split(" ");a.c=a.c.concat(n);a.A=a.A.concat(n);a.ssl=0<=k.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=0;a.offlineFilename="AppMeasurement.offline";a.Ca=0;a.fa=0;a.J=0;a.Ba=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=k;a.d=k.document;try{a.lb="Microsoft Internet Explorer"==navigator.appName}catch(y){}a.Z=function(){a.aa&&(k.clearTimeout(a.aa),a.aa=q);a.j&&a.F&&a.j.dispatchEvent(a.F);a.q&&("function"==typeof a.q?a.q():a.j&&a.j.href&&(a.d.location=a.j.href));a.j=a.F=a.q=0};a.Ea=function(){a.b=a.d.body;a.b?(a.p=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.qa)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.p,!1);else{a.b.removeEventListener("click",a.p,!0);a.qa=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.I&&a.I==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var m=a.I=a.clickObject;a.ea&&(clearTimeout(a.ea),a.ea=0);a.ea=setTimeout(function(){a.I==m&&(a.I=0)},1E4);f=a.wa();a.track();if(f<a.wa()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.ya(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||k.name&&d==k.name))){try{b=a.d.createEvent("MouseEvents")}catch(n){b=new k.MouseEvent}if(b){try{b.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(q){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.j=c.target,a.F=b)}}}}}catch(r){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.p):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&k.MouseEvent)&&(a.qa=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.p,!0)),a.b.addEventListener("click",a.p,!1))):setTimeout(a.Ea,30)};a.Ea()}
function s_gi(a){var k,q=window.s_c_il,r,n,t=a.split(","),u,s,x=0;if(q)for(r=0;!x&&r<q.length;){k=q[r];if("s_c"==k._c&&(k.account||k.oun))if(k.account&&k.account==a)x=1;else for(n=k.account?k.account:k.oun,n=k.allAccounts?k.allAccounts:n.split(","),u=0;u<t.length;u++)for(s=0;s<n.length;s++)t[u]==n[s]&&(x=1);r++}x||(k=new AppMeasurement);k.setAccount?k.setAccount(a):k.sa&&k.sa(a);return k}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);function s_pgicq(){var a=window,k=a.s_giq,q,r,n;if(k)for(q=0;q<k.length;q++)r=k[q],n=s_gi(r.oun),n.setAccount(r.un),n.setTagContainer(r.tagContainerName);a.s_giq=0}s_pgicq();
   angular.module('xdc-analytics',['xdc-data-bootstrap','xdc-cookies','xdc-storage'])
.value('moment',window.moment);angular.module('xdc-analytics').constant('ANALYTICS_CONSTANTS',{'LONG_TERM_COOKIE':'BRID'}).factory('xdcAnalytics',function(cookieSvc,dataBootstrap,moment,sessionStore,$window,ANALYTICS_CONSTANTS){ var pageLoaded=false;var url_param='';try{var modelUser=ADC.model.user;var modelParams=ADC.model.params;var modelPageName=ADC.model.page_name||modelParams.page_name;var configAnalytics=ADC.config.analytics;}catch(err){console.debug('ADC.analytics: Some of the global ADC objects were not defined in the expected way: '+err);} 
var setUpHotjarScripts=function(configAnalytics){if(configAnalytics.sys.hotjar){(function(h,o,t,j,a,r){h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments);};h._hjSettings={hjid:configAnalytics.hotjar_id,hjsv:5};a=o.getElementsByTagName('head')[0];r=o.createElement('script');r.async=1;r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;a.appendChild(r);})(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');}};

var setUpGoogleAnalyticsScripts=function(configAnalytics){if(configAnalytics.sys.ga){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
if(window.location.hostname==='localhost'){ga('create',configAnalytics.ga_id,'none');}else{ga('create',configAnalytics.ga_id,'auto');}
ga('require','displayfeatures');ga('send','pageview');}};var setUpGoogleTagManagerScripts=function(timestamp,configAnalytics){if(configAnalytics.sys.gtm){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':timestamp,event:'gtm.js',});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer',configAnalytics.gtm_id_eng);(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':timestamp,event:'gtm.js',});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer',configAnalytics.gtm_id_mkt);}};var getUrlVars=function(){var vars=[],hash;var hashes=window.location.href.slice(window.location.href.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++){hash=hashes[i].split('=');var key=hash[0].toLowerCase();vars.push(key);vars[key]=hash[1];}
return vars;};var auctionTypeMap={'trustee':'trustee','residential':'resi','commercial':'cre','offer':'cre','notes':'notes','any':'any'};var pageTypeMap={'dashboard':'dashboard','event':'ed','property':'pdp'};var setPageLoadEvents=function(eventName){ var timestamp=new Date().getTime(); if(eventName==='pageLoad'){if(pageLoaded){return;}
pageLoaded=true;setUpHotjarScripts(configAnalytics);setUpGoogleAnalyticsScripts(configAnalytics);setUpGoogleTagManagerScripts(timestamp,configAnalytics);} 
if(configAnalytics.sys.omniture){ angular.forEach(configAnalytics.omniture.s,function(v,k){window.s[k]=v;}); if(!sessionStore.get('exv')){sessionStore.set('exv',1);window.s.eVar11=cookieSvc.read(ANALYTICS_CONSTANTS.LONG_TERM_COOKIE);}
window.s.prop42=cookieSvc.read(ANALYTICS_CONSTANTS.LONG_TERM_COOKIE);window.s.eVar54=modelParams.session_id;window.s.pageURL=window.location.href;window.s.prop13=modelUser.logged_in?modelUser.user_id:'not logged in';window.s.eVar35=window.s.prop13; window.s.prop3=window.s.getLoadTime();window.s.prop4=window.s.getPercentPageViewed();if(modelUser.first_time_user){window.s.eVar9=moment(new Date().getTime(),'').format('YYYY-MM-DD').replace(/-/g,'');} 
url_param=getUrlVars();if(url_param.hasOwnProperty('gclid')){window.s.campaign='Google PPC';window.s.prop20=url_param.gclid;window.s.prop19=window.s.campaign+' -> '+window.s.prop20;window.s.prop16=window.s.pageURL;window.s.prop17=document.referrer;window.s.prop18=window.s.prop17;window.s.prop21=window.s.campaign;window.s.prop25=window.location.pathname+': '+window.s.campaign;}
if(url_param.hasOwnProperty('utm_source')){window.s.campaign=url_param.utm_source;window.s.prop19=url_param.utm_campaign;window.s.prop20=url_param.utm_medium;window.s.prop4='Marketing Campaign -> Channel -> '+window.s.campaign+' -> Campaign -> '+window.s.prop19+' -> Keyword -> '+window.s.prop20;window.s.prop16=window.s.pageURL;window.s.prop17=document.referrer;window.s.prop18=window.s.campaign;window.s.prop21=window.s.campaign;window.s.prop25=window.location.pathname+': '+window.s.campaign;} 
if(url_param.hasOwnProperty('scid')){window.s.eVar15=url_param.scid;}
window.s.server=ADC.config.int_ip;if(typeof window.s.channel==='undefined'){window.s.channel='';} 
var flashTalkCookie=cookieSvc.read('flashtag');if(flashTalkCookie){window.s.prop9=flashTalkCookie;} 
if(modelUser.first_time_user){setTimeout(function(){var mediaMathCookie=cookieSvc.read('mm-uuid');if(mediaMathCookie){window.s.linkTrackVars='eVar14';window.s.eVar14=mediaMathCookie;ADC.analytics.fireCustomTrackingEvent('o','mediamathSuccess');}},1000);}
window.s.campaign=window.s.Util.getQueryParam('cid')||window.s.Util.getQueryParam('icid'); if(modelPageName==='calendar'){window.s.pageName=modelPageName+' '+modelParams.product_type;window.s.eVar22=window.s.pageName;window.s.channel='Calendar';window.s.eVar66=modelParams.product_type;var dateState=(typeof modelParams.bid_end_date==='undefined'?'':modelParams.bid_end_date)+';'+
(typeof modelParams.state_code==='undefined'?'':modelParams.state_code);if(dateState!==';'){window.s.eVar67=dateState;window.s.prop67=dateState;}}else if(modelPageName==='event'){var modelEvent;try{modelEvent=ADC.model.event;}catch(err){console.error('ADC.model.event is not defined in the expected way: '+err);}
if(modelEvent.is_trustee){window.s.pageName='srp|event_details|trustee';}else{window.s.pageName='srp|event_details|'+auctionTypeMap[modelEvent.auction_type];}
window.s.channel='search';}else if(['login','user-create-account','user-forgot-password','user-reset-email','user-reset-password','user-confirm-account','user-welcome','user-resend-confirm-email','user-update-account','user-comm-pref',].indexOf(modelPageName)!==-1){window.s.pageName=modelPageName;window.s.channel='Account';}
if(modelPageName==='event'||modelPageName==='calendar'){window.s.eVar11=cookieSvc.read(ANALYTICS_CONSTANTS.LONG_TERM_COOKIE);window.s.eVar6='D=c13';window.s.eVar23=window.s.pageURL;window.s.eVar24='D=c4';window.s.prop27=window.s.getPreviousValue(window.s.pageName,'s_ppvl');}}}; var analytics={init:function(){setPageLoadEvents('pageLoad');if(url_param){ var utmList={'utm_source':['eVar40','prop46'],'utm_medium':['eVar41','prop47'],'utm_campaign':['eVar42','prop48'],'utm_content':['eVar43','prop49'],'utm_term':['eVar44','prop50'],'utm_name':['eVar45','prop51'],};for(var utmKey in utmList){if(typeof url_param[utmKey]!=='undefined'){window.s[utmList[utmKey][0]]=url_param[utmKey];window.s[utmList[utmKey][1]]=url_param[utmKey];}}
}
this.firePageTrackingEvent();},firePageTrackingEvent:function(){if(typeof window.s.t!=='undefined'){var prevPage=window.s.getPreviousValue(window.s.pageName,'s_previouspage');prevPage=(prevPage!='no value'&&prevPage)||window.s.pageName;if(!window.s.prop27||prevPage!=window.s.pageName){window.s.prop27=prevPage;}
window.optimizely=window.optimizely||[];window.optimizely.push('activateSiteCatalyst');window.s.t();}},fireCustomTrackingEvent:function(type,eventName){if(typeof window.s.tl!=='undefined'){window.s.tl(true,type,eventName);}},fireLinkTrackingEvent:function(type,eventName){if(typeof window.s.tl!=='undefined'){window.s.tl(this,type,eventName);}},fireGAEventTracking:function(gaEventList){if(configAnalytics.sys.ga){ if(typeof gaEventList!=='undefined'){var trackParams=['send','event'];for(var i=0;i<gaEventList.length;i++){var paramInfo=gaEventList[i];if(typeof paramInfo==='object'){if(typeof paramInfo.params!=='undefined'){trackParams.push(typeof modelParams[paramInfo.params]==='undefined'?'':modelParams[paramInfo.params]);}}else{if(paramInfo.trim()!==''){trackParams.push(paramInfo);}}}
ga.apply(this,trackParams);}}},trackLoginSuccess:function(){window.s.linkTrackVars='eVar75,events';window.s.linkTrackEvents='event7';window.s.eVar75='1';window.s.events=window.s.linkTrackEvents;this.fireCustomTrackingEvent('o','loginsuccess');},trackLoginFail:function(){window.s.linkTrackVars='eVar75,events';window.s.linkTrackEvents='event7';window.s.eVar75='0';window.s.events=window.s.linkTrackEvents;this.fireCustomTrackingEvent('o','loginfail');},trackABTest:function(trackString){if(trackString!==undefined){window.s.linkTrackVars='eVar10';window.s.eVar10=trackString;this.fireCustomTrackingEvent('o',trackString);}},trackPageLoadVirtual:function(){window.s.linkTrackVars='eVar67,prop67';if(modelParams.bid_end_date&&modelParams.state_abbreviation){var eVarParams=modelParams.bid_end_date+';'+modelParams.state_abbreviation;window.s.eVar67=window.s.prop67=eVarParams;}
this.fireCustomTrackingEvent('o','pageLoadVirtual');},trackSelectCalendarEvent:function(eventId,venueId,useStateCode){window.s.linkTrackVars='eVar7,events';window.s.linkTrackEvents='event73';window.s.events=window.s.linkTrackEvents;window.s.eVar7=eventId+';'+(useStateCode?modelParams.state_code:'')+';'+(typeof venueId==='undefined'?'':venueId);this.fireCustomTrackingEvent('o','selectCalendarEvent');},trackAccountCreateFail:function(){window.s.linkTrackVars='events';window.s.linkTrackEvents='event75';window.s.events=window.s.linkTrackEvents;this.fireCustomTrackingEvent('o','accountCreateFail');},trackOptimizelyEvents:function(eventName){window.optimizely=window.optimizely||[];window.optimizely.push(['trackEvent',eventName]);},trackAccountCreateSuccess:function(){window.s.linkTrackVars='events';window.s.linkTrackEvents='event78';window.s.events=window.s.linkTrackEvents;this.fireCustomTrackingEvent('o','accountCreateSuccess');this.fireGAEventTracking(['Create','Account']);},savePropertyEvent:function(gpid,auctionType,propertyType){window.s.linkTrackVars='eVar30,events';window.s.linkTrackEvents='event49';window.s.events=window.s.linkTrackEvents;var pageName=window.s.pageName.split('|');var pageSuffix='';if(pageName[0]){pageSuffix=pageName[0];}
window.s.eVar30=pageSuffix+'|'+gpid+'|'+this.aucTypeMap[auctionType]+'|'+propertyType;this.fireCustomTrackingEvent('o','saveProperty');window.s.linkTrackEvents='';window.s.events=window.s.linkTrackEvents;},trackSaveSearch:function(pageName,auctionType,frequency,keyword){window.s.linkTrackVars='eVar1,events';window.s.linkTrackEvents='event48';window.s.events=window.s.linkTrackEvents;var alertFrequencyStr=parseInt(frequency)===1?'daily':'none';window.s.eVar1=pageName+'|'+this.aucTypeMap[auctionType]+'|'+alertFrequencyStr+'|'+(keyword?keyword:'missing');this.fireCustomTrackingEvent('o','saveSearch');},trackSaveSearchadc:function(pageName,assetType,frequency,keyword){window.s.linkTrackVars='eVar1,events';window.s.linkTrackEvents='event48';window.s.events=window.s.linkTrackEvents;var alertFrequencyStr=parseInt(frequency)===1?'daily':'none';window.s.eVar1=pageName+'|'+assetType+'|'+alertFrequencyStr+'|'+(keyword?keyword:'missing');this.fireCustomTrackingEvent('o','saveSearch');},createABTestTrackingString:function(projectName,variationType,description){projectName=(projectName===undefined)?'':projectName+'-';variationType=(variationType===undefined)?'':variationType+'-';description=(description===undefined)?'':description.toLowerCase().replace(/ /g,"_");return projectName+variationType+description;},realAuctionTrack:function(param){window.s.linkTrackVars='prop26,prop27';window.s.linkTrackEvents='';window.s.prop26=param;window.s.prop27=window.s.pageName;this.fireCustomTrackingEvent('o','TrackHeaderNavLinks');},smartAppBannerTrack:function(){window.s.linkTrackVars='prop26,prop27';window.s.linkTrackEvents='';window.s.prop26='smartapp|dwndapp|ipad';window.s.prop27=window.s.pageName;this.fireCustomTrackingEvent('o','TrackSmartAppBanner');},storeSearchMechanism:function(value){window.s.getPreviousValue(value,'src_mec');},track_bid:function(trackingParams){ var getTimeDiff=function(endTime){var mSecs=endTime.diff(moment(),'seconds');var timeString=''; if(mSecs>86400){var days=Math.floor(mSecs/86400);mSecs-=(days*86400);timeString=days.toString();}else{timeString='0';} 
if(mSecs>3600){var hours=Math.floor(mSecs/3600);mSecs-=(hours*3600);timeString=timeString+':'+hours.toString();}else{timeString=timeString+':0';}
if(mSecs>60){var minutes=Math.floor(mSecs/60);mSecs-=(minutes*60);timeString=timeString+':'+minutes.toString();}else{timeString=timeString+':0';}
timeString=timeString+':'+mSecs.toString();return timeString;};window.s.linkTrackVars='eVar31,prop13,events';window.s.linkTrackEvents='event8';var pageName=modelParams.page_name;if(modelParams.page_name==='property'){var modelProperty;try{modelProperty=ADC.model.property;}catch(err){console.error('ADC.model.property is not defined in the expected way: '+err);}
modelProperty=ADC.model.property?ADC.model.property:{};if(modelProperty.auction_details.is_demo_auction){pageName='demo_pdp';}}
var diffTime=getTimeDiff(trackingParams.auctionEndTime);var reserveMetInfo='';if(trackingParams.reserveMetFlag==='RESERVE_MET'){reserveMetInfo=1;}else if(trackingParams.reserveMetFlag==='RESERVE_NOT_MET'){reserveMetInfo=0;}else if(trackingParams.reserveMetFlag==='RESERVE_NOT_SET'){reserveMetInfo=-1;}
var bidType=trackingParams.bidType==='normal'?0:1;var evar31Info=pageTypeMap[pageName]+'|'+trackingParams.globalPropertyId+'|'+auctionTypeMap[trackingParams.auctionType]+'|'+trackingParams.propertyType+'|'+bidType+'|'+trackingParams.bidAmt+'|'+reserveMetInfo+'|'+diffTime+'|'+trackingParams.bidIncr+'|'+trackingParams.auctionNumber;if(evar31Info){window.s.eVar31=evar31Info;}else{window.s.eVar31='BidError|'+pageName;}
window.s.prop13=modelUser.logged_in?modelUser.user_id:'not logged in';window.s.events='event8';window.s.tl(true,'o','TrackBid');},clearVarsByString:function(stringOfVarsCSV){if(stringOfVarsCSV&&stringOfVarsCSV.length){var svarArr=stringOfVarsCSV.split(',');for(var i=0;i<svarArr.length;i++){window.s[svarArr[i]]='';}}},aucTypeMap:auctionTypeMap,getUrlVars:url_param,};$window.ADC=$window.ADC||{};$window.ADC.analytics=$window.ADC.analytics||{};$window.ADC.analytics=angular.extend($window.ADC.analytics,analytics);return analytics;});
angular.module('xdc-analytics').run(function($window,$log,dataBootstrap,xdcAnalytics){try{var configAnalytics=dataBootstrap.get('config.analytics');var sAccount=configAnalytics.omniture.account;$window.visitor=$window.Visitor.getInstance(configAnalytics.omniture.mc_id,{trackingServer:configAnalytics.omniture.s.trackingServer,trackingServerSecure:configAnalytics.omniture.s.trackingServerSecure,
 marketingCloudServer:configAnalytics.omniture.s.trackingServer,marketingCloudServerSecure:configAnalytics.omniture.s.trackingServerSecure}); $window.s=angular.extend($window.s_gi(sAccount),$window.s); $window.s.visitor=$window.Visitor.getInstance(configAnalytics.omniture.mc_id);}catch(err){$log.warn('ADC.config is not defined in a way to support tracking: '+err);}
try{if(!dataBootstrap.get('model.params.has_custom_tracking')){xdcAnalytics.init();}}catch(e){}});angular.module('fe-create-account',['ngSanitize','ui.mask','fe-user','fe-shared-constants','fe-event-dispatch']).directive('feCreateAccount',function($http,$sce,$templateCache,feUserSvc,SHARED_CONSTANTS,environmentSvc,EventDispatchingSvc,xdcAnalytics){return{restrict:'EA',scope:{email:'@email'},transclude:true,templateUrl:'fe-shared-components/templates/user/fe_create_account.tpl.html',link:function(scope,element,attrs,ctrl,transclude){angular.extend(scope,new EventDispatchingSvc(scope));scope.initState=function(){scope.formSubmitted=false;scope.disableSubmitButton=false;scope.existingAccountError=false;scope.unconfirmedAccountError=false;scope.accountCreationInitiated=false;scope.isInvalidPhoneNumber=false;scope.str_disclaimer=$sce.trustAsHtml(SHARED_CONSTANTS.CREATE_ACCOUNT_DISCLAIMER.str.replace('%(touurl)',environmentSvc.isCre()?SHARED_CONSTANTS.TERMS_OF_USE.url:SHARED_CONSTANTS.ENTITIES.CRE.url+SHARED_CONSTANTS.TERMS_OF_USE.url).replace('%(privacystmturl)',environmentSvc.isCre()?SHARED_CONSTANTS.PRIVACY_STATEMENT.url:SHARED_CONSTANTS.ENTITIES.CRE.url+SHARED_CONSTANTS.PRIVACY_STATEMENT.url).replace('%(entity)',environmentSvc.isCre()?SHARED_CONSTANTS.ENTITIES.CRE.shorthand:SHARED_CONSTANTS.ENTITIES.ADC.shorthand));scope.str_existing_account=$sce.trustAsHtml(SHARED_CONSTANTS.CREATE_ACCOUNT_ALREADY_EXISTING.str.replace('%(loginurl)',environmentSvc.normalizeUrlByDomain(SHARED_CONSTANTS.LOGIN)));scope.cacField={};scope.cacField.email=scope.email?scope.email:'';scope.cacField.emailOptIn=true;};scope.isValidPhoneNumber=function(){if((!scope.cacField.phone||scope.cacField.phone.match(/\d/g).length===10)){scope.isInvalidPhoneNumber=false;return true;}else{scope.isInvalidPhoneNumber=true;return false;}};scope.isValidEmail=function(){if(scope.formSubmitted&&scope.cacField.email&&scope.cacField.email.match(/^[a-z0-9][a-z0-9_\.\-]*@[a-z0-9\.\-]+\.[a-z]{2,4}$/i)){scope.cacForm.email.$invalid=false;return true;}else{scope.cacForm.email.$invalid=true;return false;}};scope.submit=function(){scope.formSubmitted=true;scope.dispatch('contrib:caSubmitted');if(scope.isValidEmail()&&scope.isValidPhoneNumber()&&scope.cacForm.$valid){if(scope.cacField.phone){scope.cacField.phone=scope.cacField.phone.replace(/\D/g,'').replace(/(\d{3})(\d{3})(\d{4})/,'$1-$2-$3');}
scope.disableSubmitButton=true;feUserSvc.createAccount(scope.cacField).then(function(response){if(response.data.result==='success'){xdcAnalytics.trackAccountCreateSuccess();scope.accountCreationInitiated=true;scope.dispatch('contrib:caSucc');}else{xdcAnalytics.trackAccountCreateFail();scope.accountCreationInitiated=false;scope.errorEmail=scope.cacField.email;var ERR_US112='US112', ERR_US112_1='US112_1', ERR_US112_2='US112_2', ERR_US113='US113', currentError;if(response.data.error.code===ERR_US112){currentError=ERR_US112;}else if(response.data.error.code===ERR_US112_1){currentError=ERR_US112_1;}else if(response.data.error.code===ERR_US112_2){currentError=ERR_US112_2;}else if(response.data.error.code===ERR_US113){currentError=ERR_US113;}
scope.dispatch('contrib:caErr',{'error':currentError,'email':scope.errorEmail});scope.disableSubmitButton=false;}});}};scope.initState();}};})
.directive('lettersOnly',function($parse){return{require:'ngModel',link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){if(inputValue===undefined){return'';}
var transformedInput=inputValue.replace(/[^a-zA-Z' ]/g,'');if(transformedInput!=inputValue){modelCtrl.$setViewValue(transformedInput);modelCtrl.$render();}
return transformedInput;});}};});angular.module('fe-create-account-popup',[]);angular.module('fe-browser-detect',[]).value('feBrowser',(function(){if(!window.bowser){console.warn('feBrowser: "bowser" library is missing! Make sure you have a right build.');}
return window.bowser||{};}())).factory('feBrowserDetectSvc',function(feBrowser){function getBrowserDetails(){return{'browserName':feBrowser.name,'browserVersion':feBrowser.version};}
return{getBrowserDetails:getBrowserDetails};});angular.module('fe-deprecate-browsers',['xdc-storage']).value('feBrowser',(function(){if(!window.bowser){console.warn('feBrowser: "bowser" library is missing! Make sure you have a right build.');}
return window.bowser||{};}())).directive('feDeprecateBrowsers',function(lightbox,feBrowser,localStore){var STORAGE_KEY='feDeprecateBrowsers-last-check';return{scope:{deprecated:'@feDeprecateBrowsers'},link:function(scope,el,attrs){scope.deprecated=scope.deprecated||'msie:8,msie:9';if(localStore.get(STORAGE_KEY)===scope.deprecated){return;}
var currentVersion=Number(feBrowser.version);var isDeprecated=scope.deprecated.split(',').reduce(function(isDeprecated,browser){browser=browser.trim();if(!browser){return isDeprecated;}
browser=browser.split(':');var name=browser[0].trim();var version=Number(browser[1].trim());return isDeprecated||(!!feBrowser[name]&&(isNaN(version)||currentVersion<=version));},false);if(isDeprecated){lightbox({title:'Upgrade Your Browser',css:{width:'600px',height:'300px'},templateContent:'fe-shared-components/templates/deprecate-browsers/dialog.tpl.html',parentScope:scope,callback:{close:function(){localStore.set(STORAGE_KEY,scope.deprecated);}}}).open();}}};});angular.module('fe-footer',['ngSanitize','fe-validators','xdc-environment','xdc-lob-cookie']);angular.module('fe-header',['ui-toolkit','fe-search','fe-shared-constants']);angular.module('fe-launch-darkly',['xdc-data-bootstrap']);angular.module('fe-live-agent',['fe-validators','ngSanitize','fe-browser-detect','xdc-analytics','xdc-environment','fe-user']);angular.module('fe-login',['xdc-environment','fe-event-dispatch','fe-user','fe-shared-constants','xdc-analytics','fe-validators']).directive('feLogin',function($http,$q,feUserSvc,FE_USER_CONSTANTS,EventDispatchingSvc,environmentSvc,SHARED_CONSTANTS,cookieSvc,xdcAnalytics){return{restrict:'EA',scope:{callback:'&'},templateUrl:'fe-shared-components/templates/user/fe_login.tpl.html',link:function(scope,element,attrs,loginCtrl){angular.extend(scope,new EventDispatchingSvc(scope)); scope.email='';scope.password='';scope.loginFormProcessing=false;scope.errorCode=null;var initState=function(){scope.isError=false;scope.isInvalidCredentials=false;scope.isNotVerifiedAccount=false;scope.formSubmitted=false;};initState();scope.loginSubmit=function(){initState();scope.formSubmitted=true;scope.dispatch('contrib:loginSubmitted');if(scope.loginForm.$valid){scope.loginFormProcessing=true;feUserSvc.login(scope.email,scope.password,FE_USER_CONSTANTS.appName).then(function(response){xdcAnalytics.trackLoginSuccess();var redirectLocation='';

var cookiePrefix=environmentSvc.isCre()?'TENX':'ADC';if(cookieSvc.read(cookiePrefix+'_LOGGED_USER')===null){cookieSvc.create(cookiePrefix+'_LOGGED_USER',true,365);redirectLocation=environmentSvc.normalizeUrlByDomain(SHARED_CONSTANTS.USER_HOMEPAGE);}
if('callback'in attrs){
feUserSvc.setUser().then(function(details){scope.callback({data:details});});}else{var queryString={};decodeURIComponent(window.location.search).substring(1).split('&').forEach(function(el){ el=el.split('back=');queryString.back=el[1];});if(queryString.back){var pattern=/^(https?:\/\/)/;redirectLocation=(pattern.test(queryString.back))?queryString.back:window.location.origin+queryString.back;window.location=redirectLocation;}else if(document.referrer!==''){window.location=decodeURIComponent(document.referrer);}else if(redirectLocation!==''){window.location=window.location.origin+redirectLocation;}else{redirectLocation=environmentSvc.normalizeUrlByDomain(SHARED_CONSTANTS.USER_HOMEPAGE); window.location=window.location.origin+redirectLocation;}}})['catch'](function(response){scope.isError=true;scope.loginFormProcessing=false;xdcAnalytics.trackLoginFail();var errorCode=response.data.error_code;if(errorCode==='ERR_INVALID_GRANT'||errorCode==='ERR_UNACTIVATED_ACCOUNT'||errorCode==='ERR_SUSPENDED_ACCOUNT'){scope.dispatch('contrib:loginErr',{error:errorCode,email:scope.email});}



if('callback'in attrs){scope.errorCode=errorCode;}});}};}};});angular.module('fe-login-popup',[]).factory('feLoginPopup',function(lightbox,$q,$rootScope){var loginPopup={open:function(){var loginLb;var deferred=$q.defer();var parentScope=$rootScope.$new();var closed=false;parentScope.callback=function(data){if(closed){return;}
closed=true;loginLb.close();deferred.resolve(data);};loginLb=lightbox({title:'',parentScope:parentScope,templateContent:'fe-shared-components/templates/user/fe_login_popup.tpl.html',callback:{close:parentScope.callback},});loginLb.open();return deferred.promise;}};return loginPopup;});angular.module('fe-search',['ui-toolkit','fe-shared-constants']);angular.module('fe-shared-constants',[]).constant('FE_STATES',{AL:'Alabama',AK:'Alaska',AZ:'Arizona',AR:'Arkansas',CA:'California',CO:'Colorado',CT:'Connecticut',DE:'Delaware',FL:'Florida',GA:'Georgia',HI:'Hawaii',ID:'Idaho',IL:'Illinois',IN:'Indiana',IA:'Iowa',KS:'Kansas',KY:'Kentucky',LA:'Louisiana',ME:'Maine',MD:'Maryland',MA:'Massachusetts',MI:'Michigan',MN:'Minnesota',MS:'Mississippi',MO:'Missouri',MT:'Montana',NE:'Nebraska',NV:'Nevada',NH:'New Hampshire',NJ:'New Jersey',NM:'New Mexico',NY:'New York',NC:'North Carolina',ND:'North Dakota',OH:'Ohio',OK:'Oklahoma',OR:'Oregon',PA:'Pennsylvania',RI:'Rhode Island',SC:'South Carolina',SD:'South Dakota',TN:'Tennessee',TX:'Texas',UT:'Utah',VT:'Vermont',VA:'Virginia',WA:'Washington',WV:'West Virginia',WI:'Wisconsin',WY:'Wyoming'}).constant('SHARED_CONSTANTS',{'RESEND_CONFIMRATION_EMAIL':{'str':'Resend Confirmation Email','url':'/user/resend-confirm-email/'},'FORGOT_PASSWORD':{'str':'Recover Your Password','url':'/user/forgot-password/'},'LOGIN':{'str':'Log In','url':'/login/'},'TERMS_OF_USE':{'str':'Terms of Use','url':'/company/legal/terms/'},'PRIVACY_STATEMENT':{'str':'Privacy Statement','url':'/company/legal/privacy/'},'SEARCH_SUBMIT':{'str':'','url':'/search/submit/'},'SEARCH_AUTO_SUGGEST':{'str':'','url':'/xhr'},'CREATE_ACCOUNT':{'str':'','url':'/user/create-account-xhr/'},'USER_LOGIN':{'str':'','url':'/auth/login/'},'ADC_USER_LOGIN':{'str':'','url':'/xhr'},'USER_DETAILS':{'str':'','url':'/user/account/details/'},'USER_DASHBOARD':{'str':'','url':'/dashboard/'},'USER_HOMEPAGE':{'str':'','url':'/'},'ENTITIES':{'CRE':{'name':'Ten-X Commercial','shorthand':'Ten-X','url':'https://www.ten-x.com'},'ADC':{'name':'Auction.com','shorthand':'Auction.com','url':'https://www.auction.com'}},'ERROR_CREATE_ACCOUNT_EXISTING_ACCOUNT':{'str':'There is already an account associated with %(errorEmail). Do you want to <a href="%(loginurl)">log in</a> or <a href="%(forgotpasswordurl)">recover your password</a>?'},'ERROR_CREATE_ACCOUNT_PENDING_CONFIRMATION':{'str':'The account associated with email address %(errorEmail) is pending registration. <a href="%(resendemailurl)">Resend Confirmation Email</a>'},'CREATE_ACCOUNT_DISCLAIMER':{'str':'By clicking "Sign Up" you agree to %(entity)&#39;s <a href="%(touurl)">Website Terms of Use</a> and <a href="%(privacystmturl)">Privacy Statement</a>.'},'CREATE_ACCOUNT_ALREADY_EXISTING':{'str':'Already have an account? <a href="%(loginurl)">Log In</a>'}});angular.module('fe-event-dispatch',[]).factory('EventDispatchingSvc',function($rootScope){function EventDispatchingSvc($scope){var delisteners=[];if(!$scope){throw new Error('A EventDispatchingSvc must have $scope to function. It wasn\'t found.');}
this.dispatch=$rootScope.$emit.bind($rootScope);this.listen=function(){var args=Array.prototype.slice.call(arguments),deListenFunc=$rootScope.$on.apply($rootScope,args);delisteners.push(deListenFunc);return deListenFunc;};$scope.$on('$destroy',function(){delisteners.forEach(function(deListenFunc){if(_.isFunction(deListenFunc)){deListenFunc.call();}});});}
return EventDispatchingSvc;})
.factory('dispatch',function(EventDispatcher){var dispatcher=new EventDispatcher();return dispatcher.dispatch;})
.factory('EventDispatcher',function($rootScope){function EventDispatcher(){}
EventDispatcher.prototype.dispatch=function(){var args=Array.prototype.slice.call(arguments);$rootScope.$emit.apply($rootScope,args);};return EventDispatcher;});angular.module("xdc-lob-cookie",["xdc-cookies"])

.value("XDC_LOB_COOKIE_NAME","TENX_LOB").value("XDC_LOB_COOKIE_VALUE_CRE","cre").value("XDC_LOB_COOKIE_DURATION_CRE",365).factory("xdcLOBCookie",function(cookieSvc,XDC_LOB_COOKIE_NAME,XDC_LOB_COOKIE_VALUE_CRE,XDC_LOB_COOKIE_DURATION_CRE){return{setCRE:function(){cookieSvc.create(XDC_LOB_COOKIE_NAME,XDC_LOB_COOKIE_VALUE_CRE,XDC_LOB_COOKIE_DURATION_CRE);}};});angular.module("fe-smart-app-banner",[]);angular.module("fe-seller-dashboard-tooltip",[]);angular.module('fe-snapEngage',[]);angular.module('fe-user',['fe-shared-constants','xdc-environment','xdc-data-bootstrap']);angular.module("xdc-data-bootstrap",[]).factory("dataBootstrap",function($window){var bootstrap=$window.ADC||{};


 var getByProp=function(key,obj){var val;key=key.split(".");do{val=obj=(obj&&obj[key[0]]);key.shift();}while(val&&key[0]);return val;};return{reload:function(key){var val=getByProp(key,$window);if(val){bootstrap=val;}else{throw new Error("dataBootstrap: reload could not find key: "+key);}},get:function(key){return getByProp(key,bootstrap);}};});

angular.module('xdc-environment',[]).constant('ENVIRONMENTS',{ ENGG_DOMAIN_ADC:['localhost:8082','docker.auction.com:8082','docker.ten-x.com:8082'],ENGG_DOMAIN_TENX:['localhost:9005','localhost:8083','docker.auction.com:8083','docker.ten-x.com:8083'], DOMAIN_AUCTION:'auction.com',DOMAIN_MLH4:'mlh4.com',DOMAIN_TENX:'tenx.com',DOMAIN_TEN_X:'ten-x.com',DOMAIN_10X:'10x.com',HOST_ADC_PROD:'www.auction.com',HOST_MLH4_PROD:'www.mlh4.com',HOST_TENX_PROD:'www.ten-x.com'}).service('environmentSvc',function(ENVIRONMENTS,$window){var CONST_TENX_PREFIX='/commercial';var host=$window.location.host;return{isCre:function(){return(ENVIRONMENTS.ENGG_DOMAIN_TENX.indexOf(host)!==-1||host.indexOf(ENVIRONMENTS.DOMAIN_MLH4)!==-1||host.indexOf(ENVIRONMENTS.DOMAIN_TENX)!==-1||host.indexOf(ENVIRONMENTS.DOMAIN_TEN_X)!==-1||host.indexOf(ENVIRONMENTS.DOMAIN_10X)!==-1);},isProduction:function(){return(host===ENVIRONMENTS.HOST_ADC_PROD||host===ENVIRONMENTS.HOST_MLH4_PROD||host===ENVIRONMENTS.HOST_TENX_PROD);},

isTenXLocalDev:function(){return(ENVIRONMENTS.ENGG_DOMAIN_TENX.indexOf(host)!==-1);},
normalizeUrlByDomain:function(constKey){return this.isCre()?CONST_TENX_PREFIX+constKey.url:constKey.url;}};});angular.module('fe-validators',[]);angular.module('fe-validators').directive('feValidEmail',function(){var EMAIL_REGEXP=/^[a-z0-9][a-z0-9_\.\-]*@[a-z0-9\.\-]+\.[a-z]{2,4}$/i;return{restrict:'AE',require:'ngModel',link:function(scope,elm,attrs,ctrl){if(ctrl){var validateEmail=function validateEmail(modelValue,viewValue){return ctrl.$isEmpty(modelValue)||EMAIL_REGEXP.test(viewValue);};if(ctrl.$validators){var vname=ctrl.$validators.email?'email':'feValidEmail';ctrl.$validators[vname]=validateEmail;}else{ ctrl.$parsers.push(function(viewValue){ctrl.$setValidity('email',validateEmail(viewValue,viewValue));return viewValue;});}}}};});angular.module('fe-footer').directive('feFooter',['feSnapEngageSvc','FE_FOOTER_LINKS','FE_FOOTER_SOCIAL_LINKS','FE_FOOTER_LEGAL_LINKS','FE_FOOTER_CONSTANTS','environmentSvc','xdcLOBCookie',function(feSnapEngageSvc,links,socialLinks,legalLinks,constants){return{scope:{noMain:'=',noSocial:'=',noLegal:'=',noSubscription:'='},templateUrl:'fe-shared-components/templates/footer/index.html',link:function(scope){scope.links=links;scope.socialLinks=socialLinks;scope.legalLinks=legalLinks;scope.constants=constants;scope.itunesButton=constants.itunesButton;scope.androidButton=constants.androidButton;scope.validate=function(e,form){if(form.$setSubmitted){form.$setSubmitted();}else{form.$submitted=true;}
if(form.$invalid){e.preventDefault();}else{

scope.track(constants.subscriptionTracking);if((e.originalEvent||e).defaultPrevented){e.target.submit();}}};scope.track=function(trace){if(!ADC.analytics){return;}
window.s.linkTrackVars='prop26,prop27';window.s.linkTrackEvents='';window.s.prop26=trace;window.s.prop27=window.s.pageName;ADC.analytics.fireCustomTrackingEvent('o','TrackFooterLinks');};scope.expandedGroup=null;scope.expand=function(title){scope.expandedGroup=scope.expandedGroup===title?null:title;};constants.onInit();}};}])

.config(function($compileProvider){$compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|mailto|tel|javascript:SnapEngage)/);});angular.module('fe-header').directive('feHeaderMobileMenu',function(FE_HEADER_MOBILE_NAV,FE_HEADER_CONSTANTS){return{scope:{domain:'@',config:'=feHeaderMobileMenu'},templateUrl:'fe-shared-components/templates/header/mobile-menu.tpl.html',link:function(scope,el){scope.domain=scope.domain||'/';scope.links=FE_HEADER_MOBILE_NAV;scope.constants=FE_HEADER_CONSTANTS;scope.isOpen=false;scope.toggle=function(){scope.isOpen=!scope.isOpen;};}};});angular.module('fe-header').directive('feHeaderTrack',function(){function track(trace){if(!trace){return;}
window.s.linkTrackVars='prop26,prop27';window.s.linkTrackEvents='';window.s.prop26=trace;window.s.prop27=window.s.pageName;if(ADC.analytics){ADC.analytics.storeSearchMechanism('nav');ADC.analytics.fireCustomTrackingEvent('o','TrackHeaderNavLinks');}}
return{scope:{trace:'@feHeaderTrack'},link:function(scope,el,attr){function handle(){track(scope.trace);}
el.on('click',handle);scope.$on('$destroy',function(){el.off('click',handle);});}};});angular.module('fe-header').directive('feHeader',function(FE_HEADER_NAV,FE_HEADER_CONSTANTS,feUserSvc,$rootScope,$timeout,$compile){return{scope:{initialDomain:'@domain',initialConfig:'=feHeader',searchModel:'=?feSearchModel', onSearch:'&searchCallback',searchText:'@searchText'},templateUrl:'fe-shared-components/templates/header/index.tpl.html',link:function(scope,el,attrs){scope.domain=scope.initialDomain||'';scope.links=FE_HEADER_NAV;scope.constants=FE_HEADER_CONSTANTS;scope.searchModel=scope.searchModel||{};scope.config=angular.extend({},FE_HEADER_CONSTANTS.config,scope.initialConfig||{});scope.searchCallback=null;scope.clickItem=function(){$rootScope.$broadcast('utkDropdownClicked');};


 $timeout(function(){var elem=document.getElementsByClassName('utk-dropdown-button');if(elem.length){for(var i=0;i<elem.length;i++){var currelem=elem[i];currelem.setAttribute('ng-click','clickItem()');var ele=angular.element(currelem);$compile(ele)(scope);}}},0);if(attrs.searchCallback){scope.searchCallback=function(params){scope.onSearch({searchParams:params});};}

scope.$watch(function(){return feUserSvc.isLoggedIn();},function(loggedIn){scope.config.user=loggedIn?feUserSvc.details:null;});}};});angular.module('fe-header').constant('FE_HEADER_CONSTANTS',{homeUrl:'/commercial/',searchUrl:'/commercial/search/',config:{search:true}});angular.module('fe-header').factory('FE_HEADER_MOBILE_NAV',function(){return[{label:'LOG IN',url:'/commercial/login/',elmId:'TOP_NAV_USER_LOGIN',track:'header|login',enabled:function(config){return!config.user;}},{label:'LOG OUT',url:'/commercial/logout/',elmId:'TOP_NAV_USER_LOGOUT',track:'header|logout',enabled:function(config){return!!config.user;}},{label:'SIGN UP',url:'/commercial/signup/',track:'header|signup',enabled:function(config){return!config.user;}},{},{label:'BUYER DASHBOARD',url:'/commercial/dashboard/',elmId:'header-dashboard-buyer',track:'header|buyerdash',enabled:function(config){return!!config.user;}},{label:'SELLER DASHBOARD',url:'/commercial/dashboard/seller/offers/',elmId:'header-dashboard-seller',track:'header|sellerdash',enabled:function(config){return!!config.user&&(!!config.user.has_non_auction_listing||!!config.user.has_listing);},},{label:'SAVED SEARCHES',url:'/commercial/dashboard/alerts/',elmId:'header-alerts',track:'header|savedsearch',enabled:function(config){return!!config.user;}},{label:'PROFILE',url:'/commercial/dashboard/buyer/profile/account-info/',elmId:'header-profile',track:'header|profile',enabled:function(config){return!!config.user;}},{enabled:function(config){return!!config.user;}},{label:'SEARCH',url:'/commercial/search/',track:'header|search'},{label:'BUY',url:'/company/commercial/buy/',elmId:'TOP_NAV_BUY',track:'header|buy'},{label:'SELL',url:'/company/commercial/sell/',elmId:'TOP_NAV_SELL',track:'header|sell'},{label:'BROKERS',url:'/company/commercial/brokers/',elmId:'TOP_NAV_BROKER',track:'header|brokers'},{label:'RESEARCH',url:'/company/commercial/research/',elmId:'TOP_NAV_RESEARCH',track:'header|research'},{label:'CONTACT',url:'/company/commercial/contact/',elmId:'TOP_NAV_CONTACT',track:'header|contact'},{},{label:'HELP',url:'/company/commercial/help/',track:'header|help',elmId:'header-help-center'}];});angular.module('fe-header').factory('FE_HEADER_NAV',function(){var links=[{label:'BUY',url:'/company/commercial/buy/',elmId:'TOP_NAV_BUY',track:'header|buy',enabled:function(config){return config.buy;}},{label:'SELL',url:'/company/commercial/sell/',elmId:'TOP_NAV_SELL',track:'header|sell',enabled:function(config){return config.sell;}},{label:'BROKERS',url:'/company/commercial/brokers/',elmId:'TOP_NAV_BROKER',track:'header|brokers',enabled:function(config){return config.brokers;}},{label:'RESEARCH',url:'/company/commercial/research/',elmId:'TOP_NAV_RESEARCH',track:'header|research',enabled:function(config){return config.research;}},{label:'CONTACT',url:'/company/commercial/contact/',elmId:'TOP_NAV_CONTACT',track:'header|contact',enabled:function(config){return config.contact;}}];var headerMoreLinks=links.map(function(link){var headerMoreTrack=link.track.replace('|','|more|');return angular.extend({},link,{track:headerMoreTrack});});return links.map(function(link){return angular.extend({},link,{cls:'show-for-large-up'});}).concat([{label:'MORE',elmId:'headerMoreMenu',links:headerMoreLinks,cls:'show-for-medium-only',enabled:function(config){return config.buy||config.buy||config.sell||config.research||config.contact;}},{label:function(config){return config.user?config.user.first_name.toUpperCase():'';},enabled:function(config){return!!config.user;},elmId:'headerUserMenu',cls:'hide-for-small-only',links:[{label:'SELLER DASHBOARD',url:'/commercial/dashboard/seller/offers/',elmId:'header-dashboard-seller',track:'header|sellerdash',enabled:function(config){return!!config.user&&(!!config.user.has_non_auction_listing||!!config.user.has_listing);},},{label:'BUYER DASHBOARD',url:'/commercial/dashboard/',elmId:'header-dashboard-buyer',track:'header|buyerdash',},{label:'SAVED SEARCHES',url:'/commercial/dashboard/alerts/',elmId:'header-alerts',track:'header|savedsearch'},{label:'PROFILE',url:'/commercial/dashboard/buyer/profile/account-info/',elmId:'header-profile',track:'header|profile'},{label:'LOG OUT',url:'/commercial/logout/',elmId:'TOP_NAV_USER_LOGOUT',track:'header|logout',enabled:function(config){return!!config.user;}}]},{label:'LOG IN',url:'/commercial/login/',elmId:'TOP_NAV_USER_LOGIN',track:'header|login',enabled:function(config){return!config.user&&config.login;}},{label:'SIGN UP',url:'/commercial/signup/',track:'header|signup',elmId:'TOP_NAV_USER_CREATE_ACCOUNT',cls:'hide-for-small-only',enabled:function(config){return!config.user&&config.signup;}},{label:function(config){return config.user?config.user.first_name.toUpperCase():'';},elmId:'header-dashboard',cls:'show-for-small-only',enabled:function(config){return!!config.user&&config.login;}}]);});angular.module('fe-footer').factory('FE_FOOTER_CONSTANTS',function(xdcLOBCookie,launchDarkly){return{subscriptionUrl:'/commercial/email-notification',subscriptionTracking:'footer|notification',onInit:function(){

xdcLOBCookie.setCRE();},copyright:('<span class="utk-text-footnote">&copy; 2016 Ten-X, LLC.</span>'+'<span class="utk-text-footnote fe-footer-copyright-line2">Ten-X Offer Select: Patents pending.</span>'),
itunesButton:{title:'Download on the App Store',class:'utk-button-app-store fe-mobile-button',href:'https://itunes.apple.com/app/apple-store/id1077442961?pt=315353&ct=FooterBadge&mt=8',target:'_blank',tracking:'footer|app'},};});angular.module('fe-footer').constant('FE_FOOTER_LEGAL_LINKS',[{text:'Privacy Statement',href:'/company/legal/privacy/',target:'_blank',tracking:'footer|privacy'},{text:'Website Terms of Use',href:'/company/legal/terms/',target:'_blank',tracking:'footer|tou'},{text:'Participation Terms',href:'/company/legal/participation-terms/',target:'_blank',tracking:'footer|participation'},{text:'Licensing & Disclosures',href:'/company/legal/licensing/',target:'_blank',tracking:'footer|licensing'}]);angular.module('fe-footer').factory('FE_FOOTER_LINKS',function(feSnapEngageSvc,launchDarkly){return[{title:'Company',links:[{text:'About Ten-X',href:'/company/about/',target:'_blank',tracking:'footer|about',elmId:'footer-gen-abt'},{text:'Press',href:'https://mediaroom.ten-x.com',target:'_blank',tracking:'footer|media',elmId:'footer-gen-media'},{text:'Careers',href:'https://www.ten-x.com/company/careers/',target:'_blank',tracking:'footer|careers',elmId:'footer-gen-careers'},{text:'Contact Us',href:'/company/commercial/contact/',target:'_blank',tracking:'footer|contact',elmId:'footer-gen-contact'}]},{title:'Resources',links:[{text:'Ten-X Commercial Blog',href:'/company/blog/category/commercial/',target:'_blank',tracking:'footer|creblog',elmId:'footer-rsrc-crebroker'},{text:'Financing Options',href:'/company/commercial/financing/',target:'_blank',tracking:'footer|financing',elmId:'footer-rsrc-financing'},{text:'Nowcast',href:'/company/commercial/nowcast/',target:'_blank',tracking:'footer|nowcast',elmId:'footer-rsrc-nowcast'}]},{title:'Other sites',links:[{text:'Ten-X Corporate',href:'/?SCID=TenXCreFooter&tenx_corp_reset=true',target:'_blank',tracking:'footer|corp',elmId:'footer-os-corp'},{text:'Ten-X Homes',href:'/homes/?utm_source=TenXCreFooter',target:'_blank',tracking:'footer|homes',elmId:'footer-os-homes'},{text:'Auction.com',href:'https://www.auction.com/?utm_source=TenXCreFooter',target:'_blank',tracking:'footer|auction',elmId:'footer-os-adc'}]},{title:'Help',links:[{text:'Help Center',href:'/company/commercial/help/',target:'_blank',tracking:'footer|help',elmId:'footer-help-center'},{text:'Live Chat',tracking:'footer|chat',elmId:'footer-chat',href:'#live-chat',cls:'show-for-medium-up',onclick:function(e){e.preventDefault();feSnapEngageSvc.startLink();}},{html:'<a class="show-for-large-only">(888) 770-7332</a><a href="tel:8887707332" class="hide-for-large">(888) 770-7332<a>'},{html:'Mon-Fri 6am-6pm PT'}]}];});angular.module('fe-footer').constant('FE_FOOTER_SOCIAL_LINKS',[{text:'facebook',href:'https://www.facebook.com/tenx',target:'_blank',tracking:'footer|facebook'},{text:'twitter',href:'https://twitter.com/tenx',target:'_blank',tracking:'footer|twitter'},{text:'google-plus',href:'https://plus.google.com/107872122047601299533',target:'_blank',tracking:'footer|google'},{text:'linked-in',href:'https://www.linkedin.com/company/1474032',target:'_blank',tracking:'footer|linkedin'},{text:'you-tube',href:'https://www.youtube.com/channel/UCZfrZg4UMz6U1tCYc-x5-_A',target:'_blank',tracking:'footer|youtube'},{text:'instagram',href:'https://www.instagram.com/tenx_re/',target:'_blank',tracking:'footer|instagram'},{text:'slide-share',href:'http://www.slideshare.net/Ten-X',target:'_blank',tracking:'footer|slideshare'}]);angular.module('fe-launch-darkly').factory('launchDarkly',['$log','dataBootstrap',function($log,dataBootstrap){var ldFlags=dataBootstrap.get('model.launch_darkly')||{};return{isToggle:function isToggle(togKey){if(ldFlags.hasOwnProperty(togKey)){return ldFlags[togKey];}
$log.warn('Launch darkly flag \''+togKey+'\' was not found. Make sure you are adding toggle to launch_darkly_js_flags in the python controller.');return false;}};}]);angular.module('fe-live-agent').directive('liveChatCallOut',function(feLiveAgentSvc,xdcAnalytics,feBrowserDetectSvc){return{templateUrl:'fe-shared-components/templates/live-agent/chat-callout.html',scope:true,link:function(scope){scope.safariOverride=/safari/i.test(feBrowserDetectSvc.getBrowserDetails().browserName)?true:false;scope.triggerChat=function(){feLiveAgentSvc.open();var abString=xdcAnalytics.createABTestTrackingString('ACX-311','v1','chat_callout');xdcAnalytics.trackABTest(abString);};}};});angular.module('fe-live-agent').directive('feLiveAgentOffline',function($sce,$location,$window,$timeout,FE_LIVE_AGENT_CONSTANTS,feLiveAgentValidateSvc,feLiveAgentAutosizeSvc,feBrowserDetectSvc,environmentSvc,feUserSvc){return{templateUrl:'fe-shared-components/templates/live-agent/offline.html',scope:true,link:function(scope,el){var browserDetails=feBrowserDetectSvc.getBrowserDetails();scope.browserInfo=browserDetails.browserName+'('+browserDetails.browserVersion+')';scope.parentUrl=$window.opener.location.href;scope.constants=FE_LIVE_AGENT_CONSTANTS;scope.url=$sce.trustAsResourceUrl(FE_LIVE_AGENT_CONSTANTS.offlineChatUrl);scope.browserField=environmentSvc.isProduction()?FE_LIVE_AGENT_CONSTANTS.browserFieldProd:FE_LIVE_AGENT_CONSTANTS.browserFieldNonProd;scope.sourceUrlField=environmentSvc.isProduction()?FE_LIVE_AGENT_CONSTANTS.sourceUrlFieldProd:FE_LIVE_AGENT_CONSTANTS.sourceUrlFieldNonProd; scope.isFinal=(/close=true/i).test($location.absUrl());scope.close=function(){$window.close();};scope.retUrl=$location.absUrl();scope.retUrl+=(scope.retUrl.indexOf('?')!==-1?'&':'?')+'close=true';scope.tmp={};var isUserLoggedIn=feUserSvc.isUserLoggedIn(); scope.tmp.name=(!isUserLoggedIn||!feUserSvc.details.first_name||!feUserSvc.details.last_name)?'':feUserSvc.details.first_name+' '+feUserSvc.details.last_name;scope.tmp.email=isUserLoggedIn?feUserSvc.details.email_address:'';scope.tmp.phone=isUserLoggedIn?(feUserSvc.details.phone&&feUserSvc.details.phone.length>=10)?feUserSvc.details.phone:'':'';feLiveAgentAutosizeSvc(el[0]);scope.validate=feLiveAgentValidateSvc;}};});angular.module('fe-live-agent').directive('feLiveAgentOnline',function($sce,$window,FE_LIVE_AGENT_CONSTANTS,feLiveAgentValidateSvc,feLiveAgentAutosizeSvc,feBrowserDetectSvc,environmentSvc,feUserSvc){return{templateUrl:'fe-shared-components/templates/live-agent/online.html',scope:true,link:function(scope,el){var browserDetails=feBrowserDetectSvc.getBrowserDetails();scope.browserInfo=browserDetails.browserName+'('+browserDetails.browserVersion+')';var params=$window.location.search.match(/[&\?]endpoint=([^&#]*)/);var url=params?decodeURIComponent(params[1]):'';feLiveAgentAutosizeSvc(el.find('form')[0]);var isUserLoggedIn=feUserSvc.isUserLoggedIn();scope.tmp={};scope.tmp.fname=isUserLoggedIn?feUserSvc.details.first_name:'';scope.tmp.lname=isUserLoggedIn?feUserSvc.details.last_name:'';scope.tmp.company=(isUserLoggedIn&&feUserSvc.details.company)?feUserSvc.details.company:'';scope.tmp.email=isUserLoggedIn?feUserSvc.details.email_address:'';scope.tmp.phone=isUserLoggedIn?(feUserSvc.details.phone&&feUserSvc.details.phone.length>=10)?feUserSvc.details.phone:'':'';scope.parentUrl=$window.opener.location.href;scope.constants=FE_LIVE_AGENT_CONSTANTS;scope.url=$sce.trustAsResourceUrl(url);scope.validate=feLiveAgentValidateSvc;scope.browserField=environmentSvc.isProduction()?FE_LIVE_AGENT_CONSTANTS.browserFieldProd:FE_LIVE_AGENT_CONSTANTS.browserFieldNonProd;scope.sourceUrlField=environmentSvc.isProduction()?FE_LIVE_AGENT_CONSTANTS.sourceUrlFieldProd:FE_LIVE_AGENT_CONSTANTS.sourceUrlFieldNonProd;}};});angular.module('fe-live-agent').provider('FE_LIVE_AGENT_CONSTANTS',function(){var config={clientId:'57340000000blKv',scriptUrl:'https://c.la3-c2cs-chi.salesforceliveagent.com/content/g/js/36.0/deployment.js',initUrl:'https://d.la3-c2cs-chi.salesforceliveagent.com/chat',offlineUrl:'/examples/live-agent/offline.html',offlineChatUrl:'https://cs42.salesforce.com/servlet/servlet.WebToCase?encoding=UTF-8',buttonId:'57240000000blKR',orgId:'00D190000004ZGL',recordType:'012400000005hnw',browserFieldProd:'00N4000000345pp',browserFieldNonProd:'00N4000000345pp',sourceUrlFieldProd:'00N4000000345pk',sourceUrlFieldNonProd:'00N4000000345pk'};this.config=function(overrides){angular.extend(config,overrides||{});};this.$get=function(){return config;};});angular.module('fe-live-agent').factory('feLiveAgentAutosizeSvc',function($window){return function(el){ if($window.opener){var delta=$window.outerHeight-$window.innerHeight;$window.resizeTo(el.offsetWidth,el.offsetHeight+delta);}};});angular.module('fe-live-agent').service('feLiveAgentSvc',function($window,$q,lightbox,FE_LIVE_AGENT_CONSTANTS){
var isOnline=false;var onlineStub=document.createElement('div');onlineStub.style.display='none';var offlineStub=document.createElement('div');offlineStub.style.display='none';$window._laq=$window._laq||[];$window._laq.push(function(){$window.liveagent.showWhenOnline(FE_LIVE_AGENT_CONSTANTS.clientId,onlineStub);$window.liveagent.showWhenOffline(FE_LIVE_AGENT_CONSTANTS.clientId,offlineStub);
});function checkStatus(done){$window.liveagent.init(FE_LIVE_AGENT_CONSTANTS.initUrl,FE_LIVE_AGENT_CONSTANTS.buttonId,FE_LIVE_AGENT_CONSTANTS.orgId);var checker=setInterval(function(){if(onlineStub.style.display!=='none'){done(true);clearInterval(checker);}else if(offlineStub.style.display!=='none'){done(false);clearInterval(checker);}},50);}

 
function init(){var result=$q.defer();function resolve(){checkStatus(function(status){isOnline=status;result.resolve($window.liveagent);});} 
if($window.liveagent){resolve();}else{ var script=document.createElement('script');script.type='text/javascript';script.async=true;script.src=FE_LIVE_AGENT_CONSTANTS.scriptUrl; script.onload=script.onreadystatechange=function(){if(!this.readyState||this.readyState==='loaded'||this.readyState==='complete'){resolve();}}; var s=document.querySelector('script');s.parentNode.insertBefore(script,s);} 
return result.promise;} 
function open(){init().then(function(liveagent){if(isOnline){liveagent.startChat(FE_LIVE_AGENT_CONSTANTS.clientId);}else{var win=$window.open(FE_LIVE_AGENT_CONSTANTS.offlineUrl,'liveagent','width=400,height=500,menubar=no,location=no,resizable=no,status=no');if(win.focus){win.focus();}}});}
return{open:open};});angular.module('fe-live-agent').factory('feLiveAgentValidateSvc',function(){return function(e,form){if(form.$setSubmitted){form.$setSubmitted();}else{form.$submitted=true;}
if(form.$invalid){e.preventDefault();}else{if((e.originalEvent||e).defaultPrevented){e.target.submit();}}};});angular.module('fe-search').factory('feSearchGetSuggestionsSvc',function(FE_STATES,feSearchSuggestSvc,$q){function getState(value){return FE_STATES[(value+'').toUpperCase()];}
function isState(value){return!!getState(value);}
function isZip(value){return/^\d{5}$/.test(value);}
return function getSuggestions(q){var result=null;if(q.length<2){result=[];}else if(isState(q)){result=[{type:'state',state:q,value:getState(q)}];}else if(isZip(q)){result=[{type:'zip',zip:q,value:q}];}
return(result?$q.when(result):feSearchSuggestSvc(q)).then(function(items){return items.map(function(item){return{label:item.value,subLabel:item.type,value:item};}).slice(0,9).concat({label:q,subLabel:'text',value:{type:'text',text:q,value:q}});});};});angular.module('fe-search').factory('feSearchParamsSvc',function(FE_STATES){return function searchParams(suggestion){var params={search_text:'',search_zip:'',search_county:'',search_city:'',search_state:''};if(!suggestion||!suggestion.value||!suggestion.value.type){if(suggestion&&suggestion.label){params.search_text=suggestion.label;}
return params;}
switch(suggestion.value.type){case'city':params.search_city=suggestion.value.city.trim();params.search_state=suggestion.value.state.trim();params.auto_flag='yes';break;case'zip':params.search_zip=suggestion.value.zip;params.auto_flag='yes';break;case'county':params.search_county=suggestion.value.county.split(/\scounty/i)[0];params.search_state=suggestion.value.state.trim();params.auto_flag='yes';break;case'state':params.search_state=suggestion.value.state.trim();params.auto_flag='yes';break;case'text':params.search_text=suggestion.value.text.trim();}
return params;};});angular.module('fe-search').factory('feSearchSuggestSvc',function(FE_SEARCH_CONSTANTS,environmentSvc,$http){return function search(q){var url=environmentSvc.normalizeUrlByDomain({url:'/xhr?q=auto_suggest&suggestType=location_detail'});return $http.get(url+'&search='+q).then(function(resp){return resp.data.auto_suggest.locations;});};});angular.module('fe-search').directive('feSearch',function(FE_SEARCH_CONSTANTS,feSearchGetSuggestionsSvc,feSearchParamsSvc){return{scope:{callback:'&feSearchOnRequest',suggestion:'=?feSearchModel',userInputPreFilled:'@feSearchPlaceholder',suggOverrides:'=feSearchAutosuggest',listenBlur:'=feSearchListenBlur'},templateUrl:'fe-shared-components/templates/search/index.tpl.html',link:function(scope,el,attrs){scope.constants=FE_SEARCH_CONSTANTS;
 if(scope.userInputPreFilled){scope.suggestion={label:scope.userInputPreFilled};} 
scope.searchParams={};scope.suggOptions=angular.extend({profile:'recommendAndComplete',placeholder:FE_SEARCH_CONSTANTS.placeholder,button:{visible:true},resultsFn:feSearchGetSuggestionsSvc,listenerFn:function(e){scope.searchParams=feSearchParamsSvc(scope.suggestion);if(e==='userSelection'||e==='buttonClick'||(scope.listenBlur&&e==='blur')){ var userInput=angular.element('span.utk-autosuggest-input-hidden').html();if(scope.searchParams.search_text!==userInput&&e==='blur'){scope.searchParams.search_text=userInput;}
if(attrs.feSearchOnRequest){scope.callback({params:scope.searchParams});}else{setTimeout(function(){el.find('form')[0].submit();},100);}}}},scope.suggOverrides||{});}};});angular.module('fe-search').constant('FE_SEARCH_CONSTANTS',{searchUrl:'/commercial/search/submit/',placeholder:'State, City, Zip, Address, or ID'});angular.module("fe-smart-app-banner").run(function($rootScope,FE_SMART_APP_BANNER_CONSTANTS){var isIpad=/(iPad).*AppleWebKit.*Mobile.*Safari/.test(navigator.userAgent)||window.debug;var isIphone=/(iPhone).*AppleWebKit.*Mobile.*Safari/.test(navigator.userAgent)||window.debug;var sbNode=document.createElement("meta");var constants=FE_SMART_APP_BANNER_CONSTANTS; var updatePage=function(){if(isIpad||isIphone){var appArgument=window.location.href;var headNode=document.getElementsByTagName("head")[0];sbNode.name="apple-itunes-app";sbNode.content="app-id="+constants.appId+", affiliate-data=ct=SmartAppBanner&pt=315353, app-argument="+appArgument;headNode.appendChild(sbNode);ADC.analytics.smartAppBannerTrack();}};$rootScope.$on("$locationChangeSuccess",function(){updatePage();});return updatePage();});angular.module('fe-smart-app-banner').provider('FE_SMART_APP_BANNER_CONSTANTS',function(){var defaultconfig={appId:'1077442961'};var config={};this.config=function(overrides){config=angular.extend({},defaultconfig,overrides||{});};this.$get=function(){return config;};});angular.module('fe-seller-dashboard-tooltip').directive('feSellerDashboardTooltip',function(FE_SELLER_DASHBOARD_TOOLTIP_CONSTANTS,$utkInfoLayer,$timeout,$window,$rootScope){return{scope:{config:'=',elId:'@'},link:function(scope,element,attrs){scope.constants=FE_SELLER_DASHBOARD_TOOLTIP_CONSTANTS;scope.sellerDashTooltipEnabled=scope.constants.sellerDashTooltipEnabled;scope.showToolTipFlag=false;scope.isUserMenu=scope.elId;var options={scope:scope,placement:'bottom',align:'center',closeOnBlur:true,contentTemplate:'fe-shared-components/templates/seller-dashboard-tooltip/index.tpl.html',autoClose:true};scope.sellerToolTip=$utkInfoLayer(element,options);$timeout(function(){ if(scope.isUserMenu=='headerUserMenu'&&scope.sellerDashTooltipEnabled&&!!scope.config.user&&(!!scope.config.user.has_non_auction_listing||!!scope.config.user.has_listing)&&(parseInt($window.localStorage.hideSellerToolTip)<3||typeof($window.localStorage.hideSellerToolTip)==='undefined')){if($window.localStorage.hideSellerToolTip){$window.localStorage.hideSellerToolTip=parseInt($window.localStorage.hideSellerToolTip)+1;}else{$window.localStorage.hideSellerToolTip=1;}
scope.sellerToolTip.show();}},0);$rootScope.$on('utkDropdownClicked',function(){scope.sellerToolTip.hide();});}};});angular.module('fe-seller-dashboard-tooltip').factory('FE_SELLER_DASHBOARD_TOOLTIP_CONSTANTS',function(launchDarkly){return{sellerDashTooltipEnabled:false};});angular.module('fe-snapEngage').factory('feSnapEngageSvc',function(FE_SNAPENGAGE_CONSTANTS,$window){var deployed=false;function assureDeployed(done){
 if($window.SnapEngage){deployed=true;}
 
if(deployed){return setTimeout(done,0);} 
var se=document.createElement('script');se.type='text/javascript';se.async=true;se.src=FE_SNAPENGAGE_CONSTANTS.scriptUrl; se.onload=se.onreadystatechange=function(){if(!deployed&&(!this.readyState||this.readyState==='loaded'||this.readyState==='complete')){deployed=true;FE_SNAPENGAGE_CONSTANTS.onLoad();done();}}; var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(se,s);}
return{startLink:function(){assureDeployed(function(){$window.SnapEngage.startLink();});}};});angular.module('fe-snapEngage').constant('FE_SNAPENGAGE_CONSTANTS',{scriptUrl:'//storage.googleapis.com/code.snapengage.com/js/95fbcabf-7899-4778-9d3e-64f3a6df6451.js',onLoad:function(){}});angular.module('fe-user').constant('FE_USER_CONSTANTS',{appName:'TENX_CRE'});angular.module('fe-user').factory('feUserSvc',function(dataBootstrap,environmentSvc,$http,$log,$q,SHARED_CONSTANTS){


var accountDetailsFactory=function(details){

details=details||{};if(details.email_address){details.loggedIn=true;}
return details;};var feUser={




details:accountDetailsFactory(dataBootstrap.get('model.user')||dataBootstrap.get('user')),
setUser:function(){return $http.post(environmentSvc.normalizeUrlByDomain(SHARED_CONSTANTS.USER_DETAILS),{}).then(function(response){feUser.details=accountDetailsFactory(response.data);return $q.when(feUser.details);})['catch'](function(response){feUser.details=accountDetailsFactory();return $q.reject(feUser.details);});},isUserLoggedIn:function(){$log.warn('isUserLoggedIn() is deprecated. Please use isLoggedIn or another method.');return $http({url:environmentSvc.normalizeUrlByDomain(SHARED_CONSTANTS.USER_DETAILS),method:'POST'});},isLoggedIn:function(){return!!this.details.email_address;},login:function(email,password,app){return $http({url:environmentSvc.isTenXLocalDev()?environmentSvc.normalizeUrlByDomain(SHARED_CONSTANTS.USER_LOGIN):SHARED_CONSTANTS.USER_LOGIN.url,method:'POST',data:{'email':email,'password':password,'app_name':app},headers:{'Content-Type':'application/json'}});},createAccount:function(newUserObj){return $http.post(environmentSvc.normalizeUrlByDomain(SHARED_CONSTANTS.CREATE_ACCOUNT),{new_user_data:newUserObj});},suggestEmail:function(emailVal){var suggestedEmailDomain={'gmail.com':['gmial','gmai','gamil','gma'],'yahoo.com':['ya','yah','yaho'],'hotmail.com':['hotmal','hotmai','hotmil','homail']}; return _.findKey(suggestedEmailDomain,function(o){return _.indexOf(o,emailVal)>=0;});},logout:function(){}};return feUser;});angular.module('fe-seller-dashboard-tooltip').factory('FE_SELLER_DASHBOARD_TOOLTIP_CONSTANTS',function(launchDarkly){return{sellerDashTooltipEnabled:launchDarkly.isToggle('fe.ten-x.seller_dashboard.tooltip')};});angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/deprecate-browsers/dialog.tpl.html','<div class="fe-deprecate-browsers-dialog">\n  <p>\n      You are currently using an outdated browser which is \n      no longer supported. For the best experience, upgrade your \n      browser to the latest version of one of these popular options.\n  </p>\n  <ul>\n    <li class="fe-deprecate-browsers-chrome">\n      <a target="_blank" href="https://www.google.com/intl/en/chrome/browser/desktop/index.html">Chrome</a></li>\n    <li class="fe-deprecate-browsers-firefox">\n      <a target="_blank" href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a></li>\n    <li class="fe-deprecate-browsers-ie">\n      <a target="_blank" href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">Internet Explorer</a></li>\n  </ul>\n</div>'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/footer/index.html','<div class="fe-footer">\n    <div ng-if="!noMain" class="row small-collapse medium-uncollapse fe-footer-panel-main">\n        <div ng-repeat="group in links" class="medium-3 column"\n            ng-class="{\'fe-is-collapsed-sm\': group.title !== expandedGroup}">\n            <h3 class="fe-footer-panel-main-title"\n                ng-click="expand(group.title)">{{group.title}}</h3>\n            <ul class="fe-footer-panel-main-list">\n                <li ng-repeat="link in group.links"\n                    ng-click="track(link.tracking)">\n                    <a class="utk-dark-link {{link.cls}}"\n                        target="{{link.target || \'_blank\'}}"\n                        ng-href="{{link.href}}"\n                        ng-click="link.onclick && link.onclick($event)"\n                        ng-if="link.href">{{link.text}}</a>\n                    <span class="fe-footer-panel-main-item {{link.cls}}"\n                        ng-bind-html="link.html"\n                        ng-if="link.html"></span>\n                </li>\n            </ul>\n        </div>\n    </div>\n\n    <div class="row fe-footer-panel-social">\n        <div class="small-12 medium-5 large-7 column fe-footer-subscription">\n            <form action="{{ constants.subscriptionUrl }}" novalidate\n                class="fe-footer-subscription-form"\n                name="feFooterForm"\n                method="post"\n                ng-submit="validate($event, feFooterForm)">\n                    <div class="fe-footer-subscription-wrapper">\n                        <input type="text" name="user_email" fe-valid-email\n                            class="utk-input"\n                            placeholder="Sign up for email notifications"\n                            autocomplete="off"\n                            ng-model="user_email"\n                            ng-required="true"\n                            ng-class="{\'utk-is-error\': feFooterForm.$invalid && feFooterForm.$submitted}">\n                    </div>\n                    <button class="utk-button-primary" type="submit">Go</button>\n            </form>\n        </div>\n\n\n\n        <div class="medium-7 large-5 column fe-footer-social-links" ng-if="!noSocial">\n            <div class="row">\n                <div class="small-12 column fe-footer-mobile-buttons">\n                    <a ng-if="itunesButton"\n                        class="{{ itunesButton.class }}"\n                        title="{{ itunesButton.title }}"\n                        ng-href="{{ itunesButton.href }}"\n                        target="{{ itunesButton.target }}"\n                        ng-click="track(itunesButton.tracking)">\n                    </a>\n\n                    <a ng-if="androidButton"\n                        class="{{ androidButton.class }}"\n                        title="{{ androidButton.title }}"\n                        ng-href="{{ androidButton.href }}"\n                        target="{{ androidButton.target }}"\n                        ng-click="track(androidButton.tracking)">\n                    </a>\n                </div>\n                <div class="small-12 column fe-social-links-container">\n                    <ul class="utk-list-inline utk-is-centered">\n                        <li ng-repeat="link in socialLinks">\n                            <a class="utk-icon-medium" ng-class="link.text ? \'utk-icon-\'+link.text : \'\'" ng-href="{{link.href}}" ng-click="track(link.tracking)" target="{{link.target || \'_blank\'}}"></a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="!noLegal" class="row fe-footer-panel-legal">\n        <div class="small-12 medium-7 column fe-footer-legal">\n            <ul class="utk-pipe-list utk-is-centered">\n                <li ng-repeat="link in legalLinks">\n                    <a class="utk-dark-link"\n                        ng-href="{{link.href}}" ng-click="track(link.tracking)" target="{{link.target || \'_blank\'}}">{{link.text}}</a>\n                </li>\n            </ul>\n        </div>\n        <div class="small-12 medium-5 column fe-footer-copyright"\n            ng-bind-html="constants.copyright"></div>\n    </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/header/index.tpl.html','<div class="utk-l-wrapper-brand utk-nav-bar fe-header">\n    <div fe-header-mobile-menu="config" class="fe-header-menu"\n        domain="{{domain}}"></div>\n\n    <a class="fe-header-logo"\n        fe-header-track="header|home"\n        ng-href="{{domain}}{{constants.homeUrl}}"\n        data-elm-id="TOP_NAV_LOGO"\n        target="_self"></a>\n\n    <div data-elm-id="searchBox" fe-search\n        fe-search-placeholder="{{searchText}}"\n        fe-search-on-request="searchCallback(params)"\n        class="fe-header-search"\n        ng-if="config.search && searchCallback"></div>\n    <div data-elm-id="searchBox" fe-search\n        fe-search-placeholder="{{searchText}}"\n        fe-search-model="searchModel"\n        class="fe-header-search"\n        ng-if="config.search && !searchCallback"></div>\n\n    <ul class="utk-list-inline utk-util-fr fe-header-nav">\n        <li class="fe-header-nav-item {{link.cls}}"\n            ng-repeat="link in links"\n            ng-init="label = link.label.call ? link.label(config) : link.label"\n            ng-if="!link.enabled || link.enabled(config)">\n            <a class="utk-button-transparent-light {{link.clsInner || \'\'}}"\n                fe-header-track="{{link.track}}"\n                target="{{link.target || \'_self\'}}"\n                data-elm-id="{{link.elmId}}"\n                ng-href="{{domain}}{{link.url}}"\n                ng-click="link.onclick && link.onclick($event)"\n                ng-if="!link.links">\n                {{label}}\n            </a>\n            <div data-utk-drop-down\n                menu-label="{{label}}"\n                is-transparent="true"\n                menu-align="right"\n                data-elm-id="{{link.elmId}}"\n                ng-if="link.links">\n                <ul class="dropdown-menu" ng-cloak>\n                    <li ng-repeat="sublink in link.links"\n                        class="{{sublink.cls}}"\n                        fe-header-track="{{sublink.track}}"\n                        ng-init="label = sublink.label.call ? sublink.label(config) : sublink.label"\n                        ng-if="(!sublink.enabled || sublink.enabled(config))"\n                        ng-class="{\'utk-dropdown-menu-divider\': !label && !sublink.html}">\n                        <a target="{{sublink.target || \'_self\'}}"\n                            data-elm-id="{{sublink.elmId}}"\n                            ng-href="{{domain}}{{sublink.url}}"\n                            ng-click="sublink.onclick && sublink.onclick($event)"\n                            ng-if="label">\n                            {{label}}\n                        </a>\n                        <p ng-bind-html="sublink.html"\n                            ng-if="sublink.html"></p>\n                    </li>\n                </ul>\n            </div>\n            <div fe-seller-dashboard-tooltip ng-blur="abc" config="config" el-id="{{link.elmId}}"></div>\n        </li>\n    </ul>\n\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/header/mobile-menu.tpl.html','<div class="fe-header-mobile-menu" ng-class="{\'fe-header-mobile-menu-is-open\': isOpen}">\n    <span class="fe-header-mobile-menu-toggle utk-icon-hamburger"\n        ng-click="toggle()"></span>\n    <div class="utk-nav-drawer">\n        <a ng-href="{{domain}}" class="fe-header-logo"></a>\n        <a class="utk-nav-drawer-close utk-button-transparent utk-button-icon-medium utk-icon-close-light"\n            ng-click="toggle()"></a>\n        <ul class="utk-nav-drawer-menu">\n            <li ng-repeat="link in links" class="{{(link.label || link.html) ? link.cls : \'utk-nav-drawer-divider\'}}"\n                ng-if="!link.enabled || link.enabled(config)">\n                <a class="{{link.clsInner}}"\n                    target="{{link.target || \'_self\'}}"\n                    fe-header-track="{{link.track}}"\n                    ng-href="{{(domain || \'\') + link.url}}"\n                    ng-click="link.onclick && link.onclick($event)"\n                    ng-if="link.label">{{link.label}}</a>\n                <p ng-bind-html="link.html"\n                    ng-if="link.html"></p>\n            </li>\n        </ul>\n    </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/live-agent/chat-callout.html','<a class="live-chat-call-out-container" data-elm-id="Chat_Callout" ng-click="triggerChat()" ng-if="!safariOverride">\n  <div class="callout-content-containers left-container">\n      <div class="callout-img"></div>\n  </div>\n  <div class="callout-content-containers right-container">\n      <h4 class="callout-desc">Chat with us</h4>\n  </div>\n</a>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/live-agent/offline.html','<div class="fe-live-agent-offline">\n    <div class="utk-l-wrapper-brand">\n        <!-- logo -->\n    </div>\n    <form name="offlineForm" novalidate\n        action="{{ url }}"\n        method="post"\n        ng-class="{\'fe-live-agent-hide\': isFinal}"\n        ng-submit="validate($event, offlineForm)">\n\n        <input type=hidden name="orgid" value="{{ constants.orgId }}">\n        <input type=hidden name="retURL" value="{{ retUrl }}">\n        <input type="hidden" name="status" value="Open" />\n        <input type="hidden" name="recordType" value="{{ constants.recordType }}" />\n        <input type="hidden" name="origin" value="Offline Wholesale Chat" />\n        <input type="hidden" id="{{ sourceUrlField }}" maxlength="255" name="{{ sourceUrlField }}" value="{{ parentUrl }}"/>\n        <input type="hidden" id="{{ browserField }}" maxlength="80" name="{{ browserField }}" value="{{ browserInfo }}"/>\n\n\n        <h2>Live Chat (Offline)</h2>\n        <p>\n            Sorry, there are no representatives currently available.\n            Email us and we will get back to you during regular business hours.\n            If applicable, please include an address or property ID.\n        </p>\n        <!-- Name -->\n        <div class="utk-form-fields-container">\n            <label class="utk-label"\n                ng-class="{\'utk-is-error\': offlineForm.name.$invalid && offlineForm.$submitted}">Full Name</label>\n            <input type="text" name="name"\n                class="utk-input utk-is-small"\n                ng-class="{\'utk-is-error\': offlineForm.name.$invalid && offlineForm.$submitted}"\n                ng-model="tmp.name"\n                ng-required="true"/>\n        </div>\n        <!-- Email  -->\n        <div class="utk-form-fields-container">\n            <label class="utk-label"\n                ng-class="{\'utk-is-error\': offlineForm.email.$invalid && offlineForm.$submitted}">Email Address</label>\n            <input type="text" name="email"\n                fe-valid-email\n                class="utk-input utk-is-small"\n                ng-class="{\'utk-is-error\': offlineForm.email.$invalid && offlineForm.$submitted}"\n                ng-model="tmp.email"\n                ng-required="true"/>\n        </div>\n        <!-- Phone -->\n        <div class="utk-form-fields-container">\n            <label class="utk-label"\n                ng-class="{\'utk-is-error\': offlineForm.tmpPhone.$invalid && offlineForm.$submitted}">Phone Number</label>\n            <input type="text" name="tmpPhone"\n                class="utk-input utk-is-small"\n                ng-class="{\'utk-is-error\': offlineForm.tmpPhone.$invalid && offlineForm.$submitted}"\n                ng-model="tmp.phone"/>\n            <input type="hidden" name="phone" ng-value="tmp.phone || \'null\'" />\n        </div>\n        <!-- Subject -->\n        <div class="utk-form-fields-container">\n            <label class="utk-label"\n                ng-class="{\'utk-is-error\': offlineForm.subject.$invalid && offlineForm.$submitted}">Your Question</label>\n            <textarea name="subject" rows="5"\n                class="utk-input utk-is-small"\n                ng-class="{\'utk-is-error\': offlineForm.subject.$invalid && offlineForm.$submitted}"\n                ng-model="tmp.subject"\n                ng-required="true"></textarea>\n        </div>\n\n        <!-- Buttons -->\n        <div class="utk-form-fields-container fe-live-agent-start-buttons">\n            <input type="submit" value="Email Us"\n                class="utk-button-primary utk-is-small"/>\n        </div>\n    </form>\n\n    <div class="fe-live-agent-confirmation" ng-if="isFinal">\n        <h2>Thank you for reaching out!</h2>\n        <p>\n            We have received your email and a representative will\n            get back to you during regular business hours.\n        </p>\n        <p>\n            Auction.com\n        </p>\n        <br/>\n        <!-- Buttons -->\n        <div class="utk-form-fields-container fe-live-agent-start-buttons">\n            <button class="utk-button-primary utk-is-small"\n                ng-click="close()">Close</button>\n        </div>\n    </div>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/live-agent/online.html','<form name="onlineForm" novalidate\n    action="{{ url }}"\n    method="post"\n    class="fe-live-agent-online"\n    ng-submit="validate($event, onlineForm)">\n\n    <div class="utk-l-wrapper-brand">\n        <!-- logo -->\n    </div>\n\n    <h2>Live Chat</h2>\n    <p>\n        Please provide your name, email, and your question to chat\n        with a customer service representative.\n    </p>\n    <!-- First Name -->\n    <div class="utk-form-fields-container">\n        <label class="utk-label"\n            ng-class="{\'utk-is-error\': onlineForm.fname.$invalid && onlineForm.$submitted}">First Name</label>\n        <input type="text" name="fname"\n            class="utk-input utk-is-small"\n            ng-class="{\'utk-is-error\': onlineForm.fname.$invalid && onlineForm.$submitted}"\n            ng-model="tmp.fname"\n            ng-required="true"/>\n    </div>\n    <!-- Last Name -->\n    <div class="utk-form-fields-container">\n        <label class="utk-label"\n            ng-class="{\'utk-is-error\': onlineForm.lname.$invalid && onlineForm.$submitted}">Last Name</label>\n        <input type="text" name="lname"\n            class="utk-input utk-is-small"\n            ng-class="{\'utk-is-error\': onlineForm.lname.$invalid && onlineForm.$submitted}"\n            ng-model="tmp.lname"\n            ng-required="true"/>\n    </div>\n    <!-- Company Name -->\n    <div class="utk-form-fields-container">\n        <label class="utk-label"\n            ng-class="{\'utk-is-error\': onlineForm.tmpCompany.$invalid && onlineForm.$submitted}">Company Name</label>\n        <input type="text" name="tmpCompany"\n            class="utk-input utk-is-small"\n            ng-class="{\'utk-is-error\': onlineForm.tmpCompany.$invalid && onlineForm.$submitted}"\n            ng-model="tmp.company" />\n        <input type="hidden" name="company" ng-value="tmp.company || \'null\'" />\n    </div>\n    <!-- Email  -->\n    <div class="utk-form-fields-container">\n        <label class="utk-label"\n            ng-class="{\'utk-is-error\': onlineForm.email.$invalid && onlineForm.$submitted}">Email Address</label>\n        <input type="text" name="email"\n            fe-valid-email\n            class="utk-input utk-is-small"\n            ng-class="{\'utk-is-error\': onlineForm.email.$invalid && onlineForm.$submitted}"\n            ng-model="tmp.email"\n            ng-required="true"/>\n    </div>\n    <!-- Subject -->\n    <div class="utk-form-fields-container">\n        <label class="utk-label"\n            ng-class="{\'utk-is-error\': onlineForm.subject.$invalid && onlineForm.$submitted}">Your Question</label>\n        <textarea name="subject" rows="5"\n            class="utk-input utk-is-small"\n            ng-class="{\'utk-is-error\': onlineForm.subject.$invalid && onlineForm.$submitted}"\n            ng-model="tmp.subject"\n            ng-required="true"></textarea>\n    </div>\n    <!-- Disclaimer -->\n    <div class="utk-form-fields-container">\n        <p class="chat-disclaimer">This live chat session will be monitored and retained</p>\n    </div>\n\n    <input type="hidden" name="liveagent.prechat:contactFirstName" value="{{tmp.fname}}"/>\n    <input type="hidden" name="liveagent.prechat:contactLastName" value="{{tmp.lname}}"/>\n    <input type="hidden" name="liveagent.prechat:contactAccountName" value="{{tmp.company || \'null\'}}"/>\n    <input type="hidden" name="liveagent.prechat:contactEmail" value="{{tmp.email}}"/>\n    <input type="hidden" name="liveagent.prechat:caseSubject" value="{{tmp.subject}}"/>\n\n    <!-- Live Agent System flags -->\n\n    <!-- Knowledge Base Search -->\n    <input type="hidden" name="liveagent.prechat.knowledgeSearch:caseSubject" value="true" />\n\n    <!-- Contact Lookup/Creation Configuration -->\n    <input type="hidden" name="liveagent.prechat.findorcreate.map:Contact" value="FirstName,contactFirstName;LastName,contactLastName;Email,contactEmail"/>\n    <input type="hidden" name="liveagent.prechat.findorcreate.map.doFind:Contact" value="Email,true"/>\n    <input type="hidden" name="liveagent.prechat.findorcreate.map.isExactMatch:Contact" value="Email,true"/>\n    <input type="hidden" name="liveagent.prechat.findorcreate.map.doCreate:Contact" value="FirstName,true;LastName,true;Email,true"/>\n    <input type="hidden" name="liveagent.prechat.findorcreate.saveToTranscript:Contact" value="ContactId"/>\n    <input type="hidden" name="liveagent.prechat.findorcreate.showOnCreate:Contact" value="true" />\n\n    <!-- Live Agent Statics -->\n    <input type="hidden" name="liveagent.prechat:caseRtId" value="{{ recordType }}" />\n    <input type="hidden" name="liveagent.prechat:caseOrigin" value="Online Wholesale Chat" />\n    <input type="hidden" name="liveagent.prechat:caseStatus" value="Open" />\n\n    <!-- Case Lookup/Creation Configuration -->\n    <input type="hidden" name="liveagent.prechat.findorcreate.map:Case" value="Origin,caseOrigin;RecordTypeId,caseRtId;Status,caseStatus;Subject,caseSubject;What_can_we_help_you_with__c,caseReason;Source_URL__c,caseSourceUrl; Browser__c,caseBrowser" />\n    <input type="hidden" name="liveagent.prechat.findorcreate.map.doCreate:Case" value="Origin,true;RecordTypeId,true;Status,true;Subject,true;Source_URL__c,true;Browser__c,true;" />\n    <input type="hidden" name="liveagent.prechat.findorcreate.saveToTranscript:Case" value="Case" />\n    <input type="hidden" name="liveagent.prechat.findorcreate.showOnCreate:Case" value="true" />\n    <input type="hidden" name="liveagent.prechat.findorcreate.linkToEntity:Contact" value="Case,ContactId" />\n    <input type="hidden" name="liveagent.prechat:caseSourceUrl" value="{{ parentUrl }}"/>\n    <input type="hidden" name="liveagent.prechat:caseBrowser" value="{{ browserInfo }}"/>\n\n\n    <!-- Buttons -->\n    <div class="utk-form-fields-container fe-live-agent-start-buttons">\n        <input type="submit" value="Start Chat"\n            class="utk-button-primary utk-is-small"/>\n    </div>\n</form>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/search/index.tpl.html','<div utk-autosuggest ng-if="suggOptions"\n    options="suggOptions"\n    results-fn="suggOptions.resultsFn"\n    listener-fn="suggOptions.listenerFn"\n    ng-model="suggestion"></div>\n\n<form action="{{constants.searchUrl}}" method="post" target="_self">\n    <input ng-repeat="(name, value) in searchParams"\n        type="hidden"\n        name="{{name}}"\n        value="{{value}}" />\n</form>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/seller-dashboard-tooltip/index.tpl.html','<h4>Seller Dashboard</h4>\n<p>You can access the\n    <a href="/commercial/dashboard/seller/"> Seller Dashboard\n    </a>\n    by clicking into your account</p>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/user/fe_create_account.tpl.html','<form name="cacForm" novalidate>\n\n    <div ng-if="accountCreationInitiated">\n        <div class="row confirm-account">\n            <h1>Check your email to confirm your account</h1>\n            <h3>Welcome to Ten-X!</h3>\n            <p>We&#39;ve sent an email verification to {{ cacField.email }}.</p>\n            <hr>\n            <h3>Need help?</h3>\n            <p>If you didn\'t receive our confirmation email or are having trouble logging in, call us at <span style="white-space:nowrap;">(888) 770-7332</span>, Mon-Fri 6am-6pm Pacific Time.</p>\n        </div>\n    </div>\n\n    <div ng-if="!accountCreationInitiated">\n        <div class="row">\n            <div class="small-12 small-centered columns ca-title">\n                <span>SIGN UP</span><div class="utk-util-clearfix colored-bands small-width"><div class="yellow-band band"></div><div class="green-band band"></div><div class="blue-band band"></div></div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="small-12 small-centered columns ca-subtitle">\n                <p><span class="subtitle">Welcome to Ten-X, the industry leader in online commercial real estate transactions. Signing up only takes a minute and is free.</span><p>\n            </div>\n        </div>\n        <div class="row form-fields-container ca-field">\n            <div class="small-12 medium-6 columns left-collapse small-collapse ca-small-stacked left-field">\n                <input type="text" class="utk-input" placeholder="First Name" tabindex="1" autofocus required\n                       ng-model="cacField.firstName" name="firstName" data-elm-id="first_name"\n                       ng-class="{\'utk-is-error\': cacForm.firstName.$invalid && formSubmitted}"\n                       maxlength="50" letters-only="letters-only">\n                <span class="utk-field-error-message utk-is-error ca-error" ng-show="formSubmitted && cacForm.firstName.$invalid">Enter a first name</span>\n            </div>\n            <div class="small-12 medium-6 columns right-collapse small-collapse ca-small-stacked right-field">\n                <input type="text" class="utk-input" placeholder="Last Name" tabindex="2" required\n                       ng-model="cacField.lastName" name="lastName" data-elm-id="last_name"\n                       ng-class="{\'utk-is-error\': formSubmitted && cacForm.lastName.$invalid}"\n                       maxlength="50" letters-only="letters-only">\n                <span class="utk-field-error-message utk-is-error ca-error" ng-show="formSubmitted && cacForm.lastName.$invalid">Enter a last name</span>\n            </div>\n        </div>\n\n        <div class="row small-collapse form-fields-container ca-field">\n            <div class="small-12 medium-12 columns">\n                <input type="email" class="utk-input" placeholder="Email" tabindex="3" required\n                       ng-model="cacField.email" name="email"  data-elm-id="email" ng-blur="isValidEmail()"\n                       ng-class="{\'utk-is-error\': cacForm.email.$invalid && formSubmitted}"\n                       maxlength="250">\n                <span class="utk-field-error-message utk-is-error ca-error" ng-show="formSubmitted && cacForm.email.$invalid">Enter a valid email address</span>\n            </div>\n        </div>\n\n        <div class="row small-collapse form-fields-container ca-field">\n            <div class="small-12 medium-12 columns">\n                <input type="password" class="utk-input" placeholder="Password" tabindex="4"\n                       ng-minlength="6" ng-maxlength="20" maxlength="20" required\n                       ng-model="cacField.password" name="password" data-elm-id="password"\n                       ng-class="{\'utk-is-error\': cacForm.password.$invalid && formSubmitted}">\n                <span class="utk-field-error-message utk-is-error ca-error" ng-show="formSubmitted && cacForm.password.$invalid">Password should be between 6 to 20 characters</span>\n            </div>\n        </div>\n\n        <div class="row small-collapse form-fields-container ca-field">\n            <div class="small-12 medium-12 columns">\n               <input class="utk-input" type="text" ng-model="cacField.phone" data-elm-id="phone_number"\n                       input-mask="?(999) 999-9999" placeholder="Business Phone (optional)"\n                       ng-change="isValidPhoneNumber()"\n                       ng-class="{\'is-error\': isInvalidPhoneNumber }">\n                <span ng-show="isInvalidPhoneNumber" class="field-error-message utk-is-error ca-error">Enter a valid phone number</span>\n            </div>\n        </div>\n\n        <div class="row small-collapse form-fields-container ca-field disclaimers email-opt-in">\n            <div class="small-12 medium-12 columns">\n                <input type="checkbox" class="utk-input-choice ca-email-opt-checkbox" name="emailOptIn" ng-model="cacField.emailOptIn" tabindex="6" data-elm-id="email_opt_in">\n                <p for="email_opt_in">I would like to receive product updates and promotions from Ten-X Commercial. <a style="white-space:nowrap;" data-placement="bottom" data-trigger="click" data-auto-close="true" utk-info-layer content-template="create-account-learn-more-info.tpl.html">Learn more</a> about how we may contact you.</p>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="small-12 small-centered medium-12 medium-centered columns disclaimers">\n                <p ng-bind-html="str_disclaimer"></p>\n            </div>\n        </div>\n\n        <div class="row small-collapse form-fields-container ca-field">\n            <div class="small-12 medium-12 columns">\n                <button class="utk-button-primary utk-is-stretch" ng-click="submit()" data-elm-id="create_account_button" tabindex="7" ng-disabled="disableSubmitButton">SIGN UP</button>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="small-12 small-centered medium-6 medium-centered columns disclaimers">\n                <p ng-bind-html="str_existing_account"></p>\n            </div>\n        </div>\n    </div>\n</form>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/user/fe_login.tpl.html','<div class="utk-form-stacked-container">\n    <form name="loginForm" ng-submit="loginSubmit()" novalidate>\n        <div class="row utk-form-fields-container login-field">\n            <input type="text" class="utk-input"\n                   placeholder="Email Address"\n                   data-elm-id="email_address"\n                   ng-class="{\'is-error\': !loginForm.email.$valid && formSubmitted}"\n                   ng-minlength="1" ng-maxlength="250"\n                   ng-model="email"\n                   name="email"\n                   fe-valid-email\n                   required />\n            <span class="field-error-message is-error login-error" ng-if="!loginForm.email.$valid && formSubmitted">Enter a valid email address</span>\n        </div>\n        <div class="row utk-form-fields-container login-field">\n            <input type="password" class="utk-input"\n                   placeholder="Password"\n                   data-elm-id="password"\n                   ng-class="{\'is-error\': !loginForm.password.$valid && formSubmitted}"\n                   ng-minlength="6" ng-maxlength="20"\n                   ng-model="password"\n                   name="password"\n                   required />\n            <span class="field-error-message is-error login-error" ng-if="!loginForm.password.$valid && formSubmitted">Enter a valid password</span>\n        </div>\n        <div class="row utk-form-fields-container login-field">\n            <button class="utk-button-primary utk-is-stretch" data-elm-id="login_button" ng-disabled="loginFormProcessing">Log In</button>\n        </div>\n        <div ng-if="errorCode == \'ERR_INVALID_GRANT\' && loginForm.password.$valid && loginForm.email.$valid" class="utk-text-error">\n            Email or password is incorrect.\n        </div>\n        <div ng-if="errorCode == \'ERR_UNACTIVATED_ACCOUNT\' && loginForm.password.$valid && loginForm.email.$valid" class="utk-text-error">\n            The account associated with email address {{email}} is pending confirmation. <a href="/commercial/user/resend-confirm-email/">Resend Confirmation Email.</a>\n        </div>\n        <div ng-if="errorCode == \'ERR_SUSPENDED_ACCOUNT\' && loginForm.password.$valid && loginForm.email.$valid" class="utk-text-error">\n            Your account has been suspended. Please contact customer support.\n        </div>\n    </form>\n</div>\n'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);angular.module('fe-shared-components').run(['$templateCache','$interpolate',function($templateCache,$interpolate){$templateCache.put('fe-shared-components/templates/user/fe_login_popup.tpl.html','<div class="fe-popup-box">\n	<div><h4>Log in to Ten-X</h4></div>\n	<div fe-login callback="callback(data)"></div>\n	<div class="fe-popup-subtext"><a href="/commercial/user/forgot-password/">Forgot Password?</a></div>\n    <div class="fe-popup-subtext"><span>or </span><a href="/commercial/signup/">Sign Up</a></div>\n</div>'.replace('{{',$interpolate.startSymbol(),'g').replace('}}',$interpolate.endSymbol(),'g'));}]);var ADC=ADC||{};ADC.utilities=ADC.utilities||{};ADC.utilities.storage=(function(undefined){var publicInterface={};var JSStorage=function(){var _store={};this.setItem=function(key,value){_store[key]=value;};this.getItem=function(key){if(typeof _store[key]!='undefined'){return _store[key];}
else{return null;}};this.removeItem=function(key){_store[key]=undefined;};};publicInterface.storageSvc=function(_window,isSession){var getStorage=function(){var result;try{var store=isSession?_window.sessionStorage:_window.localStorage;store.setItem("storage","");store.removeItem("storage");result=store;}
catch(err){result=new JSStorage();}
return result;};var _store=getStorage();return{store:function(key,value){_store.setItem(key,JSON.stringify(value));},get:function(key){return angular.fromJson(_store.getItem(key));}};};return publicInterface;})();angular.module('ADC').value('isSession',true).value('isNotSession',false).factory('sessionStore',['$window','isSession',ADC.utilities.storage.storageSvc]).factory('localStore',['$window','isNotSession',ADC.utilities.storage.storageSvc]);angular.module('ADC')
.factory('EventDispatchingSvc',function($rootScope){function EventDispatchingSvc($scope){var delisteners=[];if(!$scope){throw new Error("A EventDispatchingSvc must have $scope to function. It wasn't found.");}
this.dispatch=$rootScope.$emit.bind($rootScope);this.listen=function(){var args=Array.prototype.slice.call(arguments),deListenFunc=$rootScope.$on.apply($rootScope,args);delisteners.push(deListenFunc);return deListenFunc;};$scope.$on('$destroy',function(){delisteners.forEach(function(deListenFunc){if(_.isFunction(deListenFunc)){deListenFunc.call();}});});}
return EventDispatchingSvc;})
.factory('dispatch',function(EventDispatcher){var dispatcher=new EventDispatcher();return dispatcher.dispatch;})
.factory('EventDispatcher',function($rootScope){function EventDispatcher(){}
EventDispatcher.prototype.dispatch=function(){var args=Array.prototype.slice.call(arguments);$rootScope.$emit.apply($rootScope,args);};return EventDispatcher;});angular.module('ADC').value('modelUser',ADC.model.user).factory('userSvc',['$q','$http','$','_','modelUser',function($q,$http,$,_,modelUser){var self=this;self.isNDAAccepted=false;return{setNDAAcceptance:function(isAccepted){self.isNDAAccepted=isAccepted;},getNDAAcceptance:function(){return self.isNDAAccepted;},updateEmailPref:function(params){var deferred=$q.defer();$http({url:'/commercial/user/set-email-preference/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;},getEmailPref:function(params){var deferred=$q.defer();$http({url:'/commercial/user/get-email-preference/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;},isVaultDataPresent:function(){var mU=ADC.model.user;if(mU.address&&mU.city&&mU.country_id&&mU.state_id>=0&&mU.zip&&mU.phone&&mU.assets_owned!==0&&mU.primary_role!==0){return true;}else{return false;}},getNDAAcceptanceData:function(propertyID,gpid){var deferred=$q.defer();$http({url:'/commercial/user/nda-acceptance-info',method:'POST',data:$.param({'property_id':propertyID,'global_property_id':gpid})}).success(function(response){deferred.resolve(response);});return deferred.promise;},getProfileData:function(){var deferred=$q.defer();$http({url:'/commercial/user/account/details/',method:'POST',}).success(function(response){deferred.resolve(response);}).error(function(response){deferred.reject(response);});return deferred.promise;},updateUserProfile:function(userRegistrationObj){var deferred=$q.defer();$http({url:'/commercial/user/profile/update/',method:'POST',data:$.param(userRegistrationObj)}).success(function(response){deferred.resolve(response);});return deferred.promise;},saveSearch:function(filters){var deferred=$q.defer();$http({url:'/commercial/preferences/filters/save',method:'POST',data:$.param(filters)}).success(function(response){deferred.resolve(response);});return deferred.promise;},saveProperty:function(payload){var deferred=$q.defer();$http({url:'/commercial/preferences/property/save',method:'POST',data:$.param(payload)}).success(function(response){deferred.resolve(true);});return deferred.promise;},isPropertyAlreadySaved:function(already_saved_properties,property_id){var result=false;if(_.isArray(already_saved_properties)&&!_.isEmpty(already_saved_properties)){_.each(already_saved_properties,function(object){if(object.property_id==property_id)
result=true;});}
return result;},unSaveProperty:function(payload){var deferred=$q.defer();$http({url:'/commercial/preferences/property/delete',method:'POST',data:$.param(payload)}).success(function(response){deferred.resolve(true);});return deferred.promise;},getSavedAssetList:function(params){var deferred=$q.defer();$http({url:'/commercial/preferences/get-saved-asset-list/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;},getDashboardSavedAssetList:function(params){var deferred=$q.defer();$http({url:'/commercial/user/get-dashboard-saved-asset-list/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;},getBiddingAssetList:function(params){var deferred=$q.defer();$http({url:'/commercial/user/get-bidding-asset-list/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;},getPendingAssetCount:function(params){var deferred=$q.defer();$http({url:'/commercial/user/get-pending-registration-assets/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;},getPendingAssetList:function(params){var deferred=$q.defer();$http({url:'/commercial/user/get-pending-registration-asset-list/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;},userAcceptance:function(params){var deferred=$q.defer();$http({url:'/commercial/preferences/acceptance/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;},getAllSavedAssetList:function(params){var deferred=$q.defer();$http({url:'/commercial/preferences/get-all-saved-asset-list/',method:'POST',data:$.param(params)}).success(function(response){deferred.resolve(response);});return deferred.promise;}, isPlatinumUser:function(){return modelUser.cre_notes_vip_program_type&&modelUser.cre_notes_vip_program_type==='Platinum';},isGoldUser:function(){return modelUser.cre_notes_vip_program_type&&modelUser.cre_notes_vip_program_type==='Gold';}};}]);angular.module('ADC').value('stringsModel',ADC.model.strings).value('modelProperty',ADC.model.params).value('sellerCodes',ADC.model.seller_code_cw_list).value('configModel',ADC.config).factory('propertySvc',['$q','$http','$filter','$','_','$rootScope','stringsModel','modelProperty','configModel','sellerCodes','requestSvc',function($q,$http,$filter,$,_,$rootScope,stringsModel,modelProperty,configModel,sellerCodes,requestSvc){return{getAssetImageUrl:function(property){var image_url="//cdn.auction.com/root/img/not-available-new.jpg";if(typeof property!=='undefined'&&property.thumbnail){return property.thumbnail;}
return image_url;},getAssetImageAltText:function(property){var altText;if(property.thumbnail==="//cdn.auction.com/root/img/icon/NoImageAvailable_C.png"){altText='No image available';}else{if(property.due_diligence_required){altText='Commercial note for sale -';if(property.property_city){altText+=property.property_city;}
if(property.property_county){altText+=', '+property.property_county;}
if(property.property_state){altText+=', '+property.property_state;}}else{altText='';if(property.property_address){altText+=property.property_address;}
if(property.property_city){altText+=', '+property.property_city;}
if(property.property_county){altText+=', '+property.property_county;}
if(property.property_state){altText+=', '+property.property_state;}
if(property.property_zip){altText+=' '+property.property_zip;}}}
return altText;},getPropertyDirectionUrl:function(addressList){var result='http://maps.google.com/maps?saddr=&daddr=';for(var i=0;i<=addressList.length-1;i++){result+=addressList[i].split(' ').join('+');if((addressList.length>1)&&(i!=addressList.length-1)){result+='+to:+';}}
return result;},getEventUrl:function(auction_number,venueId,venueDate){var eventUrl='/'+configModel.base_url_prefix+'/event/details/'+auction_number;if(typeof venueId!=="undefined"){eventUrl=eventUrl+"?venueID="+venueId;}
if(typeof venueDate!=="undefined"){eventUrl=eventUrl+"&venueByDate="+venueDate;}
return eventUrl;},getSoldBoardUrl:function(auctionId,venueId){return"/soldboard.php?auctionID="+auctionId+"&venueId="+venueId;},shouldItemNumBeDisplayed:function(asset){asset.num_prop_order=typeof asset.num_prop_order!=='undefined'?asset.num_prop_order.toString():'0';asset.alpha_prop_order=typeof asset.alpha_prop_order!=='undefined'?asset.alpha_prop_order.toString():'';return(asset.num_prop_order+asset.alpha_prop_order)!=='0';},getRegistrationUrl:function(product_type,event_id,property_id){var protocol=ADC.config.env==='eng'?'http://':'https://';var event_prop_data=(arguments.length===3)?(product_type+'/'+event_id+'/'+property_id):(event_id);return protocol+window.location.host+'/'+configModel.base_url_prefix+'/registration/event/'+event_prop_data;},getBrokerRegistrationUrl:function(product_type,event_id,property_id,listing_id){var event_prop_data=product_type+'/'+event_id+'/'+property_id;if(listing_id){event_prop_data=event_prop_data+"/"+listing_id;}
return'/commercial/register/broker/'+event_prop_data;},getPreBidRegistrationUrl:function(global_property_id){var protocol=ADC.config.env==='eng'?'http://':'https://';return protocol+window.location.host+'/'+configModel.base_url_prefix+'/property/'+global_property_id+'/pre-auction-bid';},makeAddress:function(asset){var finalAddress="";var addressCondition=(asset.auction_type==='notes'&&asset.seller_code&&$.inArray(asset.seller_code,sellerCodes)>=0)||asset.property_address===stringsModel.ACTION_SEARCH_SEE_DUE_DILIGENCE;if(addressCondition){return stringsModel.ACTION_SEE_DUE_DILIGENCE;}
finalAddress+=asset.property_address?$filter('titleCase')($filter('htmlDecode')(asset.property_address))+', ':'';finalAddress+=asset.property_city?asset.property_city+', ':'';finalAddress+=asset.property_state?asset.property_state+' ':'';finalAddress+=asset.property_zip?asset.property_zip:'';return finalAddress;},makeAddressLine2:function(asset){var line2=[];if(asset.property_city){line2.push(asset.property_city);if(asset.property_state||asset.property_zip){line2[0]+=",";}}
if(asset.property_state){line2.push(asset.property_state);}
if(asset.property_zip){line2.push(asset.property_zip);}
return line2.join(" ");},checkRedemptionBadge:function(badgeName){return badgeName===stringsModel.LABEL_SUBJECT_TO_REDEMPTION;},generateFinanceUrl:function(gpid){return configModel.auction_finance_url+'/apply?property_id='+gpid;},getPDPBadgesData:function(entityData){var badges=entityData&&entityData.badges||{};var pdpBadgesData=[]; if(badges.subject_to_redemption){pdpBadgesData.push({name:stringsModel.LABEL_SUBJECT_TO_REDEMPTION,status:badges.subject_to_redemption,description:badges.subject_to_redemption,badgeImage:'subject-to-redemption',category:'warnings',isRedemption:true,overallPriority:1});}
if(badges.interior_access){pdpBadgesData.push({name:stringsModel.LABEL_INTERIOR_ACCESS,status:true,description:stringsModel.MSG_INTERIOR_ACCESS,badgeImage:'interior-access',category:'Informational',isRedemption:false,overallPriority:2});}
if(badges.do_not_disturb_occupant){pdpBadgesData.push({name:stringsModel.LABEL_DONT_DISTURB,status:badges.do_not_disturb_occupant,description:stringsModel.MSG_DONOT_DISTURB,badgeImage:'do-not-disturb',category:'warnings',isRedemption:false,overallPriority:2});}
if(badges.broker_commission_available){var brokerRegUrl="";if(modelProperty.auction_type==="commercial"){if(!modelProperty.listing){brokerRegUrl=this.getBrokerRegistrationUrl(modelProperty.auction_type,modelProperty.event_id,modelProperty.pid);}else{
 brokerRegUrl=this.getBrokerRegistrationUrl(modelProperty.auction_type,"listing",modelProperty.gpid,modelProperty.pid);}
pdpBadgesData.push({name:stringsModel.LABEL_BROKER_COOP_AVAIL,status:badges.broker_commission_available,description:stringsModel.LABEL_BROKER_COOP_AVAIL_DESC.replace('%s',brokerRegUrl),badgeImage:'broker-commission-available',category:'Informational',isRedemption:false,overallPriority:3});}else{brokerRegUrl=this.getRegistrationUrl(modelProperty.auction_type,modelProperty.event_id,modelProperty.pid);var brokerRegLink='<a href="'+brokerRegUrl+'">'+stringsModel.COMMON_REGISTER_HERE+'</a> for the co-op';pdpBadgesData.push({name:stringsModel.LABEL_BROKER_COMMISSION_AVAIL,status:badges.broker_commission_available,description:badges.broker_commission_available+' '+brokerRegLink,badgeImage:'broker-commission-available',category:'Informational',isRedemption:false,overallPriority:3});}}
if(badges.cash_only){pdpBadgesData.push({name:stringsModel.LABEL_CASH_ONLY_PURCHASE,status:badges.cash_only,description:stringsModel.MSG_CASH_ONLY,badgeImage:'cash-only',category:'Informational',isRedemption:false,overallPriority:4});}
if(badges.financing_available){pdpBadgesData.push({name:stringsModel.LABEL_FINANCING_AVAILABLE,status:badges.financing_available,description:stringsModel.FINANCING_AVAILABLE_DESC.replace('%s',this.generateFinanceUrl(entityData.gpid)),badgeImage:'financing-available',category:'Informational',isRedemption:false,overallPriority:4});}
if(badges.financing_considered){pdpBadgesData.push({name:stringsModel.LABEL_FINANCING_CONSIDERED,status:badges.financing_considered,description:stringsModel.MSG_FINANCING_CONSIDERED,badgeImage:'financing-considered',category:'Informational',isRedemption:false,overallPriority:4});}
if(badges.total_debt){pdpBadgesData.push({name:stringsModel.LABEL_TOTAL_DEBT,status:badges.total_debt,description:stringsModel.MSG_TOTAL_DEBT,badgeImage:'total-debt',category:'Informational',isRedemption:false,overallPriority:5});}
if(badges.specified_bid){pdpBadgesData.push({name:stringsModel.LABEL_VALUE_BASED_BID,status:badges.specified_bid,description:stringsModel.MSG_VALUE_BASED_BID,badgeImage:'specified-bid',category:'Informational',isRedemption:false,overallPriority:5});}
if(badges.total_debt_below_market){pdpBadgesData.push({name:stringsModel.LABEL_TOTAL_DEBT_BELOWMARKET,status:badges.total_debt_below_market,description:stringsModel.MSG_TOTAL_DEBT_BELOWMARKET,badgeImage:'total-debt-below-market',category:'Informational',isRedemption:false,overallPriority:5});}
if(badges.buyers_premium){pdpBadgesData.push({name:stringsModel.LABEL_BUYERS_PREMIUM,status:badges.buyers_premium,description:badges.buyers_premium,badgeImage:'buyers-premium',category:'Informational',isRedemption:false,overallPriority:6});}
if(badges.no_buyers_premium){pdpBadgesData.push({name:stringsModel.LABEL_NO_BUYERS_PREMIUM,status:badges.no_buyers_premium,description:stringsModel.MSG_NO_BUYER_PREMIUM,badgeImage:'no-buyers-premium',category:'Informational',isRedemption:false,overallPriority:6});}
if(badges.tenant_occupied){pdpBadgesData.push({name:stringsModel.IMG_BANNER_TENANT_OCCUPIED,status:badges.tenant_occupied,description:stringsModel.MSG_TENANT_OCCPIED,badgeImage:'tenant-occupied',category:'Informational',isRedemption:false,overallPriority:7});}
if(badges.due_diligence_certified){pdpBadgesData.push({name:stringsModel.LABEL_BID_WITH_CONFIDENCE,status:badges.due_diligence_certified,description:stringsModel.MSG_DUE_DILIGENCE,badgeImage:'due-diligence-certified',category:'Informational',isRedemption:false,overallPriority:8});}
return pdpBadgesData;},getNafDocuments:function(listing_id){return requestSvc.makeHttpServiceCall('/property/listing/'+listing_id+'/documents',{},{serializeRequest:true},'GET');},getNafNdaDocument:function(listing_id){return requestSvc.makeHttpServiceCall('/property/listing/'+listing_id+'/nda',{},{serializeRequest:true},'GET');}};}]);angular.module('ADC').value('$',window.$).value('_',window._).value('stringsModel',ADC.model.strings).value('momentObj',window.moment).value('dateUtilsSvc',ADC.dateUtil||null).factory('biddingSvc',['$q','$http','$window','$injector','$modal','$filter','$','_','stringsModel','momentObj','propertySvc','dateUtilsSvc',function($q,$http,$window,$injector,$modal,$filter,$,_,stringsModel,momentObj,propertySvc,dateUtilsSvc){var baseURLPrefix='/'+(ADC.config.base_url_prefix||'');var attemptCounter=0;return{makeBiddingServiceCall:function(url,params,serializeRequest){var deferred=$q.defer();$http({url:baseURLPrefix+url,method:'POST',data:(serializeRequest?$.param(params):params),headers:{'Content-Type':(serializeRequest?'application/x-www-form-urlencoded':'application/json')}}).success(function(response){if(typeof response.error!=='undefined'&&response.error==='404'){response.is_success=false;response.is404=true;}else{attemptCounter=0;response.is_success=true;response.is404=false; if(ADC.model.params.page_name==='property'&&response.database_server_time){dateUtilsSvc.calculateUserOffset(momentObj.utc(response.database_server_time).toDate());}}
deferred.resolve(response);}).error(function(response){if(response.status==='UnAuthorized'||response.status===403){attemptCounter++;if(attemptCounter>=3){window.location.href='/commercial/login?back=/commercial/dashboard/';}}
deferred.resolve({'is_success':false,'is404':false,'status':response.status});});return deferred.promise;}, getBidStatus:function(gpid,auction_number,augmentReserve){var postData={'auction_number':auction_number,'gpid':gpid};if(augmentReserve){postData.retrieve_reserve=true;}
return this.makeBiddingServiceCall('/bidding/status/',postData,true);}, getCrossBidStatus:function(multiAuctionList,augmentReserve){var postData={'multi_auction_property_list':JSON.stringify(multiAuctionList)};if(augmentReserve){postData.retrieve_reserve=true;}
return this.makeBiddingServiceCall('/bidding/cross-status/',postData,true);}, getPendingBidStatus:function(multiAuctionList){var postData={'multi_auction_property_list':JSON.stringify(multiAuctionList)};return this.makeBiddingServiceCall('/bidding/registrationstatus/',postData,true);},getFormattedAuctionType:function(asset){var auction_type=asset.auction_type?asset.auction_type.charAt(0).toUpperCase()+asset.auction_type.slice(1):'';return[auction_type];},getFormattedItemNumber:function(asset){return asset.item_number?asset.item_number.replace("-","-\u200B"):'';},checkPreAuction:function(auction_number,global_property_id){var postData={'auction_number':auction_number,'gpid':global_property_id};return this.makeBiddingServiceCall('/bidding/pre-auction-dates/',postData);}, isInPreAuctionTime:function(pre_auction_dates){var currentDate=new Date();var startDate=this.getFormattedTime(pre_auction_dates.start_date_time).date_obj;var endDate=this.getFormattedTime(pre_auction_dates.end_date_time).date_obj;if((currentDate-startDate)<0){return-1;}else if((currentDate-startDate>=0)&&(currentDate-endDate<=0)){return 0;}else{return 1;}},createPreBidPopup:function(idName,inputDate,popupName,registrationUrl){var scriptVar=$('script#'+idName);var templateString=scriptVar.html();var htmlString=templateString.replace('%s1',$filter('auctionDate')(inputDate,"","hh:mm A PT")).replace('%s2',$filter('auctionDate')(inputDate,"","MMMM DD, YYYY")).replace('auction_link',registrationUrl);var entity=$filter('htmlEntities')(htmlString);var decodedContent=$filter('htmlDecode')(entity);var createPreBidPopupModal=$modal({content:decodedContent,shadow:true,show:false,size:'400'});createPreBidPopupModal.$promise.then(createPreBidPopupModal.show);},performPreAuction:function(asset,pre_auction_dates){var isInTime=this.isInPreAuctionTime(pre_auction_dates);var registrationUrl='';if(isInTime===-1){registrationUrl=propertySvc.getRegistrationUrl(asset.auction_type,asset.auction_number,asset.property_id);this.createPreBidPopup('popup_pre_auction_before',pre_auction_dates.start_date_time,'pre-auctionNotStartedBid',registrationUrl);}else if(isInTime===0){$window.location.href=pre_auction_dates.presale_form_url;}else{registrationUrl=propertySvc.getRegistrationUrl(asset.auction_type,asset.auction_number,asset.property_id);this.createPreBidPopup('popup_pre_auction_ended',pre_auction_dates.end_date_time,'pre-auctionEndedBid',registrationUrl);}},preAuctionAction:function(asset){var bidSvcObj=this;bidSvcObj.checkPreAuction(asset.auction_number,asset.global_property_id).then(function(responseData){bidSvcObj.performPreAuction(asset,responseData);});},applyPulseForOne:function(pulseItem,updateItem){$(pulseItem).css({'opacity':0});if(typeof updateItem!='undefined'){$(pulseItem).css({'opacity':1});setTimeout(function(){$(pulseItem).animate({'opacity':0},750,"swing",function(){$(updateItem).removeClass('updated');});},250);}},showReserveText:function(propertyItem){var bid_item=propertyItem.userBidStatus;return!propertyItem.is_coming_soon&&bid_item.auction_status!=='Not started'&&(!this.isAuctionProxy(propertyItem)||!this.isAuctionPreSale(propertyItem))&&['Gone','Sold','Sold subject to'].indexOf(bid_item.auction_status)<0&&!propertyItem.is_trustee;},showBidHistory:function(propertyItem){var bid_item=propertyItem.userBidStatus;return!propertyItem.showSoldBoard&&!propertyItem.is_trustee&&bid_item.auction_status==='Live';},getReserveText:function(propertyItem){var bid_item=propertyItem.userBidStatus;if(bid_item.reserve_met_text_id==='RESERVE_NOT_MET'){if(bid_item.is_highest_bidder||bid_item.out_bid){return stringsModel.RESERVE_NOT_MET_BID_AGAIN;}}
return stringsModel[bid_item.reserve_met_text_id];},getFormattedTime:function(inputTime){return{'date_obj':inputTime?momentObj(inputTime).toDate():null,'formatted_date':inputTime?momentObj(inputTime).format("M/D/YYYY"):null,};},isForeclosure:function(propertyItem){return(typeof propertyItem.product_type!=="undefined"&&propertyItem.product_type.toLowerCase())==='foreclosure/trustee';},isNotForeclosure:function(propertyItem){return(typeof propertyItem.product_type!=="undefined"&&propertyItem.product_type.toLowerCase())!=='foreclosure/trustee';},isAuctionProxy:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(bid_item.auction_status==='Not started'||bid_item.auction_status==='Unknown')&&this.isRegistered(propertyItem)&&!propertyItem.pre_sale&&propertyItem.is_allow_proxy_bidding&&!propertyItem.bid_pending_confirmation;},isAuctionPreSale:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(bid_item.auction_status==='Not started'||bid_item.auction_status==='Unknown')&&propertyItem.pre_sale&&!propertyItem.bid_pending_confirmation;},isHideForPreSale:function(propertyItem){var bid_item=propertyItem.userBidStatus;return bid_item.auction_status==='Not started'&&propertyItem.pre_sale&&propertyItem.bid_pending_confirmation;},isAuctionPreSalePendingBid:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(bid_item.auction_status==='Not started'||bid_item.auction_status==='Unknown')&&propertyItem.pre_sale&&propertyItem.bid_pending_confirmation;}, showStartingBid:function(propertyItem){var bid_item=propertyItem.userBidStatus;return propertyItem.product_type_original==='FCL Marketing'||propertyItem.suppress_opening_bid||(typeof propertyItem.property_state!=='undefined'&&propertyItem.property_state.toUpperCase()==='KY'&&['commercial','notes'].indexOf(propertyItem.auction_type.toLowerCase())!==1)||(bid_item.auction_status==='Not started'||bid_item.auction_status==='Unknown');},isHideStartingBid:function(propertyItem){return typeof propertyItem.property_state!=='undefined'&&propertyItem.property_state==='KY';},showCurrentBid:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(bid_item.auction_status==='Live')&&this.isNotForeclosure(propertyItem);},showPreviouslyValuedTo:function(propertyItem){return['residential','land'].indexOf(propertyItem.auction_type.toLowerCase())>=0&&typeof propertyItem.previously_valued_to!=='undefined'&&propertyItem.previously_valued_to!==0;},showBidDeposit:function(propertyItem){ var bid_item=propertyItem.userBidStatus;return['commercial','notes','residential'].indexOf(propertyItem.auction_type.toLowerCase())>=0&&typeof propertyItem.asset_level_deposit!=='undefined'&&propertyItem.asset_level_deposit>0&&bid_item.asset_level_registration;},showWinningBid:function(propertyItem){var bid_item=propertyItem.userBidStatus;return this.isNotForeclosure(propertyItem)&&(bid_item.auction_status==='Gone'||bid_item.auction_status==='Sold'||bid_item.auction_status==='Sold subject to')&&!propertyItem.hide_current_bid;},showBidIncrement:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(bid_item.auction_status==='Live');},getNextBidAmount:function(propertyItem){var bid_item=propertyItem.userBidStatus;var nextBidAmt=bid_item.bid_count===0?bid_item.start_bid_amount:(bid_item.current_bid_amount+bid_item.bid_increment);return Math.round(nextBidAmt);},checkPropertyStatusNotLive:function(propertyItem){var bid_item=propertyItem.userBidStatus;return propertyItem.status!=='Postponed'&&propertyItem.status!=='Cancelled'&&!propertyItem.is_coming_soon&&bid_item.auction_status!=='Sold'&&bid_item.auction_status!=='Gone'&&bid_item.auction_status!=='Sold subject to';},showAuctionStartTime:function(propertyItem){var bid_item=propertyItem.userBidStatus;return this.isNotForeclosure(propertyItem)&&bid_item.auction_status==='Not started'&&this.checkPropertyStatusNotLive(propertyItem)&&!propertyItem.bid_pending_confirmation;},showTrusteeStartDate:function(propertyItem){return this.isForeclosure(propertyItem)&&this.checkPropertyStatusNotLive(propertyItem);},showForeclosureOpeningBid:function(propertyItem){return propertyItem.status!=='Cancelled'&&this.isForeclosure(propertyItem)&&propertyItem.product_type_original!=='FCL Marketing'&&!propertyItem.suppress_opening_bid;},isStartBidGreaterThanZero:function(propertyItem){return(typeof propertyItem.userBidStatus.start_bid_amount!=='undefined'&&propertyItem.userBidStatus.start_bid_amount>0);},isStartBidZero:function(propertyItem){return(typeof propertyItem.userBidStatus.start_bid_amount!=='undefined'&&propertyItem.userBidStatus.start_bid_amount===0);},isBidDepositGreaterThanZero:function(propertyItem){return(typeof propertyItem.asset_level_deposit!=='undefined'&&propertyItem.asset_level_deposit>0);},isBidDepositZero:function(propertyItem){return(typeof propertyItem.asset_level_deposit!=='undefined'&&propertyItem.asset_level_deposit===0);},isGoneOrSold:function(propertyItem){var bid_item=propertyItem.userBidStatus;return((bid_item.auction_status==='Sold')||(bid_item.auction_status==='Sold subject to')||(bid_item.auction_status==='Gone'));},isGone:function(propertyItem){return propertyItem&&propertyItem.userBidStatus&&propertyItem.userBidStatus.auction_status==='Gone';},isSold:function(propertyItem){var bid_item=propertyItem.userBidStatus;return((bid_item.auction_status==='Sold')||(bid_item.auction_status==='Sold subject to'));},isBidOutbidded:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(!this.isAuctionProxy(propertyItem)&&!this.isAuctionPreSale(propertyItem)&&bid_item.out_bid&&!this.isSold(propertyItem));},isBidHighestBidder:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(!this.isAuctionProxy(propertyItem)&&!this.isAuctionPreSale(propertyItem)&&bid_item.is_highest_bidder&&!bid_item.bid_again&&!this.isSold(propertyItem));},isBidLost:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(!this.isAuctionProxy(propertyItem)&&!this.isAuctionPreSale(propertyItem)&&bid_item.out_bid&&this.isSold(propertyItem));},isBidWon:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(!this.isAuctionProxy(propertyItem)&&!this.isAuctionPreSale(propertyItem)&&bid_item.is_highest_bidder&&this.isSold(propertyItem));},isBidAgain:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(!this.isAuctionProxy(propertyItem)&&!this.isAuctionPreSale(propertyItem)&&bid_item.is_highest_bidder&&bid_item.bid_again&&!this.isSold(propertyItem));},isAuctionLive:function(propertyItem){var bid_item=propertyItem.userBidStatus;return bid_item.auction_status==='Live'&&this.isRegistered(propertyItem)&&this.isNotForeclosure(propertyItem)&&!propertyItem.bid_pending_confirmation;},showFinishRegisterButton:function(propertyItem){return(_.contains(['commercial','notes'],propertyItem.auction_type.toLowerCase())&&this.isRegistrationIncomplete(propertyItem));},showBidNowButton:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(bid_item.auction_status==='Live'&&this.isRegistered(propertyItem)&&this.isNotForeclosure(propertyItem));},showRegisterButton:function(propertyItem){return(propertyItem.status!=='Cancelled'&&!this.isGoneOrSold(propertyItem)&&(this.isNotRegistered(propertyItem)||this.isRegistrationPaymentPending(propertyItem))&&!propertyItem.is_coming_soon&&propertyItem.product_type_original!='FCL Marketing'&&!propertyItem.bid_pending_confirmation);},showRegisteredLabel:function(propertyItem){var bid_item=propertyItem.userBidStatus; var auctionOnlineNotStartedUserRegistered=((bid_item.auction_status==='Not started')&&(this.isRegistered(propertyItem))&&this.isNotForeclosure(propertyItem)); var auctionRegisteredTrustee=(this.isRegistered(propertyItem))&&(this.isForeclosure(propertyItem));return(propertyItem.status!=='Cancelled'&&(auctionOnlineNotStartedUserRegistered||auctionRegisteredTrustee));},showRegistrationPendingLabel:function(propertyItem){var isRegStatusPending=(this.isRegistrationPending(propertyItem)||this.isRegistrationDisapproved(propertyItem)||this.isRegistrationPaymentValidationPending(propertyItem)||this.isRegistrationPaymentWirePending(propertyItem)||this.isRegistrationPaymentCheckPending(propertyItem));return(propertyItem.status!=='Cancelled'&&this.isNotForeclosure(propertyItem)&&isRegStatusPending)&&!propertyItem.bid_pending_confirmation;},showRegistrationNotApproved:function(propertyItem){return(propertyItem.status!=='Cancelled'&&this.isNotForeclosure(propertyItem)&&this.isRegistrationDisapproved(propertyItem));},showPendingFundingReceipt:function(propertyItem){var isRegStatusPendingReceipt=['commercial','notes'].indexOf(propertyItem.auction_type.toLowerCase()>=0)&&(this.isRegistrationPaymentPending(propertyItem))||this.isRegistrationPaymentValidationPending(propertyItem)||this.isRegistrationPaymentWirePending(propertyItem)||this.isRegistrationPaymentCheckPending(propertyItem);return(propertyItem.status!=='Cancelled'&&this.isNotForeclosure(propertyItem)&&isRegStatusPendingReceipt);},showPreAuctionBidButton:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(propertyItem.status!=='Cancelled'&&((bid_item.auction_status==='Not started')||(bid_item.auction_status==='Unknown'))&&this.isNotForeclosure(propertyItem)&&(this.isAuctionPreSale(propertyItem))&&!propertyItem.bid_pending_confirmation);},isHideCurrentBid:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(propertyItem.is_custom_auction&&bid_item.registration_status!==1);},showOnlineCurrentBidStartingAmount:function(propertyItem){var bid_item=propertyItem.userBidStatus; var auctionNotStartedOnline=(this.isNotForeclosure(propertyItem)&&(bid_item.auction_status==='Not started')&&!this.isHideStartingBid(propertyItem)); var auctionStartedNoBids=(this.isNotForeclosure(propertyItem)&&(bid_item.auction_status==='Live')&&(bid_item.bid_count===0)&&!(propertyItem.suppress_opening_bid)&&!this.isHideStartingBid(propertyItem));return(propertyItem.status!=='Cancelled'&&(auctionNotStartedOnline||auctionStartedNoBids));},showSellerBidDisclosure:function(propertyItem){var bid_item=propertyItem.userBidStatus;return bid_item.show_seller_disclosure&&bid_item.seller_disclosure_label.length;},showOnlineInProgressCurrentBidAmount:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(propertyItem.status!=='Cancelled'&&this.isNotForeclosure(propertyItem)&&(bid_item.auction_status==='Live')&&(bid_item.bid_count!==0)&&!this.isHideCurrentBid(propertyItem));},showOnlineEndedFinalAmount:function(propertyItem){return(propertyItem.status!=='Cancelled'&&this.isNotForeclosure(propertyItem)&&this.isGoneOrSold(propertyItem)&&!this.isHideCurrentBid(propertyItem));},showCounter:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(bid_item.auction_status==='Live');},isNotRegistered:function(propertyItem){return propertyItem.userBidStatus.registration_status===0;},isRegistered:function(propertyItem){return propertyItem.userBidStatus.registration_status===1;},isRegistrationIncomplete:function(propertyItem){return propertyItem.userBidStatus.registration_status===4;},isRegistrationPending:function(propertyItem){return propertyItem.userBidStatus.registration_status===2;},isRegistrationDisapproved:function(propertyItem){return propertyItem.userBidStatus.registration_status===3;},isRegistrationPaymentPending:function(propertyItem){return propertyItem.userBidStatus.registration_status===4;},isRegistrationPaymentValidationPending:function(propertyItem){return propertyItem.userBidStatus.registration_status===5;},isRegistrationPaymentWirePending:function(propertyItem){return propertyItem.userBidStatus.registration_status===6;},isRegistrationPaymentCheckPending:function(propertyItem){return propertyItem.userBidStatus.registration_status===7;},showTotalEstDebt:function(propertyItem){return(this.isForeclosure(propertyItem)&&(typeof propertyItem.totalEstDebt!=='undefined'&&propertyItem.totalEstDebt>0));},showOriginalPrincipal:function(propertyItem){return(this.isForeclosure(propertyItem)&&(typeof propertyItem.originalPrincipal!=='undefined'&&propertyItem.originalPrincipal>0));},showFinalJudgment:function(propertyItem){return(this.isForeclosure(propertyItem)&&(typeof propertyItem.finalJudgment!=='undefined'&&propertyItem.finalJudgment>0));},isNotStartedOrUnknown:function(propertyItem){var bid_item=propertyItem.userBidStatus;return(bid_item.auction_status==='Not started'||bid_item.auction_status==='Unknown');},};}]);angular.module('ADC').directive('inputMask',function($parse,$window,$){return{priority:100,require:'ngModel',restrict:'A',link:function(scope,element,attrs){element.mask(attrs.inputMask);}};});!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery);}(function($){var caretTimeoutId,ua=navigator.userAgent,iPhone=/iphone/i.test(ua),chrome=/chrome/i.test(ua),android=/android/i.test(ua);$.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},$.fn.extend({caret:function(begin,end){var range;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof begin?(end="number"==typeof end?end:begin,this.each(function(){this.setSelectionRange?this.setSelectionRange(begin,end):this.createTextRange&&(range=this.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select());})):(this[0].setSelectionRange?(begin=this[0].selectionStart,end=this[0].selectionEnd):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-1e5),end=begin+range.text.length),{begin:begin,end:end});},unmask:function(){return this.trigger("unmask");},mask:function(mask,settings){var input,defs,tests,partialPosition,firstNonMaskPos,lastRequiredNonMaskPos,len,oldVal;if(!mask&&this.length>0){input=$(this[0]);var fn=input.data($.mask.dataName);return fn?fn():void 0;}
return settings=$.extend({autoclear:$.mask.autoclear,placeholder:$.mask.placeholder,completed:null},settings),defs=$.mask.definitions,tests=[],partialPosition=len=mask.length,firstNonMaskPos=null,$.each(mask.split(""),function(i,c){"?"==c?(len--,partialPosition=i):defs[c]?(tests.push(new RegExp(defs[c])),null===firstNonMaskPos&&(firstNonMaskPos=tests.length-1),partialPosition>i&&(lastRequiredNonMaskPos=tests.length-1)):tests.push(null);}),this.trigger("unmask").each(function(){function tryFireCompleted(){if(settings.completed){for(var i=firstNonMaskPos;lastRequiredNonMaskPos>=i;i++)
if(tests[i]&&buffer[i]===getPlaceholder(i))return;settings.completed.call(input);}}
function getPlaceholder(i){return settings.placeholder.charAt(i<settings.placeholder.length?i:0);}
function seekNext(pos){for(;++pos<len&&!tests[pos];);return pos;}
function seekPrev(pos){for(;--pos>=0&&!tests[pos];);return pos;}
function shiftL(begin,end){var i,j;if(!(0>begin)){for(i=begin,j=seekNext(end);len>i;i++)
if(tests[i]){if(!(len>j&&tests[i].test(buffer[j])))break;buffer[i]=buffer[j],buffer[j]=getPlaceholder(j),j=seekNext(j);}
writeBuffer(),input.caret(Math.max(firstNonMaskPos,begin));}}
function shiftR(pos){var i,c,j,t;for(i=pos,c=getPlaceholder(pos);len>i;i++)
if(tests[i]){if(j=seekNext(i),t=buffer[i],buffer[i]=c,!(len>j&&tests[j].test(t)))break;c=t;}}
function androidInputEvent(){var curVal=input.val(),pos=input.caret();if(curVal.length<oldVal.length){for(checkVal(!0);pos.begin>0&&!tests[pos.begin-1];)pos.begin--;if(0===pos.begin)
for(;pos.begin<firstNonMaskPos&&!tests[pos.begin];)pos.begin++;input.caret(pos.begin,pos.begin);}else{for(checkVal(!0);pos.begin<len&&!tests[pos.begin];)pos.begin++;input.caret(pos.begin,pos.begin);}
tryFireCompleted();}
function blurEvent(){checkVal(),input.val()!=focusText&&input.change();}
function keydownEvent(e){if(!input.prop("readonly")){var pos,begin,end,k=e.which||e.keyCode;oldVal=input.val(),8===k||46===k||iPhone&&127===k?(pos=input.caret(),begin=pos.begin,end=pos.end,end-begin===0&&(begin=46!==k?seekPrev(begin):end=seekNext(begin-1),end=46===k?seekNext(end):end),clearBuffer(begin,end),shiftL(begin,end-1),e.preventDefault()):13===k?blurEvent.call(this,e):27===k&&(input.val(focusText),input.caret(0,checkVal()),e.preventDefault());}}
function keypressEvent(e){if(!input.prop("readonly")){var p,c,next,k=e.which||e.keyCode,pos=input.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||32>k)&&k&&13!==k){if(pos.end-pos.begin!==0&&(clearBuffer(pos.begin,pos.end),shiftL(pos.begin,pos.end-1)),p=seekNext(pos.begin-1),len>p&&(c=String.fromCharCode(k),tests[p].test(c))){if(shiftR(p),buffer[p]=c,writeBuffer(),next=seekNext(p),android){var proxy=function(){$.proxy($.fn.caret,input,next)();};setTimeout(proxy,0);}else input.caret(next);pos.begin<=lastRequiredNonMaskPos&&tryFireCompleted();}
e.preventDefault();}}}
function clearBuffer(start,end){var i;for(i=start;end>i&&len>i;i++)tests[i]&&(buffer[i]=getPlaceholder(i));}
function writeBuffer(){input.val(buffer.join(""));}
function checkVal(allow){var i,c,pos,test=input.val(),lastMatch=-1;for(i=0,pos=0;len>i;i++)
if(tests[i]){for(buffer[i]=getPlaceholder(i);pos++<test.length;)
if(c=test.charAt(pos-1),tests[i].test(c)){buffer[i]=c,lastMatch=i;break;}
if(pos>test.length){clearBuffer(i+1,len);break;}}else buffer[i]===test.charAt(pos)&&pos++,partialPosition>i&&(lastMatch=i);return allow?writeBuffer():partialPosition>lastMatch+1?settings.autoclear||buffer.join("")===defaultBuffer?(input.val()&&input.val(""),clearBuffer(0,len)):writeBuffer():(writeBuffer(),input.val(input.val().substring(0,lastMatch+1))),partialPosition?i:firstNonMaskPos;}
var input=$(this),buffer=$.map(mask.split(""),function(c,i){return"?"!=c?defs[c]?getPlaceholder(i):c:void 0;}),defaultBuffer=buffer.join(""),focusText=input.val();input.data($.mask.dataName,function(){return $.map(buffer,function(c,i){return tests[i]&&c!=getPlaceholder(i)?c:null;}).join("");}),input.one("unmask",function(){input.off(".mask").removeData($.mask.dataName);}).on("focus.mask",function(){if(!input.prop("readonly")){clearTimeout(caretTimeoutId);var pos;focusText=input.val(),pos=checkVal(),caretTimeoutId=setTimeout(function(){writeBuffer(),pos==mask.replace("?","").length?input.caret(0,pos):input.caret(pos);},10);}}).on("blur.mask",blurEvent).on("keydown.mask",keydownEvent).on("keypress.mask",keypressEvent).on("input.mask paste.mask",function(){input.prop("readonly")||setTimeout(function(){var pos=checkVal(!0);input.caret(pos),tryFireCompleted();},0);}),chrome&&android&&input.off("input.mask").on("input.mask",androidInputEvent),checkVal();});}});});angular.module('ADC').factory('BidHistorySvc',['$q','$http',function($q,$http,$timeout){return{setHistoryParams:function(auctionNum,gpid){this.historyParams={};this.historyParams.auction_number=auctionNum;this.historyParams.gpid=gpid;},getBidHistory:function(){var deferred=$q.defer();$http({url:'/commercial/bidding/bid-history/',method:'POST',data:$.param({'auction_number':this.historyParams.auction_number,'gpid':this.historyParams.gpid}),headers:{'Content-Type':'application/x-www-form-urlencoded'}}).success(function(response){deferred.resolve(response);});return deferred.promise;}};}]).controller('BidHistoryCtrl',['$scope','BidHistorySvc','$filter',function($scope,BidHistorySvc,$filter){$scope.bidHistory=[];$scope.hasHistory=true;BidHistorySvc.getBidHistory().then(function(data){if(data.result&&data.result.bid_history){var bid_history=data.result.bid_history;for(var i=0;i<bid_history.length;++i){var bh=bid_history[i];var newBidItem={'isYourBid':bh.current_user_bid,'amt':$filter('currencyUSD')(bh.bid_amount)};$scope.bidHistory.push(newBidItem);}}
$scope.hasHistory=$scope.bidHistory.length;});}]);(function(){'use strict';angular.module('ui.mask',[]).value('uiMaskConfig',{maskDefinitions:{'9':/\d/,'A':/[a-zA-Z]/,'*':/[a-zA-Z0-9]/},clearOnBlur:true,eventsToHandle:['input','keyup','click','focus']}).directive('uiMask',['uiMaskConfig',function(maskConfig){var isAndroid=/(android)/i.test(navigator.userAgent);if(isAndroid){var index=maskConfig.eventsToHandle.indexOf('input');maskConfig.eventsToHandle.splice(index,1);}
function isFocused(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);}
return{priority:100,require:'ngModel',restrict:'A',compile:function uiMaskCompilingFunction(){var options=maskConfig;return function uiMaskLinkingFunction(scope,iElement,iAttrs,controller){var maskProcessed=false,eventsBound=false,maskCaretMap,maskPatterns,maskPlaceholder,maskComponents, minRequiredLength,value,valueMasked,isValid, originalPlaceholder=iAttrs.placeholder,originalMaxlength=iAttrs.maxlength,oldValue,oldValueUnmasked,oldCaretPosition,oldSelectionLength;function initialize(maskAttr){if(!angular.isDefined(maskAttr)){return uninitialize();}
processRawMask(maskAttr);if(!maskProcessed){return uninitialize();}
initializeElement();bindEventListeners();return true;}
function initPlaceholder(placeholderAttr){if(!placeholderAttr){return;}
maskPlaceholder=placeholderAttr; if(maskProcessed){iElement.val(maskValue(unmaskValue(iElement.val())));}}
var modelViewValue=false;iAttrs.$observe('modelViewValue',function(val){if(val==='true'){modelViewValue=true;}});function formatter(fromModelValue){if(!maskProcessed){return fromModelValue;}
value=unmaskValue(fromModelValue||'');isValid=validateValue(value);controller.$setValidity('mask',isValid);return isValid&&value.length?maskValue(value):undefined;}
function parser(fromViewValue){if(!maskProcessed){return fromViewValue;}
value=unmaskValue(fromViewValue||'');isValid=validateValue(value);


controller.$viewValue=value.length?maskValue(value):'';controller.$setValidity('mask',isValid);if(value===''&&iAttrs.required){controller.$setValidity('required',!controller.$error.required);}
if(isValid){return modelViewValue?controller.$viewValue:value;}else{return undefined;}}
var linkOptions={};if(iAttrs.uiOptions){linkOptions=scope.$eval('['+iAttrs.uiOptions+']');if(angular.isObject(linkOptions[0])){ linkOptions=(function(original,current){for(var i in original){if(Object.prototype.hasOwnProperty.call(original,i)){if(current[i]===undefined){current[i]=angular.copy(original[i]);}else{if(angular.isObject(current[i])){angular.extend(current[i],original[i]);}}}}
return current;})(options,linkOptions[0]);}}else{linkOptions=options;}
iAttrs.$observe('uiMask',initialize);if(angular.isDefined(iAttrs.uiMaskPlaceholder)){iAttrs.$observe('uiMaskPlaceholder',initPlaceholder);}
else{iAttrs.$observe('placeholder',initPlaceholder);}
controller.$formatters.push(formatter);controller.$parsers.push(parser);function uninitialize(){maskProcessed=false;unbindEventListeners();if(angular.isDefined(originalPlaceholder)){iElement.attr('placeholder',originalPlaceholder);}else{iElement.removeAttr('placeholder');}
if(angular.isDefined(originalMaxlength)){iElement.attr('maxlength',originalMaxlength);}else{iElement.removeAttr('maxlength');}
iElement.val(controller.$modelValue);controller.$viewValue=controller.$modelValue;return false;}
function initializeElement(){value=oldValueUnmasked=unmaskValue(controller.$modelValue||'');valueMasked=oldValue=maskValue(value);isValid=validateValue(value);if(iAttrs.maxlength){ iElement.attr('maxlength',maskCaretMap[maskCaretMap.length-1]*2);}
if(!originalPlaceholder){iElement.attr('placeholder',maskPlaceholder);}
var viewValue=controller.$modelValue;var idx=controller.$formatters.length;while(idx--){viewValue=controller.$formatters[idx](viewValue);}
controller.$viewValue=viewValue||'';controller.$render();
}
function bindEventListeners(){if(eventsBound){return;}
iElement.bind('blur',blurHandler);iElement.bind('mousedown mouseup',mouseDownUpHandler);iElement.bind(linkOptions.eventsToHandle.join(' '),eventHandler);iElement.bind('paste',onPasteHandler);eventsBound=true;}
function unbindEventListeners(){if(!eventsBound){return;}
iElement.unbind('blur',blurHandler);iElement.unbind('mousedown',mouseDownUpHandler);iElement.unbind('mouseup',mouseDownUpHandler);iElement.unbind('input',eventHandler);iElement.unbind('keyup',eventHandler);iElement.unbind('click',eventHandler);iElement.unbind('focus',eventHandler);iElement.unbind('paste',onPasteHandler);eventsBound=false;}
function validateValue(value){ return value.length?value.length>=minRequiredLength:true;}
function unmaskValue(value){var valueUnmasked='',maskPatternsCopy=maskPatterns.slice(); value=value.toString();angular.forEach(maskComponents,function(component){value=value.replace(component,'');});angular.forEach(value.split(''),function(chr){if(maskPatternsCopy.length&&maskPatternsCopy[0].test(chr)){valueUnmasked+=chr;maskPatternsCopy.shift();}});return valueUnmasked;}
function maskValue(unmaskedValue){var valueMasked='',maskCaretMapCopy=maskCaretMap.slice();angular.forEach(maskPlaceholder.split(''),function(chr,i){if(unmaskedValue.length&&i===maskCaretMapCopy[0]){valueMasked+=unmaskedValue.charAt(0)||'_';unmaskedValue=unmaskedValue.substr(1);maskCaretMapCopy.shift();}
else{valueMasked+=chr;}});return valueMasked;}
function getPlaceholderChar(i){var placeholder=angular.isDefined(iAttrs.uiMaskPlaceholder)?iAttrs.uiMaskPlaceholder:iAttrs.placeholder;if(typeof placeholder!=='undefined'&&placeholder[i]){return placeholder[i];}else{return'_';}}





function getMaskComponents(){return maskPlaceholder.replace(/[_]+/g,'_').replace(/([^_]+)([a-zA-Z0-9])([^_])/g,'$1$2_$3').split('_');}
function processRawMask(mask){var characterCount=0;maskCaretMap=[];maskPatterns=[];maskPlaceholder='';if(typeof mask==='string'){minRequiredLength=0;var isOptional=false,numberOfOptionalCharacters=0,splitMask=mask.split('');angular.forEach(splitMask,function(chr,i){if(linkOptions.maskDefinitions[chr]){maskCaretMap.push(characterCount);maskPlaceholder+=getPlaceholderChar(i-numberOfOptionalCharacters);maskPatterns.push(linkOptions.maskDefinitions[chr]);characterCount++;if(!isOptional){minRequiredLength++;}}
else if(chr==='?'){isOptional=true;numberOfOptionalCharacters++;}
else{maskPlaceholder+=chr;characterCount++;}});}
maskCaretMap.push(maskCaretMap.slice().pop()+1);maskComponents=getMaskComponents();maskProcessed=maskCaretMap.length>1?true:false;}
function blurHandler(){if(linkOptions.clearOnBlur){oldCaretPosition=0;oldSelectionLength=0;if(!isValid||value.length===0){valueMasked='';iElement.val('');scope.$apply(function(){controller.$setViewValue('');});}}}
function mouseDownUpHandler(e){if(e.type==='mousedown'){iElement.bind('mouseout',mouseoutHandler);}else{iElement.unbind('mouseout',mouseoutHandler);}}
iElement.bind('mousedown mouseup',mouseDownUpHandler);function mouseoutHandler(){oldSelectionLength=getSelectionLength(this);iElement.unbind('mouseout',mouseoutHandler);}
function onPasteHandler(){setCaretPosition(this,iElement.val().length);}
function eventHandler(e){e=e||{}; var eventWhich=e.which,eventType=e.type; if(eventWhich===16||eventWhich===91){return;}
var val=iElement.val(),valOld=oldValue,valMasked,valUnmasked=unmaskValue(val),valUnmaskedOld=oldValueUnmasked,caretPos=getCaretPosition(this)||0,caretPosOld=oldCaretPosition||0,caretPosDelta=caretPos-caretPosOld,caretPosMin=maskCaretMap[0],caretPosMax=maskCaretMap[valUnmasked.length]||maskCaretMap.slice().shift(),selectionLenOld=oldSelectionLength||0,isSelected=getSelectionLength(this)>0,wasSelected=selectionLenOld>0, isAddition=(val.length>valOld.length)||(selectionLenOld&&val.length>valOld.length-selectionLenOld), isDeletion=(val.length<valOld.length)||(selectionLenOld&&val.length===valOld.length-selectionLenOld),isSelection=(eventWhich>=37&&eventWhich<=40)&&e.shiftKey, isKeyLeftArrow=eventWhich===37, isKeyBackspace=eventWhich===8||(eventType!=='keyup'&&isDeletion&&(caretPosDelta===-1)),isKeyDelete=eventWhich===46||(eventType!=='keyup'&&isDeletion&&(caretPosDelta===0)&&!wasSelected),


caretBumpBack=(isKeyLeftArrow||isKeyBackspace||eventType==='click')&&caretPos>caretPosMin;oldSelectionLength=getSelectionLength(this); if(isSelection||(isSelected&&(eventType==='click'||eventType==='keyup'))){return;}
 
if((eventType==='input')&&isDeletion&&!wasSelected&&valUnmasked===valUnmaskedOld){while(isKeyBackspace&&caretPos>caretPosMin&&!isValidCaretPosition(caretPos)){caretPos--;}
while(isKeyDelete&&caretPos<caretPosMax&&maskCaretMap.indexOf(caretPos)===-1){caretPos++;}
var charIndex=maskCaretMap.indexOf(caretPos);valUnmasked=valUnmasked.substring(0,charIndex)+valUnmasked.substring(charIndex+1);} 
valMasked=maskValue(valUnmasked);oldValue=valMasked;oldValueUnmasked=valUnmasked;iElement.val(valMasked);controller.$setViewValue(valUnmasked);

if(isAddition&&(caretPos<=caretPosMin)){caretPos=caretPosMin+1;}
if(caretBumpBack){caretPos--;} 
caretPos=caretPos>caretPosMax?caretPosMax:caretPos<caretPosMin?caretPosMin:caretPos; while(!isValidCaretPosition(caretPos)&&caretPos>caretPosMin&&caretPos<caretPosMax){caretPos+=caretBumpBack?-1:1;}
if((caretBumpBack&&caretPos<caretPosMax)||(isAddition&&!isValidCaretPosition(caretPosOld))){caretPos++;}
oldCaretPosition=caretPos;setCaretPosition(this,caretPos);}
function isValidCaretPosition(pos){return maskCaretMap.indexOf(pos)>-1;}
function getCaretPosition(input){if(!input)
return 0;if(input.selectionStart!==undefined){return input.selectionStart;}else if(document.selection){if(isFocused(iElement[0])){ input.focus();var selection=document.selection.createRange();selection.moveStart('character',input.value?-input.value.length:0);return selection.text.length;}}
return 0;}
function setCaretPosition(input,pos){if(!input)
return 0;if(input.offsetWidth===0||input.offsetHeight===0){return;}
if(input.setSelectionRange){if(isFocused(iElement[0])){input.focus();input.setSelectionRange(pos,pos);}}
else if(input.createTextRange){ var range=input.createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select();}}
function getSelectionLength(input){if(!input)
return 0;if(input.selectionStart!==undefined){return(input.selectionEnd-input.selectionStart);}
if(document.selection){return(document.selection.createRange().text.length);}
return 0;} 
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement ){if(this===null){throw new TypeError();}
var t=Object(this);var len=t.length>>>0;if(len===0){return-1;}
var n=0;if(arguments.length>1){n=Number(arguments[1]);if(n!==n){ n=0;}else if(n!==0&&n!==Infinity&&n!==-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n));}}
if(n>=len){return-1;}
var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k;}}
return-1;};}};}};}]);}());angular.module('ADC').controller('BidSubmitCtrl',['$scope','BidSubmitSvc','biddingSvc','pdpBidddingSvc','$filter',function($scope,BidSubmitSvc,biddingSvc,pdpBidddingSvc,$filter){var biddingParams=BidSubmitSvc.getBiddingParams();$scope.bidState=biddingParams.bidState;$scope.confirmState=biddingParams.confirmState;$scope.ajaxState=biddingParams.ajaxState;$scope.bidStateError=biddingParams.bidStateError;$scope.address=biddingParams.address;$scope.endTimestamp=biddingParams.endTimestamp;$scope.origBidAmount=biddingParams.bidAmount;$scope.bidAmount=biddingParams.bidAmount;$scope.bidAmountFormatted=$filter('currencyUSD')(biddingParams.bidAmount);$scope.successState=false;$scope.auctionNumber=biddingParams.auctionNumber;$scope.counterElementName='#assetBidCounter span.counter';$scope.counterName="bidPopupCounter";$scope.isProxy=biddingParams.isProxy;$scope.bidSubmitSuccessCB=biddingParams.bidSubmitSuccessCB;$scope.bidSubmitErrorCB=biddingParams.bidSubmitErrorCB;$scope.modalInstance=biddingParams.modalInstance;$scope.globalPropertyId=biddingParams.globalPropertyId;$scope.auctionId=biddingParams.auctionId;$scope.clearInput=function(){$scope.bidAmount="";};$scope.finalizeCB=function(){biddingSvc.getBidStatus($scope.globalPropertyId,$scope.auctionId).then(function(data){var serverTimestamp=moment.utc(data.database_server_time).toDate();ADC.dateUtil.calculateUserOffset(serverTimestamp);if(typeof data.bid_status!=='undefined'&&typeof data.bid_status.end_date_time!=='undefined'){var endDate=moment.utc(data.end_date_time);var newTimeSet=pdpBidddingSvc.setCounter($scope.counterName,$scope.counterElementName,$scope.endTimestamp,endDate,$scope.globalPropertyId,$scope.auctionId,$scope.finalizeCB);if(newTimeSet){$scope.endTimestamp=endDate;}}});};$scope.verifySubmit=function(){$scope.checkErrors=true;$scope.bidEnteredAmount=$scope.bidAmount;$scope.bidAmountFormatted=$filter('currencyUSD')($scope.bidAmount);if($scope.bid.$valid&&(parseInt($scope.bidEnteredAmount)>=parseInt($scope.origBidAmount))){$scope.bidState=false;$scope.confirmState=true;$scope.ajaxState=false;}else{$scope.bidState=true;$scope.confirmState=false;$scope.ajaxState=false;$scope.bidStateError=true;$scope.bidStateErrorBelowMinBid=true;}};$scope.bidConfirm=function(){$scope.modalInstance.hideCloseButton();$scope.bidState=false;$scope.confirmState=false;$scope.ajaxState=true;$scope.checkErrors=true;if($scope.bid.$valid){var amount=$scope.bidAmount;if($scope.isProxy){BidSubmitSvc.submitProxyBid(amount).then(function(data){$scope.modalInstance.showCloseButton();if(data){if(data.error){$scope.bidError(data.error.message);if($scope.bidSubmitErrorCB){$scope.bidSubmitErrorCB();}}else{$scope.ajaxState=false; $scope.successState=true;if(data.submit_proxy_bid){if(ADC.dateUtil.counterInstances.bidPopupCounter){ADC.dateUtil.counterInstances.bidPopupCounter.destroy();}
BidSubmitSvc.doSuccessCB();}
BidSubmitSvc.trackBid('proxy',amount);}}}, function(data){$scope.modalInstance.showCloseButton();if(data.message&&data.message!='undefined'&&data.message.error&&data.message.error[0]&&data.message.error[0][2]){ var res=data.message.error[0][2].split(',');$scope.bidError(res[0]);}
BidSubmitSvc.doErrorCB();});}else{BidSubmitSvc.submitBid(amount).then(function(data){$scope.modalInstance.showCloseButton();if(data){if(data.error){$scope.bidError(data.error.message);if($scope.bidSubmitErrorCB){$scope.bidSubmitErrorCB();}}else{if(ADC.dateUtil.counterInstances.bidPopupCounter){ADC.dateUtil.counterInstances.bidPopupCounter.destroy();} 
$scope.modalInstance.hide();BidSubmitSvc.forceBidUpdate();BidSubmitSvc.doSuccessCB();BidSubmitSvc.trackBid('normal',amount);}}},'skip');}}};$scope.bidError=function(errorMsg){$scope.modalInstance.showCloseButton();if(!$scope.isProxy){if(typeof ADC.dateUtil.counterInstances[$scope.counterName]!=='undefined'){ADC.dateUtil.counterInstances[$scope.counterName].destroy();}
pdpBidddingSvc.setCounter($scope.counterName,$scope.counterElementName,null,$scope.endTimestamp,$scope.globalPropertyId,$scope.auctionNumber,$scope.finalizeCB);}
$scope.bidState=true;$scope.confirmState=false;$scope.ajaxState=false;$scope.bidStateError=true;$scope.bidStateErrorAPI=true;$scope.bidStateErrorAPIMsg=errorMsg;};$scope.bidCancel=function(){if(ADC.dateUtil.counterInstances.bidPopupCounter){ADC.dateUtil.counterInstances.bidPopupCounter.destroy();}
$scope.modalInstance.hide();};}]).factory('BidSubmitSvc',['$q','$http','$modal','propertySvc',function($q,$http,$modal,propertySvc){return{biddingParamsModel:{},getBiddingParams:function(){return this.biddingParamsModel;},setupAndCreateBidPopUp:function(propertyItem,auction_id,event_id,page_name,updateCB,modalInstance){if(propertyItem){var params={};params.globalPropertyId=propertyItem.global_property_id;params.propertyType=propertyItem.property_type;params.auctionType=propertyItem.auction_type;params.reserveMetFlag=propertyItem.userBidStatus.reserve_met_text_id;params.auctionEndTime=moment.utc(propertyItem.userBidStatus.end_date_time);params.bidIncr=propertyItem.userBidStatus.bid_increment;params.auctionId=auction_id;params.address=propertySvc.makeAddress(propertyItem);params.endTimestamp=propertyItem.end_timestamp;params.auctionNumber=event_id;params.ajaxState=false;params.bidStateError=false; params.bidState=false;params.confirmState=true; if(propertyItem.isProxy){params.bidAmount=propertyItem.nextBidAmt.length===0?propertyItem.userBidStatus.start_bid_amount:propertyItem.nextBidAmt;}else{params.bidAmount=propertyItem.nextBidAmt;}
params.isProxy=propertyItem.isProxy;params.forceBidUpdate=propertyItem.isProxy?false:true;params.updateCB=updateCB;params.productType=propertyItem.auction_type;params.propertyType=propertyItem.property_type;params.updateCB=typeof updateCB!=='undefined'?updateCB:"";params.bidSubmitSuccessCB="";params.bidSubmitErrorCB="";params.pageName=page_name;params.modalInstance=modalInstance;if(!(/[e|E|\-|\+|\.]+/.test(params.bidAmount.toString()))){this.biddingParamsModel=params;this.biddingParamsModel.isProxy=(params.isProxy!=='undefined'&&params.isProxy?params.isProxy:false);modalInstance.show();}}},doSuccessCB:function(){if(this.biddingParamsModel.bidSubmitSuccessCB){this.biddingParamsModel.bidSubmitSuccessCB();}},doErrorCB:function(){if(this.biddingParamsModel.bidSubmitErrorCB){this.biddingParamsModel.bidSubmitErrorCB();}},trackBid:function(bidType,amount){if(this.biddingParamsModel){this.biddingParamsModel.bidType=bidType;this.biddingParamsModel.bidAmt=amount;ADC.analytics.track_bid(this.biddingParamsModel);}},forceBidUpdate:function(){if(this.biddingParamsModel.forceBidUpdate){this.biddingParamsModel.updateCB();}},doFinalizeCB:function(){var deferred=$q.defer();var headerFormat={'Content-Type':'application/json'};$http({url:'/commercial/bidding/status/',method:'POST',data:$.param({'auction_number':this.biddingParamsModel.auctionId,'gpid':this.biddingParamsModel.globalPropertyId}),headers:headerFormat,}).success(function(response){deferred.resolve(response);});return deferred.promise;},submitProxyBid:function(amount){var deferred=$q.defer();var headerFormat={'Content-Type':'application/json'};$http({url:'/commercial/bidding/proxy-bid/',method:'POST',data:$.param({'auction_id':this.biddingParamsModel.auctionId,'auction_number':this.biddingParamsModel.auctionNumber,'gpid':this.biddingParamsModel.globalPropertyId,'amount':amount}),headers:headerFormat,}).success(function(response){deferred.resolve(response);}).error(function(response){deferred.reject(response);});return deferred.promise;},submitBid:function(amount){var deferred=$q.defer();var headerFormat={'Content-Type':'application/json'};$http({url:'/commercial/bidding/bid/',method:'POST',data:$.param({'auction_id':this.biddingParamsModel.auctionId,'auction_number':this.biddingParamsModel.auctionNumber,'gpid':this.biddingParamsModel.globalPropertyId,'amount':amount,'page_name':this.biddingParamsModel.pageName}),headers:headerFormat,}).success(function(response){deferred.resolve(response);}).error(function(response){deferred.reject(response);});return deferred.promise;}};}]);angular.module('ADC').directive('parsedynamichtml',['$compile','$filter',function($compile,$filter){return{restrict:'A',replace:true,link:function(scope,ele,attrs){scope.$watch(attrs.parsedynamichtml,function(html){var entity=$filter('htmlEntities')(html);var decodedContent=$filter('htmlDecode')(entity);ele.html(decodedContent);});}};}]).directive('dashboardModalDialog',['$compile',function($compile){return{restrict:'E',replace:true,scope:{dialogtitle:'=',dialogmessage:'=',},link:function(scope,ele,attrs){var template="<div class='dialogTitle'>"+scope.dialogtitle+"</div>"+"<p class='dialogText'>"+scope.dialogmessage+"</p>";ele.html(template);}};}]);angular.module('ADC').provider('$infoLayer',function(){var defaults=this.defaults={container:'parent',placement:'right',align:'center',template:'template/infolayer',contentTemplate:false,trigger:'focus',closeOnBlur:false,content:'',markerSpace:5,keyboard:false, autoClose:false
};this.$get=function($window,$rootScope,$compile,$q,$templateCache,$http,$timeout){var trim=String.prototype.trim;var $body=angular.element($window.document);function InfoLayerFactory(element,config){var $infolayer={};var elmTagType=element[0].nodeName.toLowerCase();var options=$infolayer.$options=angular.extend({},defaults,config);$infolayer.$promise=fetchTemplate(options.template);var scope=$infolayer.$scope=options.scope&&options.scope.$new()||$rootScope.$new(); if(options.content){scope.content=options.content;} 
scope.$hide=function(){scope.$$postDigest(function(){$infolayer.hide();});};scope.$show=function(){scope.$$postDigest(function(){$infolayer.show();});};scope.$toggle=function(){scope.$$postDigest(function(){$infolayer.toggle();});}; $infolayer.$isShown=scope.$isShown=false; if(options.contentTemplate){$infolayer.$promise=$infolayer.$promise.then(function(template){var templateEl=angular.element(template);return fetchTemplate(options.contentTemplate).then(function(contentTemplate){var contentEl=findElement('[ng-bind="content"]',templateEl[0]);if(!contentEl.length){contentEl=findElement('[ng-bind="title"]',templateEl[0]);}
contentEl.removeAttr('ng-bind').html(contentTemplate);return templateEl[0].outerHTML;});});} 
var tipLinker,tipElement,tipTemplate,tipContainer,tipScope;$infolayer.$promise.then(function(template){if(angular.isObject(template)){template=template.data;}
template=trim.apply(template);tipTemplate=template;tipLinker=$compile(template);$infolayer.init();});$infolayer.init=function(){ if(options.container==='parent'){tipContainer=element.parent();}else if(angular.isElement(options.container)){tipContainer=options.container;}else if(options.container){tipContainer=findElement(options.container);} 
bindTriggerEvents(); if(options.target){options.target=angular.isElement(options.target)?options.target:findElement(options.target);}};$infolayer.destroy=function(){unbindTriggerEvents(); destroyTipElement(); scope.$destroy();};$infolayer.show=function(){if($infolayer.$isShown){return;} 
if(tipElement){destroyTipElement();} 
tipScope=$infolayer.$scope.$new();tipElement=$infolayer.$element=tipLinker(tipScope,function(){});
tipElement.css({top:'-9999px',left:'-9999px',display:'block',visibility:'hidden'});tipContainer.append(tipElement);$infolayer.$isShown=scope.$isShown=true;safeDigest(scope);$infolayer.$applyPlacement(); if(tipElement){tipElement.css({visibility:'visible'});}
if(options.keyboard){if(options.trigger!=='focus'){$infolayer.focus();}
bindKeyboardEvents();}
if(options.autoClose){bindAutoCloseEvents();}};$infolayer.hide=function(blur){if(!$infolayer.$isShown){return;}
$infolayer.$isShown=scope.$isShown=false;safeDigest(scope);if(options.keyboard&&tipElement!==null){unbindKeyboardEvents();}
if(options.autoClose&&tipElement!==null){unbindAutoCloseEvents();}
destroyTipElement();if(blur&&options.trigger==='focus'){return element[0].blur();}};$infolayer.toggle=function(){$infolayer.$isShown?$infolayer.hide():$infolayer.show();};$infolayer.focus=function(){tipElement[0].focus();}; $infolayer.$applyPlacement=function(){if(!tipElement){return;}
var placement=options.placement,arrowBorder,arrow;arrowBorder=findElmByClass(tipElement.children(),'info-layer-arrow-border');arrow=findElmByClass(tipElement.children(),'info-layer-arrow');arrowBorder.removeClass('info-layer-arrow-border');arrowBorder.addClass('info-layer-arrow-'+placement+'-border');arrow.removeClass('info-layer-arrow');arrow.addClass('info-layer-arrow-'+placement);
var elementPosition=getPosition(),tipWidth=tipElement.prop('offsetWidth'),tipHeight=tipElement.prop('offsetHeight'),arrWidth=arrow?arrow.prop('offsetWidth'):0,arrHeight=arrow?arrow.prop('offsetHeight'):0;var arrowTop;if(options.align==='top'){arrowTop=elementPosition.top-(18/2);}else{arrowTop=(tipHeight/2)-(arrHeight/2);arrow.css({top:arrowTop+'px'});arrowBorder.css({top:arrowTop+'px'});}
var tipPosition=getCalculatedOffset(placement,elementPosition,tipWidth,tipHeight,arrWidth,arrHeight,options.markerSpace);applyPlacementCss(tipPosition.top,tipPosition.left);};$infolayer.$onKeyUp=function(evt){if(evt.which===27&&$infolayer.$isShown){$infolayer.hide();evt.stopPropagation();}};$infolayer.$onFocusKeyUp=function(evt){if(evt.which===27){element[0].blur();evt.stopPropagation();}};$infolayer.$onFocusElementMouseDown=function(evt){evt.preventDefault();evt.stopPropagation();$infolayer.$isShown?element[0].blur():element[0].focus();}; function bindTriggerEvents(){var triggers=options.trigger.split(' ');angular.forEach(triggers,function(trigger){if(trigger==='click'){if(options.closeOnBlur){element.on('click',$infolayer.show);element.on('mouseleave',$infolayer.hide);}else{element.on('click',$infolayer.toggle);}}else{element.on(trigger==='hover'?'mouseenter':'focus',$infolayer.show);element.on(trigger==='hover'?'mouseleave':'blur',$infolayer.hide);elmTagType==='button'&&trigger!=='hover'&&element.on('mousedown',$infolayer.$onFocusElementMouseDown);}});}
function unbindTriggerEvents(){var triggers=options.trigger.split(' ');for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger==='click'){if(options.closeOnBlur){element.off('click',$infolayer.show);element.off('mouseleave',$infolayer.hide);}else{element.off('click',$infolayer.toggle);}}else if(trigger!=='manual'){element.off(trigger==='hover'?'mouseenter':'focus',$infolayer.show);element.off(trigger==='hover'?'mouseleave':'blur',$infolayer.hide);elmTagType==='button'&&trigger!=='hover'&&element.off('mousedown',$infolayer.$onFocusElementMouseDown);}}}
function bindKeyboardEvents(){if(options.trigger!=='focus'){tipElement.on('keyup',$infolayer.$onKeyUp);}else{element.on('keyup',$infolayer.$onFocusKeyUp);}}
function unbindKeyboardEvents(){if(options.trigger!=='focus'){tipElement.off('keyup',$infolayer.$onKeyUp);}else{element.off('keyup',$infolayer.$onFocusKeyUp);}}
var _autoCloseEventsBinded=false;function bindAutoCloseEvents(){$timeout(function(){tipElement.on('click',stopEventPropagation);$body.on('click',$infolayer.hide);_autoCloseEventsBinded=true;},0,false);}
function unbindAutoCloseEvents(){if(_autoCloseEventsBinded){tipElement.off('click',stopEventPropagation);$body.off('click',$infolayer.hide);_autoCloseEventsBinded=false;}}
function stopEventPropagation(evt){evt.stopPropagation();} 
function getPosition($element){$element=$element||(options.target||element);var el=$element[0];var elRect=cloneIHTMLRect(el.getBoundingClientRect());if(elRect.width===null){ elRect=angular.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top});}
var elPos;if(options.container==='body'){elPos=getOffset(el);}else{elPos=calcPosition(el);}
return angular.extend({},elRect,elPos);}
var getProperty=function(element,prop,extra){var value;if(element.currentStyle){ value=element.currentStyle[prop];}else if(window.getComputedStyle){value=window.getComputedStyle(element)[prop];}else{value=element.style[prop];}
return extra===true?parseFloat(value)||0:value;}; function cloneIHTMLRect(obj){var newObj={};for(var p in obj){newObj[p]=obj[p];}
return newObj;}
function getOffset(element){var boxRect=element.getBoundingClientRect();var docElement=element.ownerDocument;return{width:boxRect.width||element.offsetWidth,height:boxRect.height||element.offsetHeight,top:boxRect.top+(window.pageYOffset||docElement.documentElement.scrollTop)-(docElement.documentElement.clientTop||0),left:boxRect.left+(window.pageXOffset||docElement.documentElement.scrollLeft)-(docElement.documentElement.clientLeft||0)};}
function calcPosition(element){var offsetParentRect={top:0,left:0},offsetParentElement,offset; if(getProperty(element,'position')==='fixed'){ offset=element.getBoundingClientRect();}else{ offsetParentElement=offsetParent(element); offset=getOffset(element);if(!tagName(offsetParentElement,'html')){offsetParentRect=getOffset(offsetParentElement);} 
offsetParentRect.top+=getProperty(offsetParentElement,'borderTopWidth',true);offsetParentRect.left+=getProperty(offsetParentElement,'borderLeftWidth',true);} 
return{width:element.offsetWidth,height:element.offsetHeight,top:offset.top-offsetParentRect.top-getProperty(element,'marginTop',true),left:offset.left-offsetParentRect.left-getProperty(element,'marginLeft',true)};}
var findElmByClass=function(elms,className){for(var i=elms.length-1;i>=0;i--){var elm=angular.element(elms[i]);if(elm.hasClass(className)){return elm;}}};var tagName=function(element,name){return element.nodeName&&element.nodeName.toLowerCase()===name.toLowerCase();};var offsetParent=function(element){var docElement=element.ownerDocument;var offsetParent=element.offsetParent||docElement;if(tagName(offsetParent,'#document')){return docElement.documentElement;}
while(offsetParent&&!tagName(offsetParent,'html')&&getProperty(offsetParent,'position')==='static'){offsetParent=offsetParent.offsetParent;}
return offsetParent||docElement.documentElement;};function getCalculatedOffset(placement,position,actualWidth,actualHeight,markerWidth,markerHeight,markerSpace){var offset;switch(placement){case'right':offset={left:position.left+position.width+markerWidth+markerSpace};if(options.align=='top'){offset.top=position.top-18-markerHeight/2+position.height/2;}else{offset.top=position.top+position.height/2-actualHeight/2;}
break;case'bottom':offset={top:position.top+position.height,left:position.left+position.width/2-actualWidth/2};break;case'left':offset={left:position.left-actualWidth-markerWidth-markerSpace};if(options.align=='top'){offset.top=position.top-18-markerHeight/2+position.height/2;}else{offset.top=position.top+position.height/2-actualHeight/2;}
break;default:offset={top:position.top-actualHeight,left:position.left+position.width/2-actualWidth/2};break;}
return offset;}
function applyPlacementCss(top,left){tipElement.css({top:top+'px',left:left+'px'});}
function destroyTipElement(){if($infolayer.$isShown&&tipElement!==null){if(options.autoClose){unbindAutoCloseEvents();}
if(options.keyboard){unbindKeyboardEvents();}}
if(tipScope){tipScope.$destroy();tipScope=null;}
if(tipElement){tipElement.remove();tipElement=$infolayer.$element=null;}}
return $infolayer;} 
function safeDigest(scope){scope.$$phase||(scope.$root&&scope.$root.$$phase)||scope.$digest();}
function findElement(query,element){return angular.element((element||document).querySelectorAll(query));}
var fetchPromises={};function fetchTemplate(template){if(fetchPromises[template]){return fetchPromises[template];}
return(fetchPromises[template]=$q.when($templateCache.get(template)||$http.get(template)).then(function(res){if(angular.isObject(res)){$templateCache.put(template,res.data);return res.data;}
return res;}));}
return InfoLayerFactory;};}).directive('infoLayer',function($infoLayer){return{restrict:'A',scope:true,link:function postLink(scope,element,attr){ var options={scope:scope};angular.forEach(['contentTemplate','placement','trigger','content','align','closeOnBlur','autoClose','container'],function(key){if(angular.isDefined(attr[key])){options[key]=attr[key];}}); scope.infolayer=$infoLayer(element,options); scope.$on('$destroy',function(){if(scope.infolayer){scope.infolayer.destroy();}
options=null;infolayer=null;});}};});angular.module('ADC').provider('$modal',function(){var defaults=this.defaults={prefixClass:'popup',prefixEvent:'modal',placement:'center',mobplacement:'none',template:'defaultModalTemplate',title:false,showCloseButton:true,contentTemplate:false,backdrop:true,backdropClick:true,shadow:true,keyboard:true,html:false,show:true,size:'auto',content:false,onCloseFunc:false,};this.$get=['$window','$rootScope','$compile','$q','$templateCache','$http','$sce',function($window,$rootScope,$compile,$q,$templateCache,$http,$sce){var forEach=angular.forEach;var trim=String.prototype.trim;var bodyElement=angular.element($window.document.body);var htmlReplaceRegExp=/ng-bind="/ig;var is_mobile=$(".mobileDeviceOnly").css("display")==="block"?true:false;function ModalFactory(config){var $modal={};var options=$modal.$options=angular.extend({},defaults,config);$modal.$promise=fetchTemplate(options.template);var scope=$modal.$scope=options.scope&&options.scope.$new()||$rootScope.$new();if(!options.element&&!options.container){options.container='body';} 
forEach(['title','content'],function(key){if(options[key])scope[key]=$sce.trustAsHtml(options[key]);}); scope.$hide=function(){scope.$$postDigest(function(){$modal.hide();});};scope.$show=function(){scope.$$postDigest(function(){$modal.show();});};scope.$toggle=function(){scope.$$postDigest(function(){$modal.toggle();});}; 
if(options.contentTemplate){$modal.$promise=$modal.$promise.then(function(template){var templateEl=angular.element(template);return fetchTemplate(options.contentTemplate).then(function(contentTemplate){var contentEl=findElement('[ng-bind="content"]',templateEl[0]).removeAttr('ng-bind').html(contentTemplate); if(!config.template)contentEl.next().remove();return templateEl[0].outerHTML;});});}
var modalLinker,modalElement;var backdropElement=angular.element('<div class="'+options.prefixClass+'Screen"/>');var shadowElement=angular.element('<div class="'+options.prefixClass+'Shadow"/>');var containerElement=angular.element('<div class="'+options.prefixClass+'"/>');var titleElement,closeElement;if(options.title){titleElement=angular.element('<div class="'+options.prefixClass+'"Title">'+options.title+'</div>');}
if(options.showCloseButton){closeElement=angular.element('<a class="button iconOnly closeButton transparent"></a>');}
$modal.$promise.then(function(template){if(angular.isObject(template))template=template.data;if(options.html)template=template.replace(htmlReplaceRegExp,'ng-bind-html="');template=trim.apply(template);modalLinker=$compile(template);$modal.init();});$modal.init=function(){ if(options.show){scope.$$postDigest(function(){$modal.show();});}};$modal.destroy=function(){ if(modalElement){modalElement.remove();modalElement=null;}
if(backdropElement){backdropElement.remove();backdropElement=null;}
if(shadowElement){shadowElement.remove();shadowElement=null;}
if(containerElement){containerElement.remove();containerElement=null;}
if(titleElement){titleElement.remove();titleElement=null;}
if(closeElement){closeElement.remove();closeElement=null;} 
scope.$destroy();};$modal.showCloseButton=function(){if(closeElement){closeElement.show();}};$modal.hideCloseButton=function(){if(closeElement){closeElement.hide();}};$modal.show=function(){ modalElement=$modal.$element=modalLinker(scope,function(clonedElement,scope){});
modalElement.css({display:'block',width:options.size}).addClass(options.placement);if(options.backdrop){backdropElement.css({left:'0px',top:'0px',display:'block'});bodyElement.append(backdropElement);}
if(options.shadow){bodyElement.append(shadowElement);}
if(options.title){containerElement.append(titleElement);}
containerElement.append(modalElement);if(options.showCloseButton){containerElement.append(closeElement);}
if(options.content){findElement('.defaultContent',containerElement[0]).html(options.content);}
bodyElement.append(containerElement);scope.$emit(options.prefixEvent+'.show',$modal);scope.$isShown=true;scope.$$phase||(scope.$root&&scope.$root.$$phase)||scope.$digest();scope.closeDialog=function(){$modal.hide();};scope.centerDialog=function(){centerModal();};
 var el=modalElement[0];$window.setTimeout(function(){if('focus'in el)el.focus();}); if(options.backdrop&&options.backdropClick){modalElement.on('click',hideOnBackdropClick);backdropElement.on('click',hideOnBackdropClick);}
if(options.backdrop&&!options.backdropClick){modalElement.on('click',hideOnBackdropClick);}
if(options.keyboard){modalElement.on('keyup',$modal.$onKeyUp);}
if(options.showCloseButton){closeElement.on('click',$modal.hide);}
var _window=$($window);if($(".desktopDeviceOnly").css("display")==="block"){_window.bind('scroll',function(){centerModal();});}
_window.bind('resize',centerModal);centerModal();var placeholderInputs=$('input[placeholder], textarea[placeholder]');if(placeholderInputs.placeholderEnhanced){placeholderInputs.placeholderEnhanced();}
$(document.body).css({overflow:'hidden'});if(is_mobile){options.prev_position=options.prev_width='';options.prev_position=$(document.body).css('position');options.prev_width=$(document.body).css('width');options.scroll_pos=window.pageYOffset||document.documentElement.scrollTop;$(document.body).css({position:'fixed',width:'100%'});window.scrollTo(0,1);centerModal();m_reorient();m_formscroll();}};$modal.hide=function(){if(options.backdrop){backdropElement.remove();}
if(options.shadow){shadowElement.remove();}
if(options.showCloseButton){closeElement.remove();}
if(options.title){titleElement.remove();}
containerElement.remove();modalElement.remove();scope.$emit(options.prefixEvent+'.hide',$modal);scope.$isShown=false;scope.$$phase||(scope.$root&&scope.$root.$$phase)||scope.$digest(); if(options.backdrop&&options.backdropClick){modalElement.off('click',hideOnBackdropClick);backdropElement.off('click',hideOnBackdropClick);}
if(options.backdrop&&!options.backdropClick){modalElement.off('click',hideOnBackdropClick);}
if(options.keyboard){modalElement.off('keyup',$modal.$onKeyUp);}
if(options.showCloseButton){closeElement.off('click',$modal.hide);}
var _window=$($window);_window.unbind('resize',centerModal);_window.unbind('scroll',centerModal);if(options.onCloseFunc!=='undefined'&&typeof options.onCloseFunc==='function'){options.onCloseFunc();}
$(document.body).css({overflow:'auto'});if(is_mobile){document.documentElement.scrollTop=document.body.scrollTop=options.scroll_pos;$(document.body).css({position:options.prev_position,width:options.prev_width});}};$modal.toggle=function(){scope.$isShown?$modal.hide():$modal.show();};$modal.focus=function(){modalElement[0].focus();};$modal.center=function(){centerModal();}; $modal.$onKeyUp=function(evt){evt.which===27&&$modal.hide();}; function hideOnBackdropClick(evt){if(evt.target!==evt.currentTarget)return;options.backdrop==='static'?$modal.focus():$modal.hide();}
function centerModal(){var scrollX,scrollY,viewWidth,viewHeight,formHeight,popupHeight,popupWidth,posLeft,posTop;var _window=$($window);scrollX=_window.scrollLeft();scrollY=_window.scrollTop();viewWidth=_window.width();viewHeight=_window.height();popupHeight=containerElement[0].offsetHeight;popupWidth=containerElement[0].offsetWidth;posLeft=(scrollX+(viewWidth/2)-(popupWidth/2));posTop=(scrollY+(viewHeight/2)-(popupHeight/2));if(is_mobile&&(options.mobplacement==='top')){posTop=0;}
containerElement.css({left:posLeft+'px',top:posTop+'px'});if(is_mobile&&(options.mobplacement==='top')){var D=document;var view_height=Math.max(D.body.offsetHeight,D.documentElement.offsetHeight,D.body.scrollHeight,D.documentElement.scrollHeight,D.body.clientHeight,D.documentElement.clientHeight);view_height=view_height+5;containerElement.css({height:view_height+'px'});}
if(options.shadow){containerElement.css({'border':"0px solid none"});shadowElement.css({left:(posLeft-7)+"px",top:(posTop-7)+"px"});shadowElement.css({height:popupHeight+"px",width:popupWidth+"px"});}
if(!options.shadow){containerElement.css({'border':'4px solid #BABCBE','border-radius':'4px 4px 4px 4px'});}
if(options.backdrop){if(is_mobile){var D=document;view_height=Math.max(D.body.offsetHeight,D.documentElement.offsetHeight,D.body.scrollHeight,D.documentElement.scrollHeight,D.body.clientHeight,D.documentElement.clientHeight);view_width=Math.max(D.body.offsetWidth,D.documentElement.offsetWidth,D.body.scrollWidth,D.documentElement.scrollWidth,D.body.clientWidth,D.documentElement.clientWidth);backdropElement.css({left:"0px",top:"0px",width:view_width+"px",height:view_height+"px"});}else{backdropElement.css({left:scrollX+"px",top:scrollY+"px"});}}}
function m_reorient(){if(is_mobile){var CanOrient="onorientationchange"in window,DeviceOrient=CanOrient?"orientationchange":"resize";window.addEventListener(DeviceOrient,function(){m_dismiss_keyboard();centerModal();},false);}}
function m_formscroll(){$("."+options.prefixClass).bind('touchmove',function(e){m_dismiss_keyboard();});}
function m_dismiss_keyboard(){document.activeElement.blur();$("input").blur();}
return $modal;} 
function findElement(query,element){return angular.element((element||document).querySelectorAll(query));}
function fetchTemplate(template){return $q.when($templateCache.get(template)||$http.get(template)).then(function(res){if(angular.isObject(res)){$templateCache.put(template,res.data);return res.data;}
return res;});}
return ModalFactory;}];}).directive('modal',function($window,$location,$sce,$modal){return{restrict:'EAC',scope:true,link:function postLink(scope,element,attr,transclusion){ var options={scope:scope,element:element,show:false};angular.forEach(['template','contentTemplate','placement','backdrop','keyboard','html','container'],function(key){if(angular.isDefined(attr[key]))options[key]=attr[key];}); angular.forEach(['title','content'],function(key){attr[key]&&attr.$observe(key,function(newValue,oldValue){scope[key]=$sce.trustAsHtml(newValue);});}); attr.bsModal&&scope.$watch(attr.bsModal,function(newValue,oldValue){if(angular.isObject(newValue)){angular.extend(scope,newValue);}else{scope.content=newValue;}},true); var modal=$modal(options); element.on(attr.trigger||'click',modal.toggle); scope.$on('$destroy',function(){modal.destroy();options=null;modal=null;});}};});angular.module('ADC').directive('partialContentLightbox',['$compile','feUserSvc',function($compile,feUserSvc){var getTemplate=function(baseTemplate,overlayTemplate){var content='<div class="overlay-image"><div ng-include="\''+baseTemplate+'\'"></div></div><div class="overlay-mask"></div><div class="overlay-body"><div ng-include="\''+overlayTemplate+'\'"></div>';return content;};var toggleOverlayVisibilty=function(element,ifOverlayExits){if(!ifOverlayExits){element.find('.overlay-mask').addClass('add-overlay');element.find('.overlay-body').addClass('add-overlay-body');}else{element.find('.overlay-mask').removeClass('add-overlay');element.find('.overlay-body').removeClass('add-overlay-body');}};return{restrict:'EA',scope:{overlayExists:"=",baseTemplate:"=",overlayTemplate:"=",overlayClick:'&'},link:function(scope,element,attr){scope.userSvc=feUserSvc;var template=getTemplate(attr.baseTemplate,attr.overlayTemplate);var container=angular.element(template);element.html(container);$compile(element.contents())(scope);toggleOverlayVisibilty(element,scope.overlayExists);scope.continuesave=function(){scope.overlayClick();};scope.$watch('overlayExists',function(val){toggleOverlayVisibilty(element,scope.overlayExists);});}};}]);angular.module('adcWindowLocation',[])
angular.module('adcWindowLocation').factory('windowLocation',['$window',function($window){return{open:function(url,event){if(event&&event.metaKey){$window.open(url,'_blank')}else{$window.location.href=url;}}};}]);ADC=ADC||{};angular.module('adcCustomEvent',['ADC','ui-toolkit','fe-shared-components','adcWindowLocation']).value('_',window._);angular.module('adcCustomEvent').value('ADC',window.ADC).controller('customEventAuthenticateFormCtrl',['$scope','$http','stringsModel',function($scope,$http,stringsModel){var ctrl=this;ctrl.password="";ctrl.errorMessage="";ctrl.formSubmitted=false;var validate=function(){return['',undefined,null].indexOf(ctrl.password)<0?null:stringsModel.ERR_FM_REQUIRED_FIELD;};ctrl.submit=function(){ctrl.errorMessage=validate();if(ctrl.errorMessage){return false;}
ctrl.formSubmitted=true;var url='/commercial/property/authenticate/'+$scope.event_id;ctrl.loginFormProcessing=true;$http({url:url,method:'POST',data:$.param({password:ctrl.password}),headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(function(response){var data;if('data'in response){data=response.data}
if(data&&'meta'in data&&'result'in data.meta){if(data.meta.result!=='error'){if(typeof ADC.model.user.password_protected_auction==='undefined'){ADC.model.user.password_protected_auction=[];}
ADC.model.user.password_protected_auction.push($scope.event_id);$scope.successHandler();}else{ctrl.errorMessage=data.meta.error;}}else{ctrl.errorMessage=stringsModel.ERR_CRITICAL;}}).catch(function(response){var data;if('data'in response){data=response.data}
if(data&&'meta'in data&&'result'in data.meta&&data.meta.result==='error'){ctrl.errorMessage=data.meta.error;}else{ctrl.errorMessage=stringsModel.ERR_CRITICAL;}
ctrl.loginFormProcessing=false;});};}]).directive('customEventAuthentication',['$window','$q','$rootScope','$timeout','$http','lightbox','feLoginPopup','windowLocation',function($window,$q,$rootScope,$timeout,$http,lightbox,feLoginPopup,windowLocation){var checkLogin=function(afterLoginCallback,event,property){var deferred=$q.defer();if(!ADC.model.user.logged_in){feLoginPopup.open().then(function(responseData){if(!_.isEmpty(responseData)){$rootScope.ifUserLoggedIn=true;ADC.model.user=responseData;ADC.model.user.logged_in=true;$rootScope.$broadcast('PDPlogin');$timeout(function(){if(afterLoginCallback){afterLoginCallback(event,property);}
deferred.resolve();});}else{deferred.reject();}});}else{deferred.resolve()}
return deferred.promise;};return{restrict:'A',template:'<a ng-click="customEventAuthenticate($event)" ng-transclude></a>',transclude:true,replace:true,scope:{event_id:'=?event_id',event_url:'=?event_url',property:'=?property',successCallback:'&success',analyticsCallback:'&analytics',afterLoginCallback:'&afterLogin'},link:function(scope,element,attrs){var loginLb,afterLoginCallback; scope.event_id=scope.event_id||scope.property.auction_number;scope.event_url=scope.event_url||scope.property.pdp_url; scope.successHandler=function(){if(loginLb){loginLb.close();}
if(attrs.success){scope.successCallback()(scope.event,scope.property);}else{windowLocation.open(scope.event_url,scope.event);}};if(attrs.afterLogin){afterLoginCallback=scope.afterLoginCallback();}
scope.customEventAuthenticate=function(event){if(attrs.analytics){scope.analyticsCallback()(event,scope.property);}
event.preventDefault();scope.event=event;if(scope.property&&scope.property.is_custom_auction){checkLogin(afterLoginCallback,event,scope.property).then(function(){if(typeof ADC.model.user.password_protected_auction==='undefined'){ADC.model.user.password_protected_auction=[];}
if($.inArray(scope.event_id,ADC.model.user.password_protected_auction)>-1){scope.successHandler();}else{loginLb=lightbox({title:'',parentScope:scope,templateContent:'template/custom_event/authentication_popup.html'});loginLb.open();}});}else{scope.successHandler();}};}};}]);ADC=ADC||{};ADC.state={};var propertyDetailModule=angular.module('adcPropertyDetailPage',['ADC','ui-toolkit','ngSanitize','angularTreeview','fe-shared-components','adcCustomEvent']);propertyDetailModule.value('_',window._).value('$',window.$).value('modelUser',ADC.model.user).value('searchModel',ADC.model.search).value('modelRegStatus',ADC.model.reg_status).value('stringsModel',ADC.model.strings).value('modelProperty',ADC.model.property).value('modelGeoData',ADC.model.geo_data).value('modelUserLookup',ADC.model.user_lookup).value('seoLinker',ADC.model.seolinker).constant('pdpContantAgents',{PROPERTY_LEVEL:'PROPERTY LEVEL',AUCTION_LEVEL:'AUCTION LEVEL'}).run(function($window,userSvc,modelUser){ if(modelUser.logged_in){userSvc.getProfileData().then(function(){},function(userProfileResponse){if(userProfileResponse.status&&userProfileResponse.status==='UnAuthorized'){$window.location.reload();}});}}).controller('ctrlInternalLinkingWidget',function($scope,seoLinker){$scope.allSeoLinkerResults=seoLinker;$scope.baseUrl=window.location.origin;});var properDetailPrintModule=angular.module('adcPropertyDetailPrintPage',['ADC']);properDetailPrintModule.value('$',window.$).value('_',window._).value('modelProperty',ADC.model.property);(function(angular){'use strict';angular.module('angularTreeview',[]).directive('treeModel',['$compile',function($compile){return{restrict:'A',link:function(scope,element,attrs){ var treeId=attrs.treeId; var treeModel=attrs.treeModel; var nodeId=attrs.nodeId||'id'; var fileSize=attrs.fileSize||'file_size'; var restrictedFolder=attrs.restrictedFolder||'restrictedFolder'; var restrictedFolderIcon=attrs.restrictedFolderIcon||'restrictedFolderIcon'; var nodeLabel=attrs.nodeLabel||'label'; var originalLabel=attrs.originalLabel||'originalLabel'; var nodeChildren=attrs.nodeChildren||'children';var isSfFile=attrs.isSfFile||'isSfFile'; var template='<ul class="media-obj docs-list">'+'<li data-ng-repeat="node in '+treeModel+'"'+' data-ng-class="{ \'docs-list-container\' : node.'+nodeChildren+'.length,'+' \'docs-list-file\' : !node.'+nodeChildren+'.length,'+' \'docs-list-container--open\' : node.'+nodeChildren+'.length && !node.collapsed,'+' \'docs-list-container--closed\' : node.'+nodeChildren+'.length && node.collapsed}">'+'<input type="checkbox" name="dueDiliCheckbox" data-elm-id="due-dili-chkbox" class="dueDiliCheckbox" value="{[{node.'+nodeId+'}]}, {[{node.'+fileSize+'}]}"  data-ng-click="'+treeId+'.selectNodeCheckBox(node)" />'+'<i class="{[{node.'+restrictedFolderIcon+'}]}" data-ng-show="node.'+nodeChildren+'.length && node.collapsed" data-ng-click="'+treeId+'.selectNodeHead(node)"></i>'+'<i class="expanded" data-ng-show="node.'+nodeChildren+'.length && !node.collapsed" data-ng-click="'+treeId+'.selectNodeHead(node)"></i>'+'<i class="normal" data-ng-hide="node.'+nodeChildren+'.length || (node.'+isSfFile+')"></i>'+'<i class="normalsf" data-ng-hide="node.'+nodeChildren+'.length || !node.'+isSfFile+'"></i>'+'<span class = "{[{node.'+restrictedFolder+'}]}" data-ng-class="node.selected" data-ng-click="'+treeId+'.selectNodeLabel(node)" title="{[{node.originalLabel}]}" >{[{node.'+nodeLabel+'}]}</span>'+'<div data-ng-hide="node.collapsed" data-tree-id="'+treeId+'" data-tree-model="node.'+nodeChildren+'" data-node-id='+nodeId+' data-node-label='+nodeLabel+' data-node-children='+nodeChildren+'></div>'+'</li>'+'</ul>'; if(treeId&&treeModel){ if(attrs.angularTreeview){ scope[treeId]=scope[treeId]||{};scope[treeId].selectNodeCheckBox=scope[treeId].selectNodeCheckBox||function(selectedNode){if(selectedNode.label==='Due Diligence Documents'&&selectedNode.requires_additional_authentication){$('input[name="dueDiliCheckbox"]').prop('checked',false);}

var curChkBox=$('input[value="'+selectedNode.id+', '+(selectedNode.file_size||"")+'"]');scope[treeId].recursiveSelectChildNodes(selectedNode,curChkBox.prop('checked'));};scope[treeId].recursiveSelectChildNodes=scope[treeId].recursiveSelectChildNodes||function(selectedNode,checkboxValue){for(var childId in selectedNode.children){var dueDiliCheckbox=$('input[value="'+selectedNode.children[childId].id+', '+(selectedNode.children[childId].file_size||"")+'"]');dueDiliCheckbox.prop('checked',checkboxValue);if(selectedNode.children[childId].children){scope[treeId].recursiveSelectChildNodes(selectedNode.children[childId],checkboxValue);}}};scope[treeId].selectNodeHead=scope[treeId].selectNodeHead||function(selectedNode){ if(typeof selectedNode.requires_additional_authentication!=='undefined'&&selectedNode.requires_additional_authentication){scope.dualLayerModal.$promise.then(scope.dualLayerModal.show);}else{selectedNode.collapsed=!selectedNode.collapsed;}};scope[treeId].selectNodeLabel=scope[treeId].selectNodeLabel||function(selectedNode){var idPrefix=selectedNode.id.toString().substring(0,3);if(typeof selectedNode.id!=='undefined'&&!(idPrefix==='BOX'||idPrefix==='SCM')){scope[treeId].selectNodeHead(selectedNode);}else{scope._filePreview(selectedNode.id,selectedNode.label,idPrefix);} 
if(scope[treeId].currentNode&&scope[treeId].currentNode.selected){scope[treeId].currentNode.selected=undefined;}
 
scope[treeId].currentNode=selectedNode;};}
element.html('').append($compile(template)(scope));}}};}]);})(angular);angular.module('ADC').directive('campdata',['$compile',function($compile){return function(scope,element,attrs){scope.$watch(function(scope){return scope.$eval(attrs.campdata);},function(value){element.html(value);$compile(element.contents())(scope);});};}]);angular.module('adcPropertyDetailPage').value('modelProperty',ADC.model.property).value('modelUser',ADC.model.user).controller('PropertyDetailCtrl',['$scope','$window','userSvc','modelProperty','modelUser','$modal','$rootScope','$http','pdpPropertySvc','feUserSvc','feLoginPopup',function($scope,$window,userSvc,modelProperty,modelUser,$modal,$rootScope,$http,pdpPropertySvc,feUserSvc,feLoginPopup){$scope.onCurrentTab=false;$scope.ifUserLoggedIn=modelUser.logged_in;$scope.unlockVault=false;$scope.ndaAcceptanceData="";$scope.isResiProperty=false;$scope.vaultProfileUpdated=false;$scope.propertyAuctionType=modelProperty.auction_type;$scope.myOtherModal=$modal({scope:$scope,template:'agentContact-template',show:false,size:"500px"});$scope.ndaModal=$modal({scope:$scope,template:'ndaTemplate',show:false,size:"600px"});$scope.accessCodeModal=$modal({scope:$scope,template:'accessCodeTemplate',show:false,size:"600px"});$scope.OpenWidgetModal=$modal({scope:$scope,template:'feedbackFormLong-template',show:false,size:"700px"});$scope.openAgentContactPopup=function(name,email,emailHash){$scope.commercialAgent={'agentName':name,'agentEmail':email,'emailHash':emailHash};$scope.myOtherModal.$promise.then($scope.myOtherModal.show);ADC.analytics.property.contact_agent();};$scope.openHouseWigetPopup=function(){$scope.OpenWidgetModal.$promise.then($scope.OpenWidgetModal.show);};$scope.openTrusteePopup=function(url){mypage=url;w='657';h='420';myname='Loading';win=null;winl=(screen.width-w)/2;wint=(screen.height-h)/2;settings='height='+h+',width='+w+',top='+wint+',left='+winl+',scrollbars=no,toolbar=no';window.open(mypage,myname,settings);};$scope.disclaimerModal=$modal({scope:$scope,template:'disclaimerTemplate',show:false,size:"600px"});$scope.displayDisclaimer=function(file){var selectedFile=file.split(',');modelProperty.selectedDocUrl=selectedFile[0];modelProperty.selectedDocTitle=selectedFile[1];modelProperty.justLogIn=false;if(modelUser.logged_in){$scope.createDisclaimerPopup();ADC.analytics.property.document_download(selectedFile[1]);}else{ADC.xhr.checkLogin(function(){modelProperty.justLogIn=true;$scope.createDisclaimerPopup();});}};$scope.createDisclaimerPopup=function(){if(modelProperty.pid===modelProperty.accepted_nda){url=modelProperty.selectedDocUrl;if(url){fileId=url.split('?file=');var apiUrl='/commercial/document/download/file/'+fileId[1];$window.location.href=apiUrl;}}else{$scope.disclaimerModal.$promise.then($scope.disclaimerModal.show);}};$scope.downloadPlatMap=function(url){if(url&&modelProperty.product_type==='foreclosure/trustee'){fileId=url.split('?file=');var apiUrl='/commercial/document/download/file/'+fileId[1];$window.location.href=apiUrl;ADC.analytics.property.document_download(fileId);}else{$window.open(url);ADC.analytics.property.document_download(url);}};$scope.ndaModal=$modal({scope:$scope,template:'ndaTemplate',show:false,size:"600px"});$scope.accessCodeModal=$modal({scope:$scope,template:'accessCodeTemplate',show:false,size:"600px"});$scope.ifUserLoggedIn=modelUser.logged_in;$scope.unlockVault=false;$scope.ndaAcceptanceData="";$scope.isResiProperty=false;$scope.accessCodeAccepted=false;$scope.compileNDAAcceptanceData=function(){userSvc.getNDAAcceptanceData(modelProperty.pid,modelProperty.gpid).then(function(response){$scope.ndaAcceptanceData=response.result;if($scope.ndaAcceptanceData){$scope.isNDAAccepted=$scope.ndaAcceptanceData.is_accepted;$scope.NDAAcceptedDate=$scope.ndaAcceptanceData.accepted_date;$scope.isProfileDataCaptured=userSvc.isVaultDataPresent();$scope.checkDDEmailSubscription();if($scope.isProfileDataCaptured&&$scope.isNDAAccepted){$scope.unlockVault=true;$scope.reloadCAMPData();}
if(modelProperty.due_diligence.requires_access_code){popup_type="accessCode";if(!$scope.accessCodeAccepted){$scope.accessCodeModal.$promise.then($scope.accessCodeModal.show);}}}});};$scope.checkUserProfileandNDAStatus=function(){if(!$scope.onCurrentTab){$scope.ifUserLoggedIn=modelUser.logged_in;if($scope.propertyAuctionType==='residential'){$scope.isResiProperty=true;$scope.unlockVault=true;$scope.isProfileDataCaptured=true;userSvc.getNDAAcceptanceData(modelProperty.pid,modelProperty.gpid).then(function(response){$scope.isNDAAccepted=$scope.ndaAcceptanceData.is_accepted;if($scope.ifUserLoggedIn){if(!$scope.isNDAAccepted){$scope.createNdaPopup();}else{$scope.access_code='';if(modelProperty.access_code){$scope.access_code=modelProperty.access_code;$scope._get_property($scope.access_code);}else{$scope._get_property('');}}}});}else{if($scope.ifUserLoggedIn){$scope.access_code='';if(modelProperty.access_code){$scope.access_code=modelProperty.access_code;$scope._get_property($scope.access_code);}else{$scope._get_property('');}}
$scope.onCurrentTab=true;$scope.ifNDADocsExist=modelProperty.nda_docs;$scope.compileNDAAcceptanceData();}} 
else{if(modelProperty.due_diligence.requires_access_code){popup_type="accessCode";if(!$scope.accessCodeAccepted){$scope.accessCodeModal.$promise.then($scope.accessCodeModal.show);}}
if(!$.isEmptyObject(ADC.model.camp_pdp)){var is_mobile=$(".mobileDeviceOnly").css("display")==="block"?true:false;if(is_mobile&&!$('.camp_document_driver').length){location.reload();}}}};$scope.checkDDEmailSubscription=function(){var prefParams={gpid:modelProperty.gpid,auctionId:modelProperty.aid};userSvc.getEmailPref(prefParams).then(function(response){if(response.result&&response.result.user_asset_preference){$scope.ddUpdateNotificationEnabled=Boolean(response.result.user_asset_preference[0].preference_value);}});};$scope.setDDEmailPref=function(enableDDNotification){var prefParams={auctionId:modelProperty.aid,gpid:modelProperty.gpid,enable:enableDDNotification,prefId:'1',prefType:'Vault_DD_update'};userSvc.updateEmailPref(prefParams).then(function(response){});};$scope.reloadCAMPData=function(){if(!$.isEmptyObject(ADC.model.camp_pdp)){var is_mobile=$(".mobileDeviceOnly").css("display")==="block"?true:false;$rootScope.$broadcast('showCAMP',{'gpid':modelProperty.gpid,'event_id':modelProperty.event_id});if(is_mobile&&(typeof modelProperty.due_diligence.requires_access_code=="undefined"||(!modelProperty.due_diligence.requires_access_code&&$scope.accessCodeAccepted))&&(!$('.camp_document_driver').length)){location.reload();}}} 
$scope.$on('ndaAccepted',function(event,args){$scope.unlockVault=true;if($scope.propertyAuctionType==='residential'){$scope.isProfileDataCaptured=true;$scope.isNDAAccepted=userSvc.getNDAAcceptance();if(modelProperty.due_diligence){$rootScope.$broadcast('dueDiligenceClicked');}}else{$scope.ddUpdateNotificationEnabled=true;$scope.setDDEmailPref(true);$scope.compileNDAAcceptanceData();}
$scope.reloadCAMPData();$scope.ndaModal.hide();}); $scope.$on('showCAMP',function(event,args){if($(".camp_shown").length==0){$(".due-diligence-docs-precamp").hide();$(".camp-docs-loaded").hide();$(".due-diligence-camp-loading").show();$http.get('/commercial/property/campdata/'+args.gpid+'/'+args.event_id).then(function(response){$scope.campHTML=response.data;ADC.init.register(ADC.tab.initializeAll);}).finally(function(){$(".due-diligence-camp-loading").hide();})["catch"](function(response){console.error('CAMP DATA ERROR: ',response.status,response.data);});}});$scope.getCampDocs=function(){if($(".due-diligence-docs-precamp").length){$(".due-diligence-docs-precamp").prependTo($(".due-dilligence-doc-camp-container"));$(".due-diligence-docs-precamp").show();$(".camp-docs-loaded").hide();}
if($(".camp-docs-loaded").length){$(".camp-docs-loaded").prependTo($(".due-dilligence-doc-camp-container"));$(".camp-docs-loaded").show();$(".camp-docs-static").hide();}}
$scope.displayNDA=function(){$scope.ifUserLoggedIn=ADC.model.user.logged_in;if($scope.propertyAuctionType==='residential'){if($scope.ifUserLoggedIn){$scope.isNDAAccepted=userSvc.getNDAAcceptance();$scope.isResiProperty=true;$scope.isProfileDataCaptured=true;$scope.unlockVault=true;if(!$scope.isNDAAccepted){$scope.createNdaPopup();}}else{$scope.unlockVault=true;ADC.xhr.checkLogin(function(){$rootScope.$broadcast('PDPlogin');$scope.checkUserProfileandNDAStatus();});}}else{if($scope.ifUserLoggedIn){$scope.checkUserProfileandNDAStatus();}}}; $scope.$on('accessCodeSubmitted',function(event,args){$scope.accessCodeAccepted=true;$scope.accessCodeModal.hide();$scope._get_property(args);if(ADC.model.property.due_diligence){$rootScope.$broadcast('dueDiligenceClicked');}
if($scope.ifUserLoggedIn){$scope.checkUserProfileandNDAStatus();}});$scope.createNdaPopup=function(){var popup_type='';due_diligence=modelProperty.due_diligence;if(due_diligence.requires_access_code){popup_type="accessCode";if(!$scope.accessCodeAccepted){$scope.accessCodeModal.$promise.then($scope.accessCodeModal.show);}}else{$scope.ndaModal.$promise.then($scope.ndaModal.show);}};$scope.trackPdf=function(e){var file=angular.element(e.target).text();ADC.analytics.property.document_download(file);};$scope.displayVaultModal=function(){var userData=feUserSvc.details;if(!_.isEmpty(userData)){$scope.createNdaPopup();}else{feLoginPopup.open().then(function(responseData){if(!_.isEmpty(responseData)){$scope.ifUserLoggedIn=true;ADC.model.user=responseData;ADC.model.user.logged_in=true;modelUser.logged_in=true;$scope.ifUserLoggedIn=true;$rootScope.$broadcast('PDPlogin');$scope.checkUserProfileandNDAStatus();}});}};$scope.pdp_camp_seemore=function(e){var pdp_camp_b=$(e.target).parent();var pdp_camp_b_sh=pdp_camp_b.parent().find(".campText");if(pdp_camp_b_sh.attr("campSeeMore")){pdp_camp_b_sh.find(".richText").html(pdp_camp_b_sh.attr("campSeeMore"));pdp_camp_b.hide();}
return false;}; $scope.$on('transient_message_vault_info_update',function(event,args){$scope.isProfileDataCaptured=true;if($scope.propertyAuctionType==='residential'){$scope.unlockVault=true;}else{$scope.vaultProfileUpdated=true;if($scope.isNDAAccepted){$scope.unlockVault=true;$scope.ndaModal.hide();if($scope.isProfileDataCaptured&&$scope.isNDAAccepted){$scope.reloadCAMPData();}}}});$scope._get_property=function(accessCode){var params={};params.id=modelProperty.gpid;if(accessCode!==''){params.access_code=accessCode;}
pdpPropertySvc.getPropertyData(params).then(function(data){if(data.js_data&&data.js_data.due_diligence){ADC.model.property.due_diligence=data.js_data.due_diligence;$rootScope.$broadcast('dueDiligenceClicked');}});};}]);propertyDetailModule.controller('propertyCtrl',['$scope','$rootScope','$element','$filter','$timeout','$','_','modelProperty',function($scope,$rootScope,$element,$filter,$timeout,$,_,modelProperty){$scope.checkRegistrationLogin=function(){ADC.xhr.checkLogin(function(){location.reload();});};$scope.viewTrusteeVideo=function(){var thisVideoElem=angular.element(event.currentTarget),thisVideoURL=$(thisVideoElem).attr("data-video-url"),videoWidth="657",videoHeight="420",myname="Loading",win=null;winl=(screen.width-w)/2,wint=(screen.height-h)/2,settings='height='+h+',width='+w+',top='+wint+',left='+winl+',scrollbars=no,toolbar=no';win=window.open(thisVideoURL,myname,settings);if(parseInt(navigator.appVersion)>=4){win.window.focus();}};}]);propertyDetailModule.controller('PropertyPreviewFileCtrl',['$scope',function($scope){$scope.downloadAllFiles=function(){if(($scope.downloadAllID!=='')){var apiUrl='/commercial/document/download/all/'+$scope.downloadAllID;window.open(apiUrl,'_blank');}};}]);propertyDetailModule.controller('SideBarMiscIconsCtrl',['$scope','$rootScope','$window','userSvc','modelProperty','modelUser','lightbox','feUserSvc','feLoginPopup',function($scope,$rootScope,$window,userSvc,modelProperty,modelUser,lightbox,feUserSvc,feLoginPopup){$scope.showSave=false;$scope.showSaved=false; if(modelProperty.is_saved){$scope.showSaved=true;}else{$scope.showSave=true;}
$scope.printUrl="/commercial/property-print?itemID="+modelProperty.gpid+"&auctionID="+modelProperty.event_id;$scope.showMaps=modelProperty.product_type!=='foreclosure/trustee'&&modelProperty.is_full_address; $scope.saveProperty=function(){var params={'global_property_id':modelProperty.gpid,'auction_id':modelProperty.aid,'property_id':modelProperty.pid};userSvc.saveProperty(params).then(function(data){if(data){ $scope.property_status=ADC.string.MSG_PROPERTY_SAVED;$scope.show_property_link=false;$scope.showSave=false;$scope.showSaved=true;$rootScope.$broadcast('savedprop');$rootScope.$broadcast('changeSavePropertyList');ADC.analytics.savePropertyEvent(modelProperty.gpid,modelProperty.auction_type,modelProperty.property_type);}});};$scope.unSaveProperty=function(){var params={'property_id':modelProperty.gpid};userSvc.unSaveProperty(params).then(function(response){if(response){$scope.showSave=true;$scope.showSaved=false;$rootScope.$broadcast('unsaveprop');$rootScope.$broadcast('changeSavePropertyList');}});};$scope.saveToDashboard=function(){var userData=feUserSvc.details;if(!_.isEmpty(userData)){$scope.saveProperty();}else{feLoginPopup.open().then(function(responseData){if(!_.isEmpty(responseData)){ADC.model.user=responseData;ADC.model.user.logged_in=true;$scope.saveProperty();$rootScope.$broadcast('PDPlogin');}});}};$scope.getDirections=function(){var addresses=[];addresses.push(modelProperty.full_property_address);var url=ADC.url.direction(addresses);$window.open(url);};$scope.$on('assetSaved',function(event){$scope.showSaved=true;$scope.showSave=false;});}]);propertyDetailModule.controller('SideBarChatCtrl',['$scope','$window','feSnapEngageSvc',function($scope,$window,feSnapEngageSvc){var sidebarObj=this;sidebarObj.startChat=function(){feSnapEngageSvc.startLink();};}]);propertyDetailModule.controller('SideBarShareCtrl',['$scope','$window',function($scope,$window){$scope.addressUrl=ADC.model.property.pdp_url;$scope.addressText=ADC.model.property.full_property_address.replace(/#/g,'').replace(/&/g,' ').replace(/`/,' ');$scope.eventIdText=ADC.model.property.event_id.replace(/#/g,'').replace(/&/g,' ').replace(/`/,' ');$scope.pdp_url=ADC.model.property.pdp_url;$scope.clickFacebook=function(){var urlStr="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent($scope.pdp_url);window.open(urlStr,"facebook","height=300,width=550,resizable=1");}
$scope.clickTwitter=function(){var urlStr="https://twitter.com/intent/tweet?text="+$scope.addressText+"- (Event: "+$scope.eventIdText+") - Auction.com&url="
+$scope.addressUrl+"&hashtags=FoundOnAuction";window.open(urlStr,"tweet","height=300,width=550,resizable=1");}
$scope.clickGPlus=function(){var urlStr='https://plus.google.com/share?url='+$scope.addressUrl;window.open(urlStr);}
$scope.clickLinkedIn=function(){var urlStr="http://www.linkedin.com/shareArticle?mini=true&url="+$scope.addressUrl+"&title="+$scope.addressText;window.open(urlStr);}}]);var mapCtrls={};mapCtrls.MapTabCtrl=function($scope,modelProperty){$scope.loadMap=function(){var lat=modelProperty.latitude,lang=modelProperty.longitude;var mapOptions={zoom:15,center:new google.maps.LatLng(lat,lang)};var mapElem=angular.element('#map-canvas')[0];var map=new google.maps.Map(mapElem,mapOptions);google.maps.event.addListenerOnce(map,'idle',function(){google.maps.event.trigger(map,'resize');map.setCenter(mapOptions.center);});var marker=new google.maps.Marker({position:mapOptions.center,map:map});};}
propertyDetailModule.controller(mapCtrls);properDetailPrintModule.controller(mapCtrls);var mapCtrls={};mapCtrls.MapTabCtrl=function($scope,modelProperty){$scope.loadMap=function(){var lat=modelProperty.latitude,lang=modelProperty.longitude;var mapOptions={zoom:15,center:new google.maps.LatLng(lat,lang)};var mapElem=angular.element('#map-canvas')[0];var map=new google.maps.Map(mapElem,mapOptions);google.maps.event.addListenerOnce(map,'idle',function(){google.maps.event.trigger(map,'resize');map.setCenter(mapOptions.center);});var marker=new google.maps.Marker({position:mapOptions.center,map:map});};}
propertyDetailModule.controller(mapCtrls);properDetailPrintModule.controller(mapCtrls);propertyDetailModule.controller('SideBarMiscIconsCtrl',['$scope','$rootScope','$window','userSvc','modelProperty','modelUser','lightbox','feUserSvc','feLoginPopup',function($scope,$rootScope,$window,userSvc,modelProperty,modelUser,lightbox,feUserSvc,feLoginPopup){$scope.showSave=false;$scope.showSaved=false; if(modelProperty.is_saved){$scope.showSaved=true;}else{$scope.showSave=true;}
$scope.printUrl="/commercial/property-print?itemID="+modelProperty.gpid+"&auctionID="+modelProperty.event_id;$scope.showMaps=modelProperty.product_type!=='foreclosure/trustee'&&modelProperty.is_full_address; $scope.saveProperty=function(){var params={'global_property_id':modelProperty.gpid,'auction_id':modelProperty.aid,'property_id':modelProperty.pid};userSvc.saveProperty(params).then(function(data){if(data){ $scope.property_status=ADC.string.MSG_PROPERTY_SAVED;$scope.show_property_link=false;$scope.showSave=false;$scope.showSaved=true;$rootScope.$broadcast('savedprop');$rootScope.$broadcast('changeSavePropertyList');ADC.analytics.savePropertyEvent(modelProperty.gpid,modelProperty.auction_type,modelProperty.property_type);}});};$scope.unSaveProperty=function(){var params={'property_id':modelProperty.gpid};userSvc.unSaveProperty(params).then(function(response){if(response){$scope.showSave=true;$scope.showSaved=false;$rootScope.$broadcast('unsaveprop');$rootScope.$broadcast('changeSavePropertyList');}});};$scope.saveToDashboard=function(){var userData=feUserSvc.details;if(!_.isEmpty(userData)){$scope.saveProperty();}else{feLoginPopup.open().then(function(responseData){if(!_.isEmpty(responseData)){ADC.model.user=responseData;ADC.model.user.logged_in=true;$scope.saveProperty();$rootScope.$broadcast('PDPlogin');}});}};$scope.getDirections=function(){var addresses=[];addresses.push(modelProperty.full_property_address);var url=ADC.url.direction(addresses);$window.open(url);};$scope.$on('assetSaved',function(event){$scope.showSaved=true;$scope.showSave=false;});}]);propertyDetailModule.controller('userSavedListingCtrl',['$scope','$rootScope','$window','_','stringsModel','userSvc','feUserSvc','feLoginPopup',function($scope,$rootScope,$window,_,stringsModel,userSvc,feUserSvc,feLoginPopup){$scope.userSvc=feUserSvc;$scope.isLoggedIn=ADC.model.user.logged_in;$scope.isLoading=true;$scope.is_saved_assets=true;$scope.initSavedListings=function(){var params={'limit':"5","include_test_event":"y","include_sold_asset":"y","auction_type":"0,2,3",'status':1};userSvc.getSavedAssetList(params).then(function(data){if(data.result){var details=data.result.asset;var saved_prop_details=[];var saved_property_count=1;if(data.result.count>0)
{for(var prop in details)
{var propDetails=details[prop];if(saved_property_count>5){break;}
var propid=propDetails.global_property_id;var auction_number=propDetails.auction_number;var pdp_url=propDetails.pdp_url;var is_custom_auction=propDetails.is_custom_auction;var pdp_address;if(propDetails.property_name&&!propDetails.due_diligence_required){pdp_address=propDetails.property_name;}else{pdp_address=propDetails.property_address+" "+propDetails.property_city+" "+propDetails.property_state;}
var is_cancelled=propDetails.status==="Cancelled"?true:false;if(pdp_address&&pdp_url)
{var pdp_address_trim=pdp_address;if(pdp_address.length>30){pdp_address_trim=pdp_address.substr(0,30)+"...";}
var info={"pdp_url":pdp_url,"pdp_address":pdp_address_trim,'is_custom_auction':is_custom_auction,'property_id':propid,'auction_number':auction_number,'is_cancelled':is_cancelled};saved_prop_details.push(info);}
saved_property_count++;}
$scope.user_saved_assets=saved_prop_details;$scope.isLoading=false;$scope.is_saved_assets=true;}else{$scope.is_saved_assets=false;$scope.isLoading=false;$scope.user_saved_assets={};}}else{$scope.is_saved_assets=false;$scope.isLoading=false;$scope.user_saved_assets={};}});};$scope.checkLogInModal=function(){var userData=feUserSvc.details;if(!_.isEmpty(userData)){$scope.initSavedListings();}else{feLoginPopup.open().then(function(responseData){if(!_.isEmpty(responseData)){ADC.model.user=responseData;ADC.model.user.logged_in=true;$scope.initSavedListings();$rootScope.$broadcast('PDPlogin');}});}};$scope.$on('PDPlogin',function(event){$scope.isLoggedIn=true;$scope.initSavedListings();});$scope.$on('changeSavePropertyList',function(event){$scope.isLoading=true;$scope.initSavedListings();});if($scope.isLoggedIn){$scope.initSavedListings();}}]);propertyDetailModule.value('stringsModel',ADC.model.strings).value('propertyModel',ADC.model.property).value('userModel',ADC.model.user).value('dateUtilsSvc',ADC.dateUtil).directive('typingon',['biddingSvc','$filter',function(biddingSvc,$filter){return{restrict:'A',link:function(scope,element,attrs,controller){element.bind('focus',function(){scope.SetTyping(true);element.val('');});element.bind('blur',function(){scope.SetTyping(false);if(!element.val().length){scope.asset.nextBidAmt=biddingSvc.getNextBidAmount(scope.asset);element.val($filter('number')(scope.asset.nextBidAmt));}});}};}]).controller('PropertyBiddingCtrl',['$scope','$rootScope','$q','$http','$window','$filter','stringsModel','localStore','propertyModel','userModel','propertySvc','biddingSvc','BidSubmitSvc','BidHistorySvc','userSvc','$modal','dateUtilsSvc','pdpPropertySvc','pdpBidddingSvc','normalizeUrlFilter',function($scope,$rootScope,$q,$http,$window,$filter,stringsModel,localStore,propertyModel,userModel,propertySvc,biddingSvc,BidSubmitSvc,BidHistorySvc,userSvc,$modal,dateUtilsSvc,pdpPropertySvc,pdpBidddingSvc,normalizeUrlFilter){var init=function(){$scope.logged_in=userModel.logged_in;$scope.asset={};$scope.typing=false;$scope.showingError=false;$scope.biddingHistoryModal=$modal({scope:$scope,template:'biddingHistory',show:false});$scope.realAuctionModal=$modal({scope:$scope,template:'realAuction',show:false,size:'520px',mobplacement:'top'});$scope.bidPendingConfirmation=false;var entity=ADC.model.property;$scope.venue_name=entity.property_trustee_details.venue_name;$scope.venue_url=entity.property_trustee_details.venue_url;$scope.venue_address=entity.property_trustee_details.venue_address;var asset={};asset.end_timestamp=null;asset.global_property_id=entity.gpid;asset.propertyId=entity.pid;asset.auction_id=entity.auction_number;asset.property_type=entity.property_type;asset.product_type=entity.product_type;asset.itemId=entity.auction_number;asset.product_type_original=entity.product_type_original;asset.supress_opening_bid=!entity.bidding.show_initial_bid;asset.property_address=entity.property_address;asset.property_state=entity.property_state_code;asset.property_city=entity.property_city;asset.property_zip=entity.property_zip;asset.pre_sale=entity.auction_details.pre_sale;asset.is_allow_proxy_bidding=entity.auction_details.is_proxy;asset.bid_pending_confirmation=entity.bid_pending_confirmation;asset.auction_type=entity.auction_type;asset.asset_level_deposit=entity.asset_level_deposit;asset.hide_current_bid=false;asset.isLiveAuction=!entity.auction_details.online_event;asset.event_id=entity.event_id;asset.showTotalEstDebt=false;asset.showOriginalPrincipal=false;asset.showFinalJudgment=false;asset.showFCLButton=false;asset.showSaleHosted=false;asset.auction_start_date=entity.auction_start_date;asset.auction_end_date=entity.auction_end_date;asset.seller_code=entity.seller_code;asset.status=entity.status;asset.postponement_date=entity.postponement_date;asset.badges=propertySvc.getPDPBadgesData(entity);if(entity.bidding){asset.is_indicative_bid=entity.bidding.is_indicative_bid;asset.indicative_bid_due_date=entity.bidding.indicative_bid_due_date;}
asset.is_auctioneer_assigned=entity.badges.is_auctioneer_assigned;var bannerSet=[];bannerSet=pdpPropertySvc.parsePdpBannerInfo();if(bannerSet.length>0&&(bannerSet[0]!==false||bannerSet[1]!==false)){if(bannerSet[0]!==false){$scope.primaryBannerText=bannerSet[0][0];if($scope.primaryBannerText==='Bid pending confirmation'){$scope.bidPendingConfirmation=true;}
$scope.primaryBannerColor=bannerSet[0][1];}}
if(asset.isLiveAuction){$scope.present_as_online=entity.auction_details.present_as_online;$scope.registration_time=$scope.formatVenueTime(entity.property_trustee_details.registration_time);$scope.showRegistrationStartTime=($scope.registration_time==="")?false:true;$scope.auction_time=$scope.formatVenueTime(entity.property_trustee_details.auction_time);$scope.showAuctionStartTime=($scope.auction_time==="")?false:true;}
if(biddingSvc.isForeclosure(asset)){asset.event_url=propertySvc.getEventUrl(entity.auction_number,entity.auction_venue_id,ADC.common.dateFilter(entity.auction_date,"","YYYY-MM-DD"));}else{asset.event_url=propertySvc.getEventUrl(entity.auction_number);}
if(typeof asset.asset_level_deposit!=='undefined'){asset.isBidDepositGreaterThanZero=biddingSvc.isBidDepositGreaterThanZero(asset);asset.isBidDepositZero=biddingSvc.isBidDepositZero(asset);}
if(typeof entity.is_preview!=='undefined'){$scope.is_preview=true;}else{$scope.is_preview=false;}
if(biddingSvc.isForeclosure(asset)){if(typeof entity.property_trustee_details!=='undefined'){if(typeof entity.property_trustee_details.total_est_debtor_nos_amount!=='undefined'){var debt=entity.property_trustee_details.total_est_debtor_nos_amount;asset.totalEstDebt=(debt===""||debt==='0')?0:parseFloat(debt);}
if(typeof entity.property_trustee_details.original_principal_balance!=='undefined'){var origPrincipal=entity.property_trustee_details.original_principal_balance;asset.originalPrincipal=(origPrincipal===""||origPrincipal==='0')?0:parseFloat(origPrincipal);}
if(typeof entity.property_trustee_details.final_judgment_amount!=='undefined'){var finalJudgment=entity.property_trustee_details.final_judgment_amount;asset.finalJudgment=(finalJudgment===""||finalJudgment==='0')?0:parseFloat(finalJudgment);}
asset.showTotalEstDebt=biddingSvc.showTotalEstDebt(asset);asset.showOriginalPrincipal=biddingSvc.showOriginalPrincipal(asset);asset.showFinalJudgment=biddingSvc.showFinalJudgment(asset);}
if(asset.product_type_original==="FCL Marketing"){$scope.showFCLButton=true;}
if(!asset.is_auctioneer_assigned){$scope.showSaleHosted=true;}
}
var auction_type=entity.auction_details.trustee_sale?'trustee':asset.auction_type.toLowerCase();asset.registration_url=propertySvc.getRegistrationUrl(auction_type,entity.event_id,entity.pid);asset.previously_valued_to=entity.bidding.previously_valued_to;asset.is_coming_soon=entity.is_coming_soon;if(asset.is_coming_soon){$scope.showSaveButton=!$scope.logged_in||!ADC.model.property.is_saved;}
asset.is_custom_event=entity.auction_details.is_custom_auction;if(asset.is_custom_event){asset.hide_current_bid=true;}
$scope.showReserve=entity.show_reserve;if(entity.show_reserve){$scope.sellerReserve=entity.seller_reserve;}
pdpBidddingSvc.setBaseVariables(asset);$scope.asset=asset; asset.pre_sale=asset.pre_sale&&biddingSvc.isNotForeclosure(asset);$scope.makeBiddingStatusCall(); if(biddingSvc.isNotForeclosure(asset)&&asset.pre_sale){biddingSvc.checkPreAuction(asset.auction_id,asset.global_property_id).then(function(data){if(biddingSvc.isInPreAuctionTime(data)===0){asset.showPreAuctionBidButton=true;}else{asset.showPreAuctionBidButton=false;asset.pre_sale=false; if(typeof asset.userBidStatus!=='undefined'){asset.isProxy=biddingSvc.isAuctionProxy(asset);}}});}else{asset.showPreAuctionBidButton=false;asset.pre_sale=false; if(typeof asset.userBidStatus!=='undefined'){asset.isProxy=biddingSvc.isAuctionProxy(asset);}}};$scope.clearFetchBiddingError=function(){if($scope.showingError){$scope.showingError=false;ADC.xhr.closeMessage(true);}};$scope.handleFetchBiddingError=function(result){if($scope.asset.isLiveAuction){ return;}
if(!$scope.showingError){ADC.xhr.updateMessageError(stringsModel.MSG_DASH_UNABLE_TO_UPDATE);$scope.showingError=true;}};$scope.SetTyping=function(typing){$scope.typing=typing;};$scope.doTimeout=function(forceTimeout){if(ADC.config.enable_polling||forceTimeout){var interval=ADC.config.polling_frequency;if(!userModel.logged_in){interval=12000;}else if(!$scope.isRegistered){interval=8000;}
setTimeout($scope.makeBiddingStatusCall,interval);}};$scope.makeBiddingStatusCall=function(){biddingSvc.getBidStatus($scope.asset.global_property_id,$scope.asset.auction_id).then(function(data){if(typeof data.is_success!=='undefined'&&!data.is_success){if(!data.is404){$scope.handleFetchBiddingError(data);$scope.doTimeout(true);}
return;}
$scope.clearFetchBiddingError();$scope.commonBiddingStatusReturn(data,true);});};$scope.bidMadeStatusCall=function(){biddingSvc.getBidStatus($scope.asset.global_property_id,$scope.asset.auction_id).then(function(data){if(typeof data.is_success!=='undefined'&&!data.is_success){return;}
$scope.commonBiddingStatusReturn(data,false);});};$scope.commonBiddingStatusReturn=function(data,issueUpdate){$scope.asset.userBidStatus=data;var entity=$scope.asset;pdpBidddingSvc.setBidPdpVariables(entity);$scope.asset=entity;$scope.asset.showPreviouslyValuedTo=biddingSvc.showPreviouslyValuedTo($scope.asset);$scope.asset.showBidDeposit=biddingSvc.showBidDeposit($scope.asset);$scope.asset.showReserveText=biddingSvc.showReserveText($scope.asset);$scope.asset.reserveText=biddingSvc.getReserveText($scope.asset);var prevCurrentBid=typeof $scope.asset.currentBidAmt==='undefined'?"0":ADC.common.numberUnformat($scope.asset.currentBidAmt);$scope.asset.currentBidAmt=ADC.common.numberFormat(data.current_bid_amount,true);var prevBidInc=typeof $scope.asset.bidIncrement==='undefined'?"0":ADC.common.numberUnformat($scope.asset.bidIncrement);$scope.asset.bidIncrement=ADC.common.numberFormat(data.bid_increment,true);if(!$scope.typing&&(parseInt(prevCurrentBid)!==data.current_bid_amount||parseInt(prevBidInc)!==data.bid_increment||(data.bid_count>0&&data.current_bid_amount===0&&$scope.asset.nextBidAmt===0))){$scope.asset.nextBidAmt=biddingSvc.getNextBidAmount($scope.asset);}
$scope.isNotRegistered=biddingSvc.isNotRegistered($scope.asset);$scope.isRegistered=biddingSvc.isRegistered($scope.asset);$scope.isRegistrationIncomplete=biddingSvc.isRegistrationIncomplete($scope.asset);$scope.isRegistrationPending=biddingSvc.isRegistrationPending($scope.asset);$scope.isRegistrationDisapproved=biddingSvc.isRegistrationDisapproved($scope.asset);$scope.isRegistrationPaymentPending=biddingSvc.isRegistrationPaymentPending($scope.asset);$scope.isRegistrationPaymentValidationPending=biddingSvc.isRegistrationPaymentValidationPending($scope.asset);$scope.isRegistrationPaymentWirePending=biddingSvc.isRegistrationPaymentWirePending($scope.asset);$scope.isRegistrationPaymentCheckPending=biddingSvc.isRegistrationPaymentCheckPending($scope.asset);$scope.isRegistrationFinishPending=biddingSvc.showFinishRegisterButton($scope.asset);var pulseDiv=$("div#bidBox div.biddingPulseWrapper div.pulse");if(prevCurrentBid!==ADC.common.numberUnformat($scope.asset.currentBidAmt)){if($scope.asset.prevBidAmt>0&&ADC.common.numberUnformat($scope.asset.currentBidAmt)>0){var bidBox=$("div#bidBox");$(bidBox).addClass("updated");biddingSvc.applyPulseForOne(pulseDiv,bidBox);}else{$(pulseDiv).css({'opacity':0});}}
$scope.asset.prevBidAmt=$scope.asset.nextBidAmt;var isForeclosure=biddingSvc.isForeclosure($scope.asset);$scope.showLoginForPropInfo=false;$scope.showNeedToRegisterToBid=false;$scope.showRegisteredToBid=false;$scope.asset.showEstBid=false;$scope.showAltLabel=false;$scope.altLabel="";$scope.hideRegister=false; if($scope.asset.isLiveAuction){if(isForeclosure){var trusteeDetails=ADC.model.property.property_trustee_details;if(typeof trusteeDetails!=='undefined'){if(typeof trusteeDetails.display_event_registration!=='undefined'&&!trusteeDetails.display_event_registration){$scope.hideRegister=true;$scope.altLabel=typeof trusteeDetails.event_registration_alt_text!=='undefined'&&trusteeDetails.event_registration_alt_text.length>0?trusteeDetails.event_registration_alt_text:"";$scope.showAltLabel=$scope.altLabel.length>0;}}}
 
if(typeof userModel.logged_in==='undefined'||!userModel.logged_in){if(isForeclosure){if($scope.hideRegister){$scope.showLoginForPropInfo=true;}else{$scope.showNeedToRegisterToBid=true;}}else if(!$scope.asset.is_coming_soon){$scope.showNeedToRegisterToBid=true;}} 
else if(typeof userModel.logged_in!=='undefined'&&userModel.logged_in&&$scope.isNotRegistered){if(isForeclosure){if(!$scope.hideRegister){$scope.showNeedToRegisterToBid=true;}
}else if(!$scope.asset.is_coming_soon){$scope.showNeedToRegisterToBid=true;}} 
else{if(isForeclosure){if(!$scope.hideRegister){$scope.showRegisteredToBid=true;}
}else if(!$scope.asset.is_coming_soon&&!$scope.hideRegister){$scope.showRegisteredToBid=true;}} 
if(isForeclosure){$scope.asset.showStartingBid=false;if(!$scope.asset.supress_opening_bid){$scope.asset.showEstBid=true;if(typeof ADC.model.property.bidding.est_opening_bid!=='undefined'){$scope.asset.est_bid_amount=ADC.model.property.bidding.est_opening_bid;}else if(typeof ADC.model.property.bidding.starting_bid!=='undefined'){$scope.asset.est_bid_amount=ADC.model.property.bidding.starting_bid;}else{$scope.asset.isEstBidZero=true;$scope.asset.isEstBidGreaterThanZero=false;}
if($scope.asset.showEstBid){if(typeof $scope.asset.est_bid_amount!=='undefined'){if($scope.asset.est_bid_amount<=0){$scope.asset.isEstBidZero=true;$scope.asset.isEstBidGreaterThanZero=false;}else{$scope.asset.isEstBidZero=false;$scope.asset.isEstBidGreaterThanZero=true;}}}}}}else{ if(!$scope.asset.isGoneOrSold){$scope.setupCounter(); if(issueUpdate){$scope.doTimeout(false);}}}};$scope.setupCounter=function(){var mCurrentDate=moment.utc($scope.asset.userBidStatus.database_server_time);var mStartDate=moment.utc($scope.asset.userBidStatus.start_date_time);var mEndDate=moment.utc($scope.asset.userBidStatus.end_date_time);var itemId="pdpCounter";var elementName=$("span.auctionStatus.counter");
 var timeDif=mCurrentDate.diff(mStartDate,'seconds');if((mCurrentDate.diff(mStartDate,'seconds')<0)&&$scope.asset.userBidStatus.auction_status!=='Live'){$scope.asset.auction_started=false;$scope.asset.showCounter=true;if(pdpBidddingSvc.setCounter(itemId,elementName,$scope.asset.end_timestamp,mStartDate,$scope.asset.global_property_id,$scope.asset.auction_id,$scope.bidMadeStatusCall,false)){$scope.asset.end_timestamp=mStartDate;} 
ADC.dateUtil.counterInstances[itemId].finalizingString="momentarily...";}else{$scope.asset.auction_started=true;if(pdpBidddingSvc.setCounter(itemId,elementName,$scope.asset.end_timestamp,mEndDate,$scope.asset.global_property_id,$scope.asset.auction_id,$scope.bidMadeStatusCall)){$scope.asset.end_timestamp=mEndDate;}}};$scope.saveProperty=function(){ADC.xhr.checkLogin(function(){$rootScope.$broadcast('PDPlogin');var params={'auction_id':propertyModel.aid,'property_id':propertyModel.pid,'global_property_id':propertyModel.gpid};userSvc.saveProperty(params).then(function(data){if(data===true){$scope.showSaveButton=false;$rootScope.$broadcast('assetSaved');}});});ADC.analytics.savePropertyEvent(propertyModel.gpid,propertyModel.auction_type,propertyModel.property_type);};$scope.$on('savedprop',function(event){$scope.showSaveButton=false;});$scope.$on('unsaveprop',function(event){$scope.showSaveButton=true;});$scope.bidSubmitModal=$modal({scope:$scope,template:'bidPopup',shadow:true,show:false,size:'400'});$scope.submitBid=function(){if($scope.asset){ADC.xhr.checkLogin(function(){BidSubmitSvc.setupAndCreateBidPopUp($scope.asset,ADC.model.property.aid,$scope.asset.event_id,ADC.model.property.page_name,$scope.bidMadeStatusCall,$scope.bidSubmitModal);});}};$scope.completeRegistration=function(asset){$window.location.replace($scope.asset.registration_url);};$scope.openBidVenue=function(){var showDialog=true;var showFlag=localStore.get("realAuctionHideFlag");if(showFlag){showDialog=false;}
if(showDialog){$scope.realAuctionModal.$promise.then($scope.realAuctionModal.show);}else{var venueUrl=normalizeUrlFilter(ADC.model.property.property_trustee_details.venue_url);if(typeof ADC.model.property.property_trustee_details!=='undefined'&&typeof ADC.model.property.property_trustee_details.reference_id!=='undefined'){venueUrl=venueUrl+"/index.cfm?rdr="+ADC.model.property.property_trustee_details.reference_id;}
$window.open(venueUrl);ADC.analytics.realAuctionTrack('leaving_auction_continue');}
ADC.analytics.realAuctionTrack('bid_county_site');};$scope.getBidHistory=function(){BidHistorySvc.setHistoryParams(ADC.model.property.auction_number,ADC.model.property.gpid);$scope.biddingHistoryModal.$promise.then($scope.biddingHistoryModal.show);};$scope.showReservePopUp=function(){$modal({scope:$scope,template:'reservePopup',shadow:true,show:true,size:'500'});};$scope.convertStrToFloat=function(str){var num=0;var values=str.split(".");if(values.length>1&&(values[1]!=="0"&&values[1]!=="00")){var newStr=values[0];if(values[1].length===1){values[1]=values[1]+"0";}
var tempStr=values[0].concat(".",values[1]);num=parseFloat(values[0].concat(".",values[1]));}else{num=parseInt(values[0]);}
return num;};$scope.logInFreeInfo=function(asset){ADC.xhr.checkLogin(function(){$window.location.reload();});};$scope.formatVenueTime=function(venueTimeStr){if(typeof venueTimeStr==="undefined"||venueTimeStr.length<6)
return;var finalStr="";if(venueTimeStr.toLowerCase()==="00:00 am"){finalStr="12:00 am";}else{var arrayTime=venueTimeStr.split(' ');if(arrayTime[0][0]==='0'){finalStr=arrayTime[0].slice(1);}else{finalStr=arrayTime[0];}
if(arrayTime.length==2){finalStr=finalStr+" "+arrayTime[1].toLowerCase();}else{finalStr=finalStr+" am";}}
return finalStr;};$scope.eventRegTrack=function(){ADC.analytics.property.register_auction();};$scope.preBid=function(asset){ADC.xhr.checkLogin(function(){biddingSvc.checkPreAuction(asset.event_id,asset.global_property_id).then(function(data){window.location.href=data.presale_form_url;});});};init();}]);propertyDetailModule.value('modelProperty',ADC.model.property).controller('PropertyDocAccessCodeCtrl',['$scope','$window','modelProperty','pdpPropertySvc','$modal','$rootScope',function($scope,$window,modelProperty,pdpPropertySvc,$modal,$rootScope){$scope.user=ADC.model.user;if($scope.user.logged_in){$scope.firstName=$scope.user.first_name;$scope.lastName=$scope.user.last_name;$scope.email=$scope.user.email_address;}
$scope.displayAccessCodePopup=function(params){$scope.showAccessCode=params.showAccessCode;$scope.showEmailPopup=params.showEmailPopup;$scope.showConfirmEmail=params.showConfirmEmail;$scope.accessCodeReq=params.accessCodeReq;$scope.firstNameReq=params.firstNameReq;$scope.lastNameReq=params.lastNameReq;$scope.emailReq=params.emailReq;$scope.invalidCode=params.invalidCode;};var params={};params.showAccessCode=true;params.showEmailPopup=false;params.showConfirmEmail=false;params.accessCodeReq=false;params.firstNameReq=true;params.lastNameReq=false;params.emailReq=false;params.invalidCode=false;$scope.displayAccessCodePopup(params); $scope.requestAccessCode=function(){var params={};params.showAccessCode=false;params.showEmailPopup=true;params.showConfirmEmail=false;params.accessCodeReq=false;params.firstNameReq=true;params.lastNameReq=true;params.emailReq=true;params.invalidCode=false;$scope.displayAccessCodePopup(params);}; $scope.enterAccessCode=function(){var params={};params.showAccessCode=true;params.showEmailPopup=false;params.showConfirmEmail=false;params.accessCodeReq=true;params.firstNameReq=false;params.lastNameReq=false;params.emailReq=false;params.invalidCode=false;$scope.displayAccessCodePopup(params);};$scope.getAccessCodeParams=function(firstName,lastName,email){return{'auction_number':modelProperty.auction_number,'first_name':firstName,'last_name':lastName,'email':email,'link':$window.location.toString()};};$scope.submit=function(){var params={};$scope.checkErrors=true;if($scope.accessCodeForm.$valid){if($scope.showEmailPopup){params=$scope.getAccessCodeParams($scope.firstname,$scope.lastname,$scope.email);pdpPropertySvc.getAccessCode(params).then(function(data){if(data.sent){$scope.showConfirmEmail=true;$scope.showAccessCode=false;$scope.showEmailPopup=false;}});}
else{params.auction_number=modelProperty.auction_number;params.access_code=$scope.accessCode;pdpPropertySvc.validateAccessCode(params).then(function(data){if(data.validated){modelProperty.access_code=$scope.accessCode;$rootScope.$broadcast('accessCodeSubmitted',$scope.accessCode);}else{$scope.invalid_code=true;}});}}};$scope._createNdaPopup=function(){$scope.ndaModal.$promise.then($scope.ndaModal.show);};}]);propertyDetailModule.value('modelProperty',ADC.model.property).controller('PropertyDisclaimerCtrl',['$scope','$window','modelProperty','userSvc','pdpPropertySvc',function($scope,$window,modelProperty,userSvc,pdpPropertySvc){$scope.disableCheckbox=true;$scope.disableSubmit=true;$scope.checkboxVal=false;$scope.scrollPosition=function(){$scope.disableCheckbox=false;};$scope.acceptCheckboxClick=function(e){if($scope.disableCheckbox)return;$scope.disableSubmit=!e.target.checked;};$scope.getDisclaimerParams=function(isAccepted){return{'auction_id':modelProperty.aid,'auction_number':modelProperty.auction_number,'property_id':modelProperty.pid,'global_property_id':modelProperty.gpid,'is_accepted':isAccepted,'doc_type':'Disclaimer'};};$scope.submit=function(){if(!$scope.disableCheckbox&&!$scope.disableSubmit){modelProperty.accepted_nda=modelProperty.pid;userSvc.userAcceptance($scope.getDisclaimerParams(true)).then(function(data){if(data==='success'){$scope.downloadFile();$scope.disclaimerModal.hide();}});}};$scope.close=function(){$scope.disclaimerModal.hide();};$scope.downloadFile=function(){url=modelProperty.selectedDocUrl;justLogIn=modelProperty.justLogIn;if(url&&!justLogIn){fileId=url.split('?file=');var apiUrl='/commercial/document/download/file/'+fileId[1];$window.location.href=apiUrl;}else if(justLogIn){$scope.getDueDiligenceDocs();}};$scope.getDueDiligenceDocs=function(){var params={};params.id=modelProperty.gpid;pdpPropertySvc.getPropertyData(params).then(function(data){if(data.view_data&&data.view_data.document){docList=data.view_data.document.disclosures;for(var doc in docList.documents){if(typeof docList.documents[doc]!=='undefined'&&typeof docList.documents[doc]==='object'){if(typeof docList.documents[doc].display_label!=='undefined'&&typeof modelProperty.selectedDocTitle!=='undefined'){if(docList.documents[doc].display_label.toLowerCase()===modelProperty.selectedDocTitle.toLowerCase()){url=docList.documents[doc].regular_url;fileId=url.split('?file=');var apiUrl='/commercial/document/download/file/'+fileId[1];$window.open(apiUrl);$window.location.reload();}}}}}});};}]);propertyDetailModule.value('modelProperty',ADC.model.property).value('modelUser',ADC.model.user).controller('PropertyDocDualLayerCtrl',['$scope','modelProperty','modelUser','pdpPropertySvc',function($scope,modelProperty,modelUser,pdpPropertySvc){$scope.checkErrors=false;$scope.senderName=modelUser.first_name+' '+modelUser.last_name;$scope.email=modelUser.email_address;$scope.close=function(){$scope.dualLayerModal.hide();};$scope.submit=function(){$scope.checkErrors=true;if($scope.folderPermissionForm.$valid){$scope.phone=$scope.phone?$scope.phone:'';var params={};var receiver_email='';var broker_agent_details=modelProperty.broker_agent_details;if(broker_agent_details!='undefined'){for(var agent in broker_agent_details){if(broker_agent_details[agent].broker_agent_email){receiver_email+=broker_agent_details[agent].broker_agent_email+',';}}}
params.receiver_mail_id=receiver_email;params.sender_mail_id=$scope.email;params.sender_full_name=$scope.senderName;params.sender_contact_number=$scope.phone;params.mail_text=ADC.model.strings.MSG_DUAL_LAYER_EMAIL;params.global_property_id=ADC.model.property.gpid;pdpPropertySvc.getFolderPermission(params).then(function(data){if(data.toLowerCase()==='success'){$scope.dualLayerModal.hide();}});}};}]);propertyDetailModule.value('modelProperty',ADC.model.property).controller('PropertyNDACtrl',['$scope','modelProperty','userSvc','pdpPropertySvc','$rootScope',function($scope,modelProperty,userSvc,pdpPropertySvc,$rootScope){$scope.onCurrentTab=false;$scope.showSpinner=false;$scope.showError=false;$scope.getNDAParams=function(isAccepted){return{'auction_id':modelProperty.aid,'auction_number':modelProperty.auction_number,'property_id':modelProperty.pid,'global_property_id':modelProperty.gpid,'is_accepted':isAccepted,'doc_type':'NDA'};};$scope.submit=function(){$scope.showSpinner=true;userSvc.userAcceptance($scope.getNDAParams(true)).then(function(data){if(data==='success'){userSvc.setNDAAcceptance(true);$rootScope.$broadcast('ndaAccepted');$scope.access_code='';if(modelProperty.access_code){$scope.access_code=modelProperty.access_code;$scope._get_property($scope.access_code);}else{$scope._get_property('');}
}else{$scope.showError=true;$scope.showSpinner=false;ADC.transientMessage.show('',ADC.model.strings.ERR_PDP_NDA);$scope.ndaModal.hide();}});};$scope.close=function(){userSvc.userAcceptance($scope.getNDAParams(false)).then(function(data){if(data==='success'){$scope.ndaModal.hide();}});}; $scope._get_property=function(accessCode){var params={};params.id=modelProperty.gpid;if(accessCode!==''){params.access_code=accessCode;}
pdpPropertySvc.getPropertyData(params).then(function(data){if(data.js_data&&data.js_data.due_diligence){ADC.model.property.due_diligence=data.js_data.due_diligence;$rootScope.$broadcast('dueDiligenceClicked');$scope.ndaModal.hide();}else{$scope.showError=true;$scope.showSpinner=false;$scope.ndaModal.hide();}});};}]);propertyDetailModule.value('modelProperty',ADC.model.property).value('modelUser',ADC.model.user).controller('PropertyAgentContactCtrl',['$scope','$rootScope','pdpContantAgents','pdpPropertySvc','modelProperty','modelUser','$',function($scope,$rootScope,pdpContantAgents,pdpPropertySvc,modelProperty,modelUser,$){$scope.property=modelProperty;$scope.user=modelUser;$scope.auctionType=modelProperty.auction_type;$scope.firstPage=true;$scope.userFullName="";$scope.userEmail="";$scope.firstName="";$scope.lastName="";$scope.checkErrors=false;$scope.agentIndex=-1;$scope.populateAgent=function(selectedAgent){$scope.agent=selectedAgent;$scope.$apply(function(){$scope.agentName=typeof selectedAgent.broker_agent!=="undefined"?selectedAgent.broker_agent:ADC.model.strings.LABEL_NOT_AVAILABLE;$scope.agentPhone=typeof selectedAgent.broker_agent_phone!=="undefined"?selectedAgent.broker_agent_phone:ADC.model.strings.LABEL_NOT_AVAILABLE;$scope.agentEmail=typeof selectedAgent.broker_agent_email!=="undefined"?selectedAgent.broker_agent_email:ADC.model.strings.LABEL_NOT_AVAILABLE;});};$scope.close=function(){$scope.myOtherModal.hide();};$scope.verifySubmit=function(){$scope.checkErrors=true;if($scope.agentContactForm.$valid){var params={};params.firstName=$scope.firstName;params.lastName=$scope.lastName;params.toEmail=$scope.agentEmail;params.fromEmail=$scope.userEmail;params.brokerName=$scope.agentName;params.brokerPhone=$scope.agentPhone;params.emailHash=$scope.emailHash
if($scope.auctionType.toLowerCase()==='residential'){params.message='';}else{params.message=$scope.agentContactForm.message.$viewValue;}
params.propertyType=$scope.auctionType;params.auctionId=modelProperty.aid;params.propertyId=modelProperty.gpid;pdpPropertySvc.contactAgent(params).then(function(data){if(data){if($scope.auctionType.toLowerCase()==='residential'){$scope.firstPage=false;}else{$scope.myOtherModal.hide();}}});}};function initializeData(){if($scope.auctionType==='residential'){var agent=modelProperty.auctioneer_info;$scope.agentName=typeof agent.current_broker_agent!=="undefined"?agent.current_broker_agent:ADC.model.strings.LABEL_NOT_AVAILABLE;$scope.agentEmail=typeof agent.broker_email!=="undefined"?agent.broker_email:ADC.model.strings.LABEL_NOT_AVAILABLE;$scope.agentPhone=typeof agent.broker_phone!=="undefined"?agent.broker_phone:ADC.model.strings.LABEL_NOT_AVAILABLE;}
else{var commercialAgent=$scope.commercialAgent;$scope.agentName=typeof commercialAgent.agentName!=="undefined"?commercialAgent.agentName:ADC.model.strings.LABEL_NOT_AVAILABLE;$scope.agentEmail=typeof commercialAgent.agentEmail!=="undefined"?commercialAgent.agentEmail:ADC.model.strings.LABEL_NOT_AVAILABLE;$scope.emailHash=commercialAgent.emailHash}
if($scope.user.logged_in){$scope.firstName=$scope.user.first_name;$scope.lastName=$scope.user.last_name;$scope.userFullName=$scope.user.first_name+" "+$scope.user.last_name;$scope.userEmail=$scope.user.email_address;}}
initializeData();}]);propertyDetailModule.controller('PropertyFeedbackLongCtrl',['$scope','$window','stringsModel','modelProperty','modelUser','pdpPropertySvc',function($scope,$window,stringsModel,modelProperty,modelUser,pdpPropertySvc){$scope.feedbackValues={};$scope.user=modelUser;$scope.firstName="";$scope.lastName="";$scope.userEmail="";$scope.checkboxVal=false;$scope.charsLeftToType="";$scope.feedbackValues.commentText="";$scope.checkErrors=false;$scope.showRequiredError=false;$scope.wasOpenHouse=false;$scope.agentAvailable=false;$scope.openHouseDatesArray=[];$scope.feedbackValues.visitedOpenHouse=true;var scheduled_times=modelProperty.scheduled_time;$scope.wasApptAvailable=(typeof scheduled_times.is_by_appointment_only!=='undefined'&&scheduled_times.is_by_appointment_only);if(typeof scheduled_times.visit!=='undefined'&&scheduled_times.visit.length>0){for(var i=0;i<scheduled_times.visit.length;i++){var visitDate=scheduled_times.visit[i].date;var startTime=scheduled_times.visit[i].start_time;var endTime=scheduled_times.visit[i].end_time;var openHouseDate=ADC.common.dateFilter(visitDate,"YYYY-MM-DD",'MMMM DD, YYYY');openHouseDate=openHouseDate+", "+startTime+" to "+endTime;$scope.openHouseDatesArray.push(openHouseDate);$scope.wasOpenHouse=true;}
$scope.showUtilities=true;$scope.agentAvailable=true;}
if($scope.wasApptAvailable){$scope.openHouseDatesArray.push(stringsModel.LABEL_BY_APPT);$scope.showUtilities=true;$scope.agentAvailable=true;}
$scope.openHouseDatesArray.push(stringsModel.LABEL_ON_MY_OWN);$scope.feedbackValues.selectedDate=$scope.openHouseDatesArray[0];var charLeftString=stringsModel.LABEL_CHARS_LEFT;$scope.fillUsername=function(){$scope.firstName=$scope.user.first_name;$scope.lastName=$scope.user.last_name;$scope.userEmail=$scope.user.email_address;};$scope.feedbackAnonClick=function(){if($scope.checkboxVal){$scope.firstName="";$scope.lastName="";$scope.userEmail="";}
else{if($scope.user.logged_in){$scope.fillUsername();}}};$scope.legal=function(){$window.open("https://www.ten-x.com/company/legal/privacy/");};$scope.dateSelected=function(){if($scope.feedbackValues.selectedDate===stringsModel.LABEL_BY_APPT||$scope.feedbackValues.selectedDate===stringsModel.LABEL_ON_MY_OWN){$scope.feedbackValues.visitedOpenHouse=false;}else{$scope.feedbackValues.visitedOpenHouse=true;}};$scope.submit=function(){$scope.showRequiredError=false;params={auction_id:"",venue_id:"",item_id:"",auction_type:"",yard_condition:"",home_condition:"",is_utility_off:"",prop_signs_available:"",web_pic_correct:"",house_open:"",agent_helpful:"",notes:"",arrival_time:"",first_name:"",last_name:"",email:"",}; if(!$scope.checkboxVal){if($scope.firstName.length===0){$scope.showRequiredError=true;return;}else{params.first_name=$scope.firstName;}
if($scope.lastName.length===0){$scope.showRequiredError=true;return;}else{params.last_name=$scope.lastName;}
if($scope.userEmail.length===0||$scope.userEmail.indexOf('@')===-1){$scope.showRequiredError=true;return;}else{params.email=$scope.userEmail;}} 
if($scope.feedbackValues.selectedDate==stringsModel.LABEL_ON_MY_OWN){params.arrival_time='5';}else if($scope.feedbackValues.selectedDate==stringsModel.LABEL_BY_APPT){params.arrival_time='4';}else if($scope.wasOpenHouse||$scope.wasApptAvailable){var visitIndex=($scope.openHouseDatesArray.indexOf($scope.feedbackValues.selectedDate));if(visitIndex<0){params.arrival_time='5';}else{visitIndex++;params.arrival_time=visitIndex.toString();}}else{ params.arrival_time='5';}
if($scope.wasOpenHouse&&$scope.feedbackValues.visitedOpenHouse){if(typeof $scope.feedbackValues.open==='undefined'){$scope.showRequiredError=true;return;}else{params.house_open=$scope.feedbackValues.open==='true'?'y':'n';}}
if(typeof $scope.feedbackValues.sign==='undefined'){$scope.showRequiredError=true;return;}else{params.prop_signs_available=$scope.feedbackValues.sign==='true'?'y':'n';}
if(typeof $scope.feedbackValues.picture==='undefined'){$scope.showRequiredError=true;return;}else{params.web_pic_correct=$scope.feedbackValues.picture==='true'?'y':'n';}
if($scope.showUtilities){if(typeof $scope.feedbackValues.hasUtilities==='undefined'){$scope.showRequiredError=true;return;}else{params.is_utility_off=$scope.feedbackValues.hasUtilities==='true'?'n':'y';}}
if(typeof $scope.feedbackValues.yard==='undefined'){$scope.showRequiredError=true;return;}else{params.yard_condition=$scope.feedbackValues.yard;}
if($scope.showUtilities){if(typeof $scope.feedbackValues.home==='undefined'){$scope.showRequiredError=true;return;}else{params.home_condition=$scope.feedbackValues.home;}}
if($scope.agentAvailable){if(typeof $scope.feedbackValues.agent==='undefined'){$scope.showRequiredError=true;return;}else{params.agent_helpful=$scope.feedbackValues.agent;}}
params.notes=$scope.feedbackValues.commentText;params.auction_id=modelProperty.aid;params.venue_id=modelProperty.auction_venue_id;params.item_id=modelProperty.pid;params.auction_type=modelProperty.auction_type;pdpPropertySvc.submitOpenHouseFeedback(params).then(function(data){if(data){$scope.OpenWidgetModal.hide();}});};if($scope.user.logged_in){$scope.fillUsername();}}]);propertyDetailModule.controller('PropertyRealAuctionCtrl',['$scope','$window','localStore','normalizeUrlFilter',function($scope,$window,localStore,normalizeUrl){$scope.showLoading=true;$scope.hasPopupURL=true;$scope.realAuctionTextUrl="/lp/real-auction-interstitial/";$scope.liveAuction={'checkboxClick':false};
 $scope.continueToSite=function(){if($scope.liveAuction.checkboxClick){localStore.store("realAuctionHideFlag",true);ADC.analytics.realAuctionTrack('leaving_auction_nomsg');}
var venueUrl=normalizeUrl(ADC.model.property.property_trustee_details.venue_url);if(typeof ADC.model.property.property_trustee_details!=='undefined'&&typeof ADC.model.property.property_trustee_details.reference_id!=='undefined'){venueUrl=venueUrl+"/index.cfm?rdr="+ADC.model.property.property_trustee_details.reference_id;}
$window.open(venueUrl);$scope.realAuctionModal.hide();ADC.analytics.realAuctionTrack('leaving_auction_continue');};$window.iframeLoad=function(){$scope.$apply(function(){$scope.showLoading=false;});};}]);propertyDetailModule.controller('PropertyFileSizeCtrl',['$scope',function($scope){$scope.downloadAllFiles=function(){if(($scope.downloadAllID!=='')){var apiUrl='/commercial/document/download/all/'+$scope.downloadAllID;window.open(apiUrl,'_blank');}
$scope.fileSizeModal.hide();};$scope.close=function(){$scope.fileSizeModal.hide();};}]);propertyDetailModule.value('modelProperty',ADC.model.property).value('modelUser',ADC.model.user).controller('PropertyDocDueDiliCtrl',['$scope','_','modelProperty','userSvc','propertySvc','$modal','modelUser',function($scope,_,modelProperty,userSvc,propertySvc,$modal,modelUser){var dueDiliHash={};var treeFinal=[];var initCtrl=function(){$scope.dueDiligenceTreeFinal=[];$scope.dueDiligenceTreeFiles=[];$scope.ddUpdateNotificationEnabled=false;$scope.downloadAll=false;$scope.downloadAllID='';$scope.fileSizeModal=$modal({scope:$scope,template:'fileSizeTemplate',show:false,size:"600px"});$scope.dualLayerModal=$modal({scope:$scope,template:'dualLayerTemplate',show:false,size:"600px"});$scope.previewFileModal=$modal({scope:$scope,template:'previewFileTemplate',show:false,size:"600px"});};$scope._getUUID=function(){return Math.floor((1+Math.random())*10000);};$scope._getUniqueId=function(){var uniqueId=$scope._getUUID();if(typeof uniqueId==='undefined'){uniqueId=$scope._getUUID();}else{while(dueDiliHash.hasOwnProperty(uniqueId)){uniqueId=$scope._getUUID();}
dueDiliHash[uniqueId]=uniqueId;}
return uniqueId;};function walkDocuments(docList,treeFinal){var uniqueId=$scope._getUniqueId();var restrictedFolder='';var restrictedFolderIcon='collapsed';var childNode=[];if(docList.requires_additional_authentication){restrictedFolder='restrictedFolder';restrictedFolderIcon='restricted-folder-icon';childNode.push({"id":"dualLayer","label":""});}
var currentLevel={"id":uniqueId,"label":docList.dir_name,"collapsed":true,"requires_additional_authentication":docList.requires_additional_authentication,"restrictedFolder":restrictedFolder,"restrictedFolderIcon":restrictedFolderIcon,"originalLabel":docList.dir_name,"children":childNode};treeFinal.push(currentLevel);if(docList.file_list){for(var j=0;j<docList.file_list.length;++j){if(docList.file_list[j].file_name){var isSfFile=docList.file_list[j].file_name.indexOf('.sf')!==-1;}
currentLevel.children.push({"id":docList.file_list[j].file_index,"label":docList.file_list[j].display_label,"originalLabel":docList.file_list[j].display_label,"file_size":docList.file_list[j].file_size,"restrictedFolder":"","restrictedFolderIcon":"collapsed","isSfFile":isSfFile,"children":[]});}}
if(docList.dir_list){for(var i=0;i<docList.dir_list.length;++i){if((typeof docList.dir_list[i].file_list!=='undefined'&&docList.dir_list[i].file_list.length>0)||typeof docList.dir_list[i].dir_list!=='undefined'||docList.dir_list[i].requires_additional_authentication){walkDocuments(docList.dir_list[i],currentLevel.children);}}}}
function fileTree(fileList){var files=[];for(var file in fileList){if(fileList[file].display_label==='AllFiles.zip'){$scope.downloadAll=true;$scope.downloadAllID=fileList[file].file_index;}else{var isSfFile=false;if(fileList[file].file_name){isSfFile=fileList[file].file_name.indexOf('.sf')!==-1;}
var currentLevel={"id":fileList[file].file_index,"label":fileList[file].display_label,"file_size":fileList[file].file_size,"restrictedFolder":"","originalLabel":fileList[file].display_label,"isSfFile":isSfFile,"children":[]};files.push(currentLevel);}}
return files;}
$scope._filePreview=function(fileId,label,idPrefix){var is_mobile=$(".mobileDeviceOnly").css("display")==="block"?true:false;if((typeof fileId!=='undefined')){if((navigator.appVersion.indexOf("MSIE 9.")!=-1||navigator.appVersion.indexOf("MSIE 8.")!=-1)&&idPrefix==='BOX'){window.location.href='/commercial/document/download/file/'+fileId;}else if(is_mobile){var previewUrl;if(idPrefix==='BOX'){previewUrl='/commercial/document/previewmobile/file/'+fileId;}else{previewUrl="https://www.auction.com/SpringCM/DocumentPreview.php?docId="+fileId.substring(4);}
window.open(previewUrl,"","");}else{var previewUrl;if(idPrefix==='BOX'){var previewId='BOXVIEW'+fileId.substring(3);previewUrl='/commercial/document/preview/file/'+previewId;}else{previewUrl="https://www.auction.com/SpringCM/DocumentPreview.php?docId="+fileId.substring(4);}
window.open(previewUrl,"","width=700, height=848");}
ADC.analytics.property.document_download(label);}};$scope.downloadAllFiles=function(){if(($scope.downloadAllID!=='')){ADC.analytics.property.vaultDownload('all');var apiUrl='/commercial/document/download/all/'+$scope.downloadAllID;window.open(apiUrl,'_blank');}};$scope._createFileSizePopup=function(){$scope.fileSizeModal.$promise.then($scope.fileSizeModal.show);};$scope._createPreviewFilePopup=function(){$scope.previewFileModal.$promise.then($scope.previewFileModal.show);};$scope.downloadSelected=function(){var selectedFiles=[];var selectedFileSize=0;$('.dueDiliCheckbox').each(function(){if($(this).is(':checked')){if(selectedFiles.length>1){selectedFiles+=',';}
var file=$(this).val();var fileSelected=file.split(",");var idPrefix=fileSelected[0].toString().substring(0,3);if(idPrefix==='BOX'||idPrefix==='SCM'){selectedFiles=selectedFiles+fileSelected[0];}
if($.trim(fileSelected[1])){selectedFileSize=parseFloat(selectedFileSize)+parseFloat(fileSelected[1]);}}});ADC.analytics.property.vaultDownload('selected');if(selectedFileSize>13360246){ $scope._createFileSizePopup();}else{var apiUrl;if(typeof selectedFiles!=='undefined'){var noOfFiles=selectedFiles.split(',');if(typeof noOfFiles[1]!=='undefined'){apiUrl='/commercial/document/download/multiple-files/'+selectedFiles;}else{apiUrl='/commercial/document/download/file/'+selectedFiles;}
window.location.href=apiUrl;}}};$scope.$on('dueDiligenceClicked',function(event,args){var treeData=[];treeData=ADC.model.property.due_diligence;var treeId=0;if(typeof treeData.dir_documents!=='undefined'){$scope.fileTreeData=fileTree(treeData.dir_documents.file_list);if($scope.fileTreeData.length>0){$scope.dueDiligenceTreeFiles=$scope.fileTreeData;}
for(var dirNo in treeData.dir_documents.dir_list){if((typeof treeData.dir_documents.dir_list[dirNo].file_list!=='undefined'&&treeData.dir_documents.dir_list[dirNo].file_list.length>0)||typeof treeData.dir_documents.dir_list[dirNo].dir_list!=='undefined'||treeData.dir_documents.dir_list[dirNo].requires_additional_authentication){if(!_.contains($scope.dueDiligenceTreeFinal,treeFinal[treeId])){walkDocuments(treeData.dir_documents.dir_list[dirNo],treeFinal);$scope.dueDiligenceTreeFinal.push(treeFinal[treeId]);treeId++;}}}}});initCtrl();}]);angular.module('adcPropertyDetailPage').value('modelProperty',ADC.model.property).value('modelUser',ADC.model.user).controller('PropertyUserVaultCtrl',['$scope','$window','userSvc','modelProperty','modelUser','$modal','$rootScope','modelGeoData','modelUserLookup','$element','$timeout',function($scope,$window,userSvc,modelProperty,modelUser,$modal,$rootScope,modelGeoData,modelUserLookup,$element,$timeout){var puvc=this;puvc.userInfo={};puvc.stateList=ADC.model.user.country_id===71?modelGeoData.us_state_list:[{id:0,name:'Others'}];if(ADC.model.user.state===""){ADC.model.user.state_id=-1;}
puvc.countryList=modelGeoData.country_list;puvc.userLookups=modelUserLookup.user_option_lookups;puvc.userLookups.primary_roles=_.reject(puvc.userLookups.primary_roles,function(primaryRoleObj){return(typeof(primaryRoleObj.display_name)==='undefined');});$timeout(function(){$element.find(".vault-user-information-form .select").css("width",$element.find(".vault-user-information-form .select").css("width"));},0);var init=function(){puvc.userInfo=ADC.model.user;puvc.userInfo.user_name=ADC.model.user.bidder_username;puvc.userInfo.full_name=ADC.model.user.first_name+" "+ADC.model.user.last_name;puvc.userInfo.companyName=ADC.model.user.company;puvc.userInfo.selectedPrimaryRole=ADC.model.user.primary_role;puvc.userInfo.assetsOwned=ADC.model.user.assets_owned;puvc.userInfo.streetAddress=ADC.model.user.address;puvc.userInfo.country=ADC.model.user.country_id;puvc.userInfo.state=ADC.model.user.state_id;puvc.userInfo.zipCode=ADC.model.user.zip;
 puvc.isValidPhone=true;puvc.isValidZip=true; puvc.isNullPhoneNumber=false;puvc.isNullZipcode=false;puvc.isNullStreet=false;puvc.isNullCity=false;puvc.isNullAssets=false;puvc.isNullPrimaryRole=false;puvc.isNullState=false;puvc.isFormSubmitted=false;};puvc.isValidData=function(){var result=false;puvc.validatePhoneNumber();puvc.validatePrimaryRoleData();puvc.validateAssetsOwned();puvc.validateState();puvc.validateStreetAddress();puvc.validateCity();puvc.validateZipcode();puvc.hasNullField=puvc.isNullPhoneNumber||puvc.isNullStreet||puvc.isNullCity||puvc.isNullZipcode||puvc.isNullAssets||puvc.isNullPrimaryRole||puvc.isNullState;result=puvc.validatePhoneNumber()&&puvc.validatePrimaryRoleData()&&puvc.validateAssetsOwned()&&puvc.validateState()&&puvc.validateStreetAddress()&&puvc.validateCity()&&puvc.validateZipcode();return result;};puvc.validatePhoneNumber=function(){if(puvc.userInfo.phone){puvc.userInfo.phone=puvc.userInfo.phone.replace(/\D/g,'').replace(/(\d{3})(\d{3})(\d{4})/,'$1-$2-$3');}
var result=true;puvc.isNullPhoneNumber=(puvc.userInfo.phone===null)||(puvc.userInfo.phone===undefined);result=!puvc.isNullPhoneNumber&&puvc.userInfo.phone.length===12;
 if(puvc.isFormSubmitted){puvc.isValidPhone=result;}else{puvc.isValidPhone=(result)||puvc.isNullPhoneNumber;}
return result;};puvc.validatePrimaryRoleData=function(){var result=true;result=!!puvc.userInfo.selectedPrimaryRole&&puvc.userInfo.selectedPrimaryRole>0;if(puvc.isFormSubmitted){puvc.isNullPrimaryRole=!result;}else{puvc.isNullPrimaryRole=false;}
return result;};puvc.validateAssetsOwned=function(){var result=true;result=!!puvc.userInfo.assetsOwned&&puvc.userInfo.assetsOwned>0;if(puvc.isFormSubmitted){puvc.isNullAssets=!result;}else{puvc.isNullAssets=false;}
return result;};puvc.validateState=function(){var result=true;if(puvc.userInfo.country===71){result=(puvc.userInfo.state>0);}else{result=(puvc.userInfo.state>=0);}
if(puvc.isFormSubmitted){puvc.isNullState=!result;}else{puvc.isNullState=false;}
return result;};puvc.validateStreetAddress=function(){var result=true;result=!!puvc.userInfo.streetAddress&&puvc.userInfo.streetAddress.length>0;if(puvc.isFormSubmitted){puvc.isNullStreet=!result;}else{puvc.isNullStreet=false;}
return result;};puvc.validateCity=function(){var result=true;result=!!puvc.userInfo.city&&puvc.userInfo.city.length>0;if(puvc.isFormSubmitted){puvc.isNullCity=!result;}else{puvc.isNullCity=false;}
return result;};puvc.zipPattern=/^(\d{5}(-\d{4})?)$/;puvc.canadianZipPattern=/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/;puvc.validateZipcode=function(){var validzip=true;if(puvc.userInfo.country===145){validzip=puvc.canadianZipPattern.test(puvc.userInfo.zipCode);}else{validzip=puvc.zipPattern.test(puvc.userInfo.zipCode);}
puvc.isNullZipcode=(puvc.userInfo.zipCode===undefined)||(puvc.userInfo.zipCode===null);if(!puvc.isFormSubmitted){puvc.isValidZip=puvc.isNullZipcode||validzip;}else{puvc.isValidZip=validzip;}
return validzip;};init();puvc.submitVaultInformation=function(){puvc.isFormSubmitted=true;puvc.isValidData();var vaultInformationObj={phone:puvc.userInfo.phone,company:puvc.userInfo.companyName,primary_role:puvc.userInfo.selectedPrimaryRole,assets_owned:puvc.userInfo.assetsOwned,country:puvc.userInfo.country,address:puvc.userInfo.streetAddress,city:puvc.userInfo.city,state:puvc.userInfo.state,zip:puvc.userInfo.zipCode};if(puvc.isValidData()){userSvc.updateUserProfile(vaultInformationObj).then(function(response){if(response.strStatus==='success'){userSvc.getProfileData().then(function(userProfileResponse){ADC.model.user=userProfileResponse;ADC.model.user.address=userProfileResponse.street_address;ADC.model.user.country_id=userProfileResponse.country;ADC.model.user.state_id=parseInt(userProfileResponse.state);$rootScope.$broadcast('transient_message_vault_info_update');});}});}
puvc.isFormSubmitted=false;};puvc.updateStateList=function(){if(puvc.userInfo.country!==71){puvc.stateList=[{id:0,name:'Others'}];puvc.userInfo.state=0;}else{puvc.stateList=modelGeoData.us_state_list;puvc.userInfo.state=-1;}
puvc.isValidData();};}]);

var downloadAllId;var dueDiliHash={};function loadDueDiligenceTab(due_diligence){var files={};var isDownloadAll;for(var docType in due_diligence.dir_documents){dirList=due_diligence.dir_documents[docType]; if(docType=='file_list'){for(var file in dirList){if(dirList[file].file_name!='AllFiles.zip'&&file!='remove'){files[file]=dirList[file];}
if(dirList[file].file_name=='AllFiles.zip'){downloadAllId=dirList[file].file_index;isDownloadAll=true;}}}}
_buildButtonHtml(isDownloadAll);_buildInitialHtml();_buildFileHtml(files,'',65); _buildFolderHtml(due_diligence.dir_documents);_buildFinalHtml();$('#due-diligence-tab').html(dueDiligenceHTML);}
function downloadSelected(){var selectedFiles=[];var selectedUrl;var selectedFileSize=0;$('.due_diligence_checkbox').each(function(){if($(this).is(':checked')){if(selectedFiles.length>1){selectedFiles+=',';}
var file=$(this).val();var fileSelected=file.split(",");selectedFiles=selectedFiles+fileSelected[0];selectedUrl=fileSelected[1];selectedFileSize+=parseInt(fileSelected[2]);}});if(selectedFileSize>13360246){ _createFileSizePopup();}else{var apiUrl;if(typeof selectedFiles!=='undefined'){var noOfFiles=selectedFiles.split(',');if(typeof noOfFiles[1]!=='undefined'){apiUrl='/commercial/document/download/multiple-files/'+selectedFiles;}else{apiUrl='/commercial/document/download/file/'+selectedFiles;}
window.location.href=apiUrl;}}}
function _createFileSizePopup(){ADC.popup.create('fileSizePopup',$('#fileSizeTemplate').html());$('.popup').addClass('fileSizePopup');angular.bootstrap($('#fileSizeForm'),['adcPropertyDetailPage','ADC']);ADC.popup.instances.fileSizePopup.center();}
function downloadAll(){if((typeof downloadAllId!=='undefined')){var apiUrl='/commercial/document/download/all/'+downloadAllId;window.open(apiUrl,'_blank');}}
function filePreview(file_id,label){if((typeof file_id!=='undefined')){var previewUrl="https://www.auction.com/SpringCM/DocumentPreview.php?docId="+file_id.substring(4);window.open(previewUrl,"","width=700, height=848");ADC.analytics.property.document_download(label);}}
function dirChecked(dir){var access_code_required=$('.access_required_'+dir).val();if(access_code_required==='true'&&$.trim($('.due_dili_folder_'+dir).text())==='Due Diligence Documents'){if(access_code_required){_createDualLayerPopup();}}else{$('.due_dili_dir_'+dir).toggle();$('.due_dili_folder_'+dir).toggleClass('open');$('.fileGroup_'+dir).prop('checked',!$('.fileGroup_'+dir).prop('checked'));}}
function dirClick(dir){var access_code_required=$('.access_required_'+dir).val();if(access_code_required==='true'&&$.trim($('.due_dili_folder_'+dir).text())==='Due Diligence Documents'){if(access_code_required){_createDualLayerPopup();}}else{$('.due_dili_dir_'+dir).toggle();$('.due_dili_folder_'+dir).toggleClass('open');}}
function _createDualLayerPopup(){ADC.popup.create('dualLayerPopup',$('#dualLayerTemplate').html());$('.popup').addClass('dualLayerPopup');angular.bootstrap($('#folderPermissionForm'),['adcPropertyDetailPage','ADC']);ADC.popup.instances.dualLayerPopup.center();}
function _walkDirectoryTree(folder,folderNo){ if(typeof folder!=='undefined'&&typeof folder.file_list!=='undefined'){_buildFileHtml(folder.file_list,folderNo,22);} 
if(typeof folder!=='undefined'&&typeof folder.dir_list!=='undefined'){var subfolders=folder.dir_list;_walkDirectoryFilter(subfolders,folderNo);}}
function _walkDirectoryFilter(items,mainFolderNo){dueDiligenceHTML+='<div>';for(var folderNo in items){uuid=_getUUID();uniqueFolderId=parseInt(mainFolderNo)+folderNo+uuid;for(var hashKey in dueDiliHash){if(dueDiliHash.hasOwnProperty(hashKey)){if(dueDiliHash[hashKey]===uniqueFolderId){uuid=_getUUID();uniqueFolderId=parseInt(mainFolderNo)+folderNo+uuid;}}}
dueDiliHash[uniqueFolderId]=uniqueFolderId;var folder=items[folderNo];if(typeof folder!=='undefined'){folderName=items[folderNo].dir_name;dueDiligenceFolderIcon='folderWrapper';dueDiligenceFolderClass='';if(folderName=='Due Diligence Documents'&&folder.requires_additional_authentication){dueDiligenceFolderIcon='folderWrapperRed';dueDiligenceFolderClass='dueDeligenceFolder';}
dueDiligenceHTML+='<input class="folderCheckbox" type="checkbox" onclick="dirChecked('+"'"+uniqueFolderId+"'"+')"/>';dueDiligenceHTML+='<div class="'+dueDiligenceFolderIcon+' '+dueDiligenceFolderClass+' due_dili_folder_'+uniqueFolderId+'">';dueDiligenceHTML+='<a class="folderLink" onclick="dirClick('+"'"+uniqueFolderId+"'"+')">'+folderName+'</a>';dueDiligenceHTML+='<input type="hidden" class="access_required_'+uniqueFolderId+'" value="'+folder.requires_additional_authentication+'" />';dueDiligenceHTML+='<div class="dirName due_dili_dir_'+uniqueFolderId+'" style="display:hidden">';_walkDirectoryTree(folder,uniqueFolderId);dueDiligenceHTML+='</div>';dueDiligenceHTML+='</div>';}}
dueDiligenceHTML+='</div>';}
function _buildInitialHtml(){dueDiligenceHTML+='<div class="documentGroup">';}
function _buildButtonHtml(isDownloadAll){dueDiligenceHTML='<div class="buttonRow left">';dueDiligenceHTML+='<a class="button" onclick="downloadSelected()">'+ADC.model.strings.COMMON_DOWNLOAD_SELECTED+'</a>';if(isDownloadAll){dueDiligenceHTML+='<a class="button" onclick="downloadAll()">'+ADC.model.strings.COMMON_DOWNLOAD_ALL+'</a>';}
dueDiligenceHTML+='</div>';}
function _buildFileHtml(files,outerIndex,fileNameLength){fileClass='';if(outerIndex!==''){fileClass='withFolder';}
for(var file in files){var fileType='pdf';if(typeof files[file]==='object'){var fileExt;if(files[file].display_label!=='undefined'){fileExt=files[file].display_label.split(".").pop();}
if(fileExt=='xlsx'){fileType='xls';}
var cuttOff='';if(files[file].display_label.length>parseInt(fileNameLength)){cuttOff='...';}
dueDiligenceHTML+='<div class="fileWrapper '+fileClass+'">';dueDiligenceHTML+='<input type="checkbox" class="due_diligence_checkbox fileGroup_'+outerIndex+'" value="'+[files[file].file_index,files[file].regular_url,files[file].file_size]+'" />';dueDiligenceHTML+='<a class="fileLink'+fileType+'" onclick="filePreview('+"'"+files[file].file_index+"'"+','+"'"+files[file].display_label+"'"+')">'+files[file].display_label.substring(0,parseInt(fileNameLength))+cuttOff+'</a>';dueDiligenceHTML+='</div>';}}}
function _buildFinalHtml(){dueDiligenceHTML+='<div class="clear"></div>';dueDiligenceHTML+='</div>';}
function _buildFolderHtml(due_diligence){for(var docType in due_diligence){dirList=due_diligence[docType];if(docType=='dir_list'){dueDiligenceHTML+='<div>';for(var folderNo in dirList){folder=dirList[folderNo];if(typeof folder!=='undefined'){folderName=dirList[folderNo].dir_name;dueDiligenceFolderIcon='folderWrapper';dueDiligenceFolderClass='';if(folderName=='Due Diligence Documents'&&folder.requires_additional_authentication){dueDiligenceFolderIcon='folderWrapperRed';dueDiligenceFolderClass='dueDeligenceFolder';}
dueDiligenceHTML+='<input class="folderCheckbox" type="checkbox" onclick="dirChecked('+"'"+folderNo+"'"+')"/>';dueDiligenceHTML+='<div class="'+dueDiligenceFolderIcon+' '+dueDiligenceFolderClass+' due_dili_folder_'+folderNo+'">';dueDiligenceHTML+='<a class="folderLink" onclick="dirClick('+"'"+folderNo+"'"+')">'+folderName+'</a>';dueDiligenceHTML+='<input type="hidden" class="access_required_'+folderNo+'" value="'+folder.requires_additional_authentication+'" />';dueDiligenceHTML+='<div class="dirName due_dili_dir_'+folderNo+'" style="display:hidden">';_walkDirectoryTree(folder,folderNo);dueDiligenceHTML+='</div>';dueDiligenceHTML+='</div>';}}
dueDiligenceHTML+='</div>';}}}
function _getUUID(){return Math.floor((1+Math.random())*10);}
angular.module('ADC').value('momentObj',window.moment).value('dateUtilsSvc',ADC.dateUtil||null).service('pdpBidddingSvc',['$q','dateUtilsSvc','biddingSvc','momentObj',function($q,dateUtilsSvc,biddingSvc,momentObj){return{ setCounter:function(itemId,elementName,origEndDate,newEndDate,globalPropertyID,auctionID,finalizeCB,useA1styling){ if(origEndDate==="undefined"||origEndDate===null||(origEndDate.diff(newEndDate,'seconds')!==0)){if(origEndDate!==null&&origEndDate!=='undefined'&&(origEndDate.diff(newEndDate,'seconds')!==0)){ if(typeof dateUtilsSvc.counterInstances[itemId]!=="undefined"){dateUtilsSvc.counterInstances[itemId].destroy();}}
var finalizeParams={};if(typeof globalPropertyID!=='undefined'&&typeof auctionID!=='undefined'){finalizeParams.auction_number=auctionID;finalizeParams.gpid=globalPropertyID;if(typeof finalizeCB==='undefined'){finalizeCB=ADC.bidding.finalizingCB;}}else{finalizeCB='undefined';}
var a1Style=(typeof useA1styling==='undefined')?true:useA1styling;var inst=dateUtilsSvc.initializeCounter(itemId,$(elementName),newEndDate.toDate(),3,a1Style,false,finalizeCB,finalizeParams);return true;}
return false;}, finalizingCB:function(finalizeParams){biddingSvc.getBidStatus(finalizeParams.auction_number,finalizeParams.gpid).then(function(response){var serverTimestamp=momentObj.utc(response.database_server_time).toDate();dateUtilsSvc.calculateUserOffset(serverTimestamp);if(data){

 var result={};result.get_bid_status_cross_event={};result.get_bid_status_cross_event.status_list=[];result.get_bid_status_cross_event.status_list.push(data.bid_status);publicInterface.bidInterval.bidCallBack(result);}},function(data){if(publicInterface.bidInterval.bidErrorCallBack)
publicInterface.bidInterval.bidErrorCallBack(data);},'suppress');}, setBidPdpVariables:function(item){item.showTrusteeStartDate=biddingSvc.showTrusteeStartDate(item);item.showAuctionStarts=biddingSvc.showAuctionStartTime(item);item.isPresale=biddingSvc.isAuctionPreSale(item);item.isProxy=biddingSvc.isAuctionProxy(item);item.isPresalePendingBid=biddingSvc.isAuctionPreSalePendingBid(item);item.isLive=biddingSvc.isAuctionLive(item);item.showStartingBid=biddingSvc.showStartingBid(item);item.showCurrentBid=biddingSvc.showCurrentBid(item);item.showWinningBid=biddingSvc.showWinningBid(item);item.showBidIncrement=biddingSvc.showBidIncrement(item);item.getNextBidAmount=biddingSvc.getNextBidAmount(item);item.isStartBidGreaterThanZero=biddingSvc.isStartBidGreaterThanZero(item);item.isStartBidZero=biddingSvc.isStartBidZero(item);item.isSold=biddingSvc.isSold(item);item.isGoneOrSold=biddingSvc.isGoneOrSold(item);item.showBidNowButton=biddingSvc.showBidNowButton(item);item.showFinishRegisterButton=biddingSvc.showFinishRegisterButton(item);item.showRegisterButton=biddingSvc.showRegisterButton(item);item.showRegisteredLabel=biddingSvc.showRegisteredLabel(item);item.showRegistrationPendingLabel=biddingSvc.showRegistrationPendingLabel(item);item.showOnlineEndedFinalAmount=biddingSvc.showOnlineEndedFinalAmount(item);item.showOnlineInProgressCurrentBidAmount=biddingSvc.showOnlineInProgressCurrentBidAmount(item);item.showOnlineCurrentBidStartingAmount=biddingSvc.showOnlineCurrentBidStartingAmount(item);item.showSellerBidDisclosure=biddingSvc.showSellerBidDisclosure(item);item.showBidOutbidded=biddingSvc.isBidOutbidded(item);item.showBidHighestBidder=biddingSvc.isBidHighestBidder(item);item.showBidLost=biddingSvc.isBidLost(item);item.showBidWon=biddingSvc.isBidWon(item);item.showCounter=biddingSvc.showCounter(item);item.showBidAgain=biddingSvc.isBidAgain(item);}, setBaseVariables:function(item){ item.showForeclosureOpeningBid=biddingSvc.showForeclosureOpeningBid(item);item.hideStartingBid=biddingSvc.isHideStartingBid(item);}};}]);angular.module('ADC').value('stringsModel',ADC.model.strings).value('modelProperty',ADC.model.property).factory('pdpPropertySvc',['$q','$http','$filter','$','_','$rootScope','modelProperty','stringsModel',function($q,$http,$filter,$,_,$rootScope,modelProperty,stringsModel){return{makeServiceCall:function(url,params,serializeRequest){var deferred=$q.defer();var headerFormat={'Content-Type':'application/json'};if(serializeRequest){headerFormat={'Content-Type':'application/x-www-form-urlencoded'};params=$.param(params);}
$http({url:'/'+ADC.config.base_url_prefix+url,method:'POST',data:params,headers:headerFormat,timeout:60000}).success(function(response){deferred.resolve(response);});return deferred.promise;},getPropertyData:function(params){return this.makeServiceCall('/property/data/',params,true);},contactAgent:function(params){return this.makeServiceCall('/property/contact_agent/',params,true);},getFolderPermission:function(params){return this.makeServiceCall('/property/folder-permission/',params,true);},submitOpenHouseFeedback:function(params){return this.makeServiceCall('/property/pdp/feedback/',params,true);},getAccessCode:function(params){return this.makeServiceCall('/property/request-access-code/',params,true);},validateAccessCode:function(params){return this.makeServiceCall('/property/validate-access-code/',params,true);},updateAlertBanners:function(prop,htmlElement){if(prop){var bannerSet=[];bannerSet=parsePdpBannerInfo(prop);if(bannerSet[0]){$(htmlElement).find("div.primaryAlertBanner").html(bannerSet[0][0]).addClass(bannerSet[0][1]).removeClass('hidden');}
if(bannerSet[1]){$(htmlElement).find("div.secondaryAlertBanner").html(bannerSet[1][0]).addClass(bannerSet[1][1]).removeClass('hidden');}}
return;},propComingSoonText:function(){return[stringsModel.IMG_BANNER_COMING_SOON,'green'];},getPdpBannerForResidential:function(prop){var isShortSale=prop.product_type_original==='Short Sale';var commission=typeof prop.broker_commission!=='undefined'&&prop.broker_commission.toLowerCase()!=='not offered';var isCoop=($.inArray(prop.product_type_original.toLowerCase(),['c2c','c2c asset','luxury'])!==-1)&&commission;var isOccupied=($.inArray(prop.product_type_original,['Rentals','MTL'])!==-1&&(typeof prop.occupancy_status!=='undefined'&&($.inArray(prop.occupancy_status.toLowerCase(),['occupied'])!==-1)));var bannerObj={primaryBannerObj:false,secondaryBannerObj:false};var thisRef=this;if(prop.is_coming_soon){bannerObj.primaryBannerObj=thisRef.propComingSoonText();}else if(isShortSale&&isCoop){bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_BANK_APPROVE_SHORT_SALE,'green'];bannerObj.secondaryBannerObj=[stringsModel.IMG_BANNER_BROKER_COOP,'lightBlue'];}else if(isShortSale){bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_BANK_APPROVE_SHORT_SALE,'green'];}else if(isCoop){bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_BROKER_COOP,'lightBlue'];}else if(isOccupied){bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_TENANT_OCCUPIED,'orange'];}else if(prop.product_type==='redemption'){bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_REDEMPTION,"blue"];} 
if(prop.bid_pending_confirmation){bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_BID_PENDING,'red'];}
return bannerObj;},getPdpBannerForForeclosure:function(prop,propAuctionType){var primaryBannerObj=false;if(prop.is_coming_soon){primaryBannerObj=[stringsModel.IMG_BANNER_COMING_SOON,'green'];}else if(propAuctionType&&prop.status==='Cancelled'){primaryBannerObj=[stringsModel.IMG_BANNER_CANCELLED,'red'];}else if(propAuctionType&&prop.status==='Postponed'){primaryBannerObj=[stringsModel.IMG_BANNER_POSTPONED,'green'];}else if(prop.property_state_code==='NC'&&typeof prop.property_trustee_details.upset_bid!=='undefined'){var upset_bid=prop.property_trustee_details.upset_bid;if(!upset_bid){primaryBannerObj=[stringsModel.IMG_BANNER_OUTBID,'yellow'];}else{primaryBannerObj=[stringsModel.IMG_BANNER_AUCTIONED,'blue'];}}else if(prop.sold_or_did_not_sell&&prop.property_state_code!=='NC'){primaryBannerObj=[stringsModel.IMG_BANNER_AUCTIONED,'blue'];}
return primaryBannerObj;},getPdpBannerForCommercial:function(prop){var bannerObj={primaryBannerObj:false,secondaryBannerObj:false};var thisRef=this;var isCoop=(prop.broker_commission&&prop.broker_commission.toLowerCase()!=='not offered');if(prop.is_coming_soon){bannerObj.primaryBannerObj=thisRef.propComingSoonText();}else if(isCoop&&prop.finance_available){bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_FINANCING_AVAILABLE,'green'];if(prop.auction_type=='commercial'){bannerObj.secondaryBannerObj=[stringsModel.IMG_BANNER_BROKER_COOP,'lightBlue'];}}else if(prop.finance_available){bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_FINANCING_AVAILABLE,'green'];}else if(isCoop&&prop.auction_type=='commercial'){ bannerObj.primaryBannerObj=[stringsModel.IMG_BANNER_BROKER_COOP,'lightBlue'];}
return bannerObj;},parsePdpBannerInfo:function(){var
prop=modelProperty,primaryBannerObj=false,secondaryBannerObj=false,thisRef=this,propAuctionType=$.inArray(prop.auction_type,['residential','land'])!==-1?true:false;if(prop.product_type.toLowerCase()==='foreclosure/trustee'){primaryBannerObj=thisRef.getPdpBannerForForeclosure(prop,propAuctionType);}else if(propAuctionType){var bannerObj=thisRef.getPdpBannerForResidential(prop);primaryBannerObj=bannerObj.primaryBannerObj;secondaryBannerObj=bannerObj.secondaryBannerObj;}
return[primaryBannerObj,secondaryBannerObj];},};}]);propertyDetailModule.factory('mapSvc',['modelProperty',function(modelProperty){return{'googleStreetMap':function(latlng){var mapOptions={mapTypeId:google.maps.MapTypeId.ROADMAP};var mapElem=angular.element('#map-canvas')[0];var marker;var map=new google.maps.Map(mapElem,mapOptions);var sv=new google.maps.StreetViewService();sv.getPanoramaByLocation(latlng,50,function(data,status){if(status=='OK'){var panoramaOptions={position:latlng,pov:{heading:34,pitch:10}};marker=new google.maps.Marker({position:mapOptions.center,map:map});var panorama=new google.maps.StreetViewPanorama(angular.element('#map-canvas')[0],panoramaOptions);panorama.setVisible(true);map.setStreetView(panorama);}
else{mapOptions={zoom:15,center:latlng};map=new google.maps.Map(mapElem,mapOptions);google.maps.event.addListenerOnce(map,'idle',function(){google.maps.event.trigger(map,'resize');map.setCenter(mapOptions.center);});marker=new google.maps.Marker({position:mapOptions.center,map:map});}});},'googleMap':function(latlng){var mapOptions={zoom:15,center:latlng};var mapElem=angular.element('#map-canvas')[0];var map=new google.maps.Map(mapElem,mapOptions);google.maps.event.addListenerOnce(map,'idle',function(){google.maps.event.trigger(map,'resize');map.setCenter(mapOptions.center);});var marker=new google.maps.Marker({position:mapOptions.center,map:map});},googleStreetMapView:function(latlng){var mapOptions={mapTypeId:google.maps.MapTypeId.ROADMAP};var mapElem=angular.element('#map-canvas')[0];var marker;var sv=new google.maps.StreetViewService();sv.getPanoramaByLocation(latlng,50,function(data,status){if(status=='OK'){var map=new google.maps.Map(mapElem,mapOptions);var panoramaOptions={position:latlng,pov:{heading:34,pitch:10}};marker=new google.maps.Marker({position:mapOptions.center,map:map});var panorama=new google.maps.StreetViewPanorama(angular.element('#street-canvas')[0],panoramaOptions);panorama.setVisible(true);map.setStreetView(panorama);}});}};}]);(function(){ window.ADC=window.ADC||{};var callbacksWaitingForApi=[];var apiLoaded=false;window.onYouTubeIframeAPIReady=function(){apiLoaded=true;callbacksWaitingForApi.forEach(function(callback){callback();})}
 
var iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;var deviceSupportsPlayApi=!iOS; var youtubeScriptTag=document.createElement('script');youtubeScriptTag.src="https://www.youtube.com/iframe_api";var appendTarget=document.getElementsByTagName('head')[0];appendTarget.appendChild(youtubeScriptTag);function onYoutubeApiReady(callback){if(apiLoaded){callback();}else{callbacksWaitingForApi.push(callback);}}
function getExternalApi(player){ return{play:function(){if(deviceSupportsPlayApi){player.playVideo();}},pause:function(){player.pauseVideo();}}}
ADC.youtubeService=function(options){options=options||{};if(!options.target instanceof Element){throw new Error('Passed target is not an element.  Pass an Element in the "target" option to define where the video renders.');}else if(typeof options.videoId!=='string'){throw new Error('Invalid videoId.  Pass a YouTube videoId as a string');}
if(!options.height||!options.width){console.warn('youtubeSvc not passed video height and/or width');}
onYoutubeApiReady(function(){var player=new YT.Player(options.target,{height:options.height,width:options.width,videoId:options.videoId,playerVars:{modestbranding:1,rel:0,showinfo:0},events:{onReady:function(event){if(typeof options.onReady==='function'){options.onReady(getExternalApi(event.target));}},onError:function(event){if(typeof options.onError==='function'){options.onError();}},onStateChange:function(event){var state=event.data;switch(state){

case 1: if(typeof options.onPlay==='function'){options.onPlay(player)}
break;case 2: if(typeof options.onPause==='function'){options.onPause(player)}
break;

}}}});});};angular.module('ADC').factory('youtubeSvc',function(){return ADC.youtubeService;});})();angular.module('ADC').factory('profileSvc',['$q','$http','$',function($q,$http,$){var attemptCounter=0;return{updateEmailInformation:function(emailObj){var deferred=$q.defer();$http({url:'/commercial/user/account/email/update/',method:'POST',data:$.param(emailObj)}).success(function(response){deferred.resolve(response);}).error(function(response){deferred.resolve(response);});return deferred.promise;},updatePasswordInformation:function(passwordObj){var deferred=$q.defer();$http({url:'/commercial/user/account/pwd/update/',method:'POST',data:$.param(passwordObj)}).success(function(response){deferred.resolve(response);}).error(function(error){deferred.resolve(error);});return deferred.promise;},loginCheckAndResetRegistrationPoll:function(response,scope){if(response.status==='UnAuthorized'||response.status===403){attemptCounter++;if(attemptCounter>=3){window.location.href="/commercial/login?back=/commercial/dashboard/";}}else{attemptCounter=0;}}};}]);angular.module('ADC').factory('trusteeDataSvc',['$q','$http','$',function($q,$http,$){return{getTrusteeCountyList:function(queryParamObj){
 return $http({url:'/wpress/venue-rolodex',method:'POST',params:queryParamObj});}};}]);(function(){function initializeVideo(youtubeSvc,scope,video_id,callback){if(scope.imageSection.currentVideo){if(callback){callback(scope.imageSection.currentVideo)}
return;}
youtubeSvc({target:document.getElementById('video-canvas'),videoId:video_id,height:'440',width:'663',onReady:function(video){scope.$apply(function(){scope.imageSection.currentVideo=video;});if(callback){callback(video)}},onError:function(event){scope.$apply(function(){scope.imageSection.videoError=event;})}});}
propertyDetailModule.controller('PropertyPictureCtrl',function($scope,modelProperty,mapSvc,pdpPropertySvc,$timeout,youtubeSvc){$scope.init=function(){var imageData=[];var lat=modelProperty.latitude;var lang=modelProperty.longitude;$scope.showMapIcons=true;$scope.imageSection={};$scope.imageSection.pictureView=true;$scope.imageSection.mapView=false;$scope.imageSection.streetView=false;$scope.imageSection.videoView=false;$scope.primaryBannerColor='hidden';$scope.primaryBannerText='';$scope.secondaryBannerColor='hidden';$scope.secondaryBannerText='';$scope.showImageNav=true;$scope.currentIndex=-1;$scope.showLeftArrow=false;$scope.showRightArrow=false;$scope.imageData={};$scope.mapClass="slider-map-item";$scope.streetClass="slider-street-item";$scope.lightbox=true;$scope.displayLightbox=false;$scope.lightboxIndex=-1;$scope.lightboxLeftArrow=false;$scope.lightboxRightArrow=false;$scope.imagesClickCount=0;$scope.mapSelected=false;$scope.streetSelected=false;$scope.videoSelected=false;$scope.altTagText=modelProperty.full_property_address;$scope.videoId=modelProperty.video_id;if(typeof modelProperty.images!=='undefined'&&typeof modelProperty.images.documents!=='undefined'){var imageFiles=modelProperty.images.documents;for(var key in imageFiles){showSlider=true;imageData[key]={'selectedImg':false,'thumbImage':modelProperty.images.documents[key].web_url,'mainImage':modelProperty.images.documents[key].thumbnail_url,'largeImage':modelProperty.images.documents[key].regular_url};}
$scope.imageData=imageData;$scope.currentImage=imageData[0].mainImage;$scope.listWidth=($scope.imageData.length+10)*660;$scope.leftIndex=0;$scope.currentIndex=0;$scope.sliderLeftIndex=0;$scope.sliderLeftImgIndex=0;$scope.leftPosition="0 px";$scope.currentLightboxImage=imageData[0].largeImage;$scope.lightboxWidth=($scope.imageData.length+10)*900;$scope.leftLightboxIndex=0;$scope.lightboxIndex=0;$scope.lightboxPosition="0";if($scope.imageData.length>0)
$scope.imageData[0].selected=true;if($scope.imageData.length===1&&(!lat||!lang))
$scope.showImageNav=false;}else{$scope.showImageNav=false;$scope.lightbox=false;if(lat!==""&&lang!==""&&!modelProperty.is_due_diligence){$scope.imageSection.pictureView=false;$scope.imageSection.mapView=true;var latlng=new google.maps.LatLng(lat,lang);if(!isNaN(latlng.lat())&&!isNaN(latlng.lng())){mapSvc.googleStreetMap(latlng);}
else{$scope.imageSection.mapError=true;}}else{$scope.imageSection.pictureView=true;$scope.imageSection.mapView=false;if(modelProperty.auction_type==='residential'){notAvailableImage='/commercial/root/img/icon/NoImageAvailable_R.png';}else{notAvailableImage='/commercial/root/img/icon/NoImageAvailable_C.png';}
imageData[0]={'thumbImage':notAvailableImage,'mainImage':notAvailableImage,'largeImage':notAvailableImage};$scope.imageData=imageData;$scope.altTagText="No Photo Available";}}
if(!lat||!lang||modelProperty.is_due_diligence){$scope.showMapIcons=false;}
var bannerSet=[];bannerSet=pdpPropertySvc.parsePdpBannerInfo();if(bannerSet.length>0&&(bannerSet[0]!==false||bannerSet[1]!==false)){if(bannerSet[0]!==false){$scope.primaryBannerText=bannerSet[0][0];$scope.primaryBannerColor=bannerSet[0][1];}
if(bannerSet.length>1&&bannerSet[1]!==false){$scope.secondaryBannerText=bannerSet[1][0];$scope.secondaryBannerColor=bannerSet[1][1];}}
$scope.checkArrows();$scope.lightboxArrows();};$scope.showLightbox=function(){$scope.displayLightbox=true;$scope.lightboxIndex=$scope.currentIndex;$scope.leftLightboxIndex=-910*$scope.lightboxIndex;$scope.lightboxPosition=$scope.leftLightboxIndex;$scope.lightboxArrows();angular.element('.property-lightbox').focus();};$scope.hideLightbox=function(){$scope.displayLightbox=false;angular.element('.property-lightbox').blur();};$scope.checkArrows=function(){if($scope.imageData.length>1){$scope.showLeftArrow=($scope.currentIndex>0);$scope.showRightArrow=true;}};$scope.defaultMapStreetState=function(){$scope.mapSelected=false;$scope.streetSelected=false;$scope.videoSelected=false;};$scope.nextItem=function(){$scope.imagesClickCount++;if($scope.currentIndex<($scope.imageData.length-1)){$scope.imageData[$scope.currentIndex].selected=false;$scope.currentIndex++;$scope.leftIndex=-670*$scope.currentIndex;$scope.leftPosition={left:($scope.leftIndex)+"px"};$scope.makeSliderImageVisible($scope.currentIndex);$scope.imageData[$scope.currentIndex].selected=true;}else if(modelProperty.video_id){setView('videoSelected')}else{$scope.imageData[$scope.currentIndex].selected=false;$scope.currentIndex=0;$scope.leftIndex=-670*$scope.currentIndex;$scope.leftPosition={left:($scope.leftIndex)+"px"};$scope.makeSliderImageVisible($scope.currentIndex);$scope.imageData[$scope.currentIndex].selected=true;}
$scope.checkArrows();};$scope.prevItem=function(){if($scope.currentIndex!==0){$scope.imageData[$scope.currentIndex].selected=false;$scope.currentIndex--;$scope.leftIndex=-670*$scope.currentIndex;$scope.makeSliderImageVisible($scope.currentIndex);$scope.imageData[$scope.currentIndex].selected=true;$scope.checkArrows();$scope.imagesClickCount++;}};$scope.lightboxArrows=function(){if($scope.imageData.length>1){$scope.lightboxLeftArrow=($scope.lightboxIndex>0);$scope.lightboxRightArrow=true}};$scope.lightboxNext=function(){$scope.imageData[$scope.lightboxIndex].selected=false;$scope.imagesClickCount++;if($scope.lightboxIndex<($scope.imageData.length-1)){$scope.lightboxIndex++;}else{$scope.lightboxIndex=0;}
$scope.leftLightboxIndex=-910*$scope.lightboxIndex;$scope.lightboxPosition=$scope.leftLightboxIndex;$scope.lightboxArrows();angular.element('.property-lightbox').focus();};$scope.lightboxPrev=function(){if($scope.lightboxIndex!==0){$scope.lightboxIndex--;$scope.lightboxPosition=-910*$scope.lightboxIndex;$scope.lightboxArrows();angular.element('.property-lightbox').focus();$scope.imagesClickCount++;}};function pauseVideo(){if($scope.imageSection.currentVideo){$scope.imageSection.currentVideo.pause();}}
$scope.sliderClick=function(index){$scope.imageData[$scope.currentIndex].selected=false;$scope.currentIndex=index;$scope.imageData[$scope.currentIndex].selected=true;$scope.leftIndex=-670*$scope.currentIndex;$scope.makeSliderImageVisible($scope.currentIndex);$scope.imageSection.pictureView=true;$scope.imageSection.mapView=false;$scope.imageSection.streetView=false;$scope.imageSection.videoView=false;$scope.checkArrows();$scope.defaultMapStreetState();pauseVideo();$scope.imagesClickCount++;};$scope.makeSliderImageVisible=function(index){var slideLeftImgIndexIncrementor=$scope.videoId?2:3;if((110*$scope.imageData.length)<440){ return;}
if(index===0&&$scope.sliderLeftIndex!==0){$scope.sliderLeftIndex=0;$scope.sliderLeftImgIndex=0;}
else if($scope.sliderLeftImgIndex>=index&&index!==0){$scope.sliderLeftIndex=$scope.sliderLeftIndex+110;$scope.sliderLeftImgIndex=index-1;}
else if($scope.sliderLeftImgIndex+slideLeftImgIndexIncrementor<=index){$scope.sliderLeftIndex=$scope.sliderLeftIndex-110;$scope.sliderLeftImgIndex++;}};$scope.unselectImage=function(){if($scope.currentIndex>-1)
$scope.imageData[$scope.currentIndex].selected=false;};function setView(view,callback){var views=['pictureSelected','mapSelected','streetSelected','videoSelected']; var imageSectionViews=['pictureView','mapView','streetView','videoView']
for(var index in views){$scope[views[index]]=view===views[index];$scope.imageSection[imageSectionViews[index]]=view===views[index]}
if(view==='videoSelected'){initializeVideo(youtubeSvc,$scope,modelProperty.video_id,function(){if(callback){callback()}})}else{$scope.imageSection.currentVideo.pause()}
$scope.unselectImage();pauseVideo();}
$scope.mapViewClicked=function(){setView('mapSelected');};$scope.streetViewClicked=function(){setView('streetSelected');};$scope.videoViewClicked=function(){setView('videoSelected',function(){ setTimeout(function(){if($scope.imageSection.currentVideo){$scope.imageSection.currentVideo.play();}},1)});}
$scope.slideImage=function(e){if(e.keyCode===39){$scope.lightboxNext();}
if(e.keyCode===37){$scope.lightboxPrev();}
if(e.keyCode===27){$scope.hideLightbox();}};window.onbeforeunload=function(){if($scope.imagesClickCount&&$scope.imageData.length>0){ADC.analytics.property.track_userclicks($scope.imagesClickCount,$scope.imageData.length);}};$scope.init();});propertyDetailModule.directive("propertymap",function(mapSvc,modelProperty){return{restrict:"EA",scope:{imageSection:'=imageSection'},link:function(scope,element,attrs){element.bind('click',function(){var lat=modelProperty.latitude,lang=modelProperty.longitude;var mapError=false;if(lat!==""||lang!==""||!modelProperty.is_due_diligence){var latlng=new google.maps.LatLng(lat,lang);if(!isNaN(latlng.lat())&&!isNaN(latlng.lng())){mapSvc.googleMap(latlng);}
scope.$apply(function(){scope.imageSection.mapView=true;scope.imageSection.pictureView=false;scope.imageSection.streetView=false;scope.imageSection.videoView=false;});}});}};});propertyDetailModule.directive("propertystreetview",function(mapSvc,modelProperty){return{restrict:"EA",scope:{imageSection:'=imageSection'},link:function(scope,element,attrs){element.bind('click',function(){var lat=modelProperty.latitude,lang=modelProperty.longitude;var mapError=false;if(lat!==""||lang!==""||!modelProperty.is_due_diligence){var latlng=new google.maps.LatLng(lat,lang);if(!isNaN(latlng.lat())&&!isNaN(latlng.lng())){mapSvc.googleStreetMapView(latlng);}
scope.$apply(function(){scope.imageSection.mapView=false;scope.imageSection.pictureView=false;scope.imageSection.streetView=true;scope.imageSection.videoView=false;});}});}};});})()
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function c(c,d){var f,g,h,e=this;if(e.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(c),appendDots:a(c),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,b){return'<button type="button" data-role="none">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0},e.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},a.extend(e,e.initials),e.activeBreakpoint=null,e.animType=null,e.animProp=null,e.breakpoints=[],e.breakpointSettings=[],e.cssTransitions=!1,e.hidden="hidden",e.paused=!1,e.positionProp=null,e.respondTo=null,e.rowCount=1,e.shouldClick=!0,e.$slider=a(c),e.$slidesCache=null,e.transformType=null,e.transitionType=null,e.visibilityChange="visibilitychange",e.windowWidth=0,e.windowTimer=null,f=a(c).data("slick")||{},e.options=a.extend({},e.defaults,f,d),e.currentSlide=e.options.initialSlide,e.originalSettings=e.options,g=e.options.responsive||null,g&&g.length>-1){e.respondTo=e.options.respondTo||"window";for(h in g)g.hasOwnProperty(h)&&(e.breakpoints.push(g[h].breakpoint),e.breakpointSettings[g[h].breakpoint]=g[h].settings);e.breakpoints.sort(function(a,b){return e.options.mobileFirst===!0?a-b:b-a})}"undefined"!=typeof document.mozHidden?(e.hidden="mozHidden",e.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(e.hidden="msHidden",e.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e.hidden="webkitHidden",e.visibilityChange="webkitvisibilitychange"),e.autoPlay=a.proxy(e.autoPlay,e),e.autoPlayClear=a.proxy(e.autoPlayClear,e),e.changeSlide=a.proxy(e.changeSlide,e),e.clickHandler=a.proxy(e.clickHandler,e),e.selectHandler=a.proxy(e.selectHandler,e),e.setPosition=a.proxy(e.setPosition,e),e.swipeHandler=a.proxy(e.swipeHandler,e),e.dragHandler=a.proxy(e.dragHandler,e),e.keyHandler=a.proxy(e.keyHandler,e),e.autoPlayIterator=a.proxy(e.autoPlayIterator,e),e.instanceUid=b++,e.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,e.init(),e.checkResponsive(!0)}var b=0;return c}(),b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(0>c||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):d===!0?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),e.options.rtl===!0&&e.options.vertical===!1&&(b=-b),e.transformsEnabled===!1?e.options.vertical===!1?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):e.cssTransitions===!1?(e.options.rtl===!0&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),e.options.vertical===!1?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),d[e.animType]=e.options.vertical===!1?"translate3d("+b+"px, 0px, 0px)":"translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.asNavFor=function(b){var c=this,d=null!==c.options.asNavFor?a(c.options.asNavFor).slick("getSlick"):null;null!==d&&d.slideHandler(b,!0)},b.prototype.applyTransition=function(a){var b=this,c={};c[b.transitionType]=b.options.fade===!1?b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:"opacity "+b.options.speed+"ms "+b.options.cssEase,b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer),a.slideCount>a.options.slidesToShow&&a.paused!==!0&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this;a.options.infinite===!1?1===a.direction?(a.currentSlide+1===a.slideCount-1&&(a.direction=0),a.slideHandler(a.currentSlide+a.options.slidesToScroll)):(0===a.currentSlide-1&&(a.direction=1),a.slideHandler(a.currentSlide-a.options.slidesToScroll)):a.slideHandler(a.currentSlide+a.options.slidesToScroll)},b.prototype.buildArrows=function(){var b=this;b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow=a(b.options.prevArrow),b.$nextArrow=a(b.options.nextArrow),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.appendTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),b.options.infinite!==!0&&b.$prevArrow.addClass("slick-disabled"))},b.prototype.buildDots=function(){var c,d,b=this;if(b.options.dots===!0&&b.slideCount>b.options.slidesToShow){for(d='<ul class="'+b.options.dotsClass+'">',c=0;c<=b.getDotCount();c+=1)d+="<li>"+b.options.customPaging.call(this,b,c)+"</li>";d+="</ul>",b.$dots=a(d).appendTo(b.options.appendDots),b.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),b.$slidesCache=b.$slides,b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),(b.options.centerMode===!0||b.options.swipeToSlide===!0)&&(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.options.accessibility===!0&&b.$list.prop("tabIndex",0),b.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),b.options.draggable===!0&&b.$list.addClass("draggable")},b.prototype.buildRows=function(){var b,c,d,e,f,g,h,a=this;if(e=document.createDocumentFragment(),g=a.$slider.children(),a.options.rows>1){for(h=a.options.slidesPerRow*a.options.rows,f=Math.ceil(g.length/h),b=0;f>b;b++){var i=document.createElement("div");for(c=0;c<a.options.rows;c++){var j=document.createElement("div");for(d=0;d<a.options.slidesPerRow;d++){var k=b*h+(c*a.options.slidesPerRow+d);g.get(k)&&j.appendChild(g.get(k))}i.appendChild(j)}e.appendChild(i)}a.$slider.html(e),a.$slider.children().children().children().width(100/a.options.slidesPerRow+"%").css({display:"inline-block"})}},b.prototype.checkResponsive=function(b){var d,e,f,c=this,g=c.$slider.width(),h=window.innerWidth||a(window).width();if("window"===c.respondTo?f=h:"slider"===c.respondTo?f=g:"min"===c.respondTo&&(f=Math.min(h,g)),c.originalSettings.responsive&&c.originalSettings.responsive.length>-1&&null!==c.originalSettings.responsive){e=null;for(d in c.breakpoints)c.breakpoints.hasOwnProperty(d)&&(c.originalSettings.mobileFirst===!1?f<c.breakpoints[d]&&(e=c.breakpoints[d]):f>c.breakpoints[d]&&(e=c.breakpoints[d]));null!==e?null!==c.activeBreakpoint?e!==c.activeBreakpoint&&(c.activeBreakpoint=e,"unslick"===c.breakpointSettings[e]?c.unslick():(c.options=a.extend({},c.originalSettings,c.breakpointSettings[e]),b===!0&&(c.currentSlide=c.options.initialSlide),c.refresh())):(c.activeBreakpoint=e,"unslick"===c.breakpointSettings[e]?c.unslick():(c.options=a.extend({},c.originalSettings,c.breakpointSettings[e]),b===!0&&(c.currentSlide=c.options.initialSlide),c.refresh())):null!==c.activeBreakpoint&&(c.activeBreakpoint=null,c.options=c.originalSettings,b===!0&&(c.currentSlide=c.options.initialSlide),c.refresh())}},b.prototype.changeSlide=function(b,c){var f,g,h,d=this,e=a(b.target);switch(e.is("a")&&b.preventDefault(),h=0!==d.slideCount%d.options.slidesToScroll,f=h?0:(d.slideCount-d.currentSlide)%d.options.slidesToScroll,b.data.message){case"previous":g=0===f?d.options.slidesToScroll:d.options.slidesToShow-f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide-g,!1,c);break;case"next":g=0===f?d.options.slidesToScroll:f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide+g,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||a(b.target).parent().index()*d.options.slidesToScroll;d.slideHandler(d.checkNavigable(i),!1,c);break;default:return}},b.prototype.checkNavigable=function(a){var c,d,b=this;if(c=b.getNavigableIndexes(),d=0,a>c[c.length-1])a=c[c.length-1];else for(var e in c){if(a<c[e]){a=d;break}d=c[e]}return a},b.prototype.cleanUpEvents=function(){var b=this;b.options.dots===!0&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).off("click.slick",b.changeSlide),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).off("mouseenter.slick",b.setPaused.bind(b,!0)).off("mouseleave.slick",b.setPaused.bind(b,!1)),b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow&&b.$prevArrow.off("click.slick",b.changeSlide),b.$nextArrow&&b.$nextArrow.off("click.slick",b.changeSlide)),b.$list.off("touchstart.slick mousedown.slick",b.swipeHandler),b.$list.off("touchmove.slick mousemove.slick",b.swipeHandler),b.$list.off("touchend.slick mouseup.slick",b.swipeHandler),b.$list.off("touchcancel.slick mouseleave.slick",b.swipeHandler),b.$list.off("click.slick",b.clickHandler),b.options.autoplay===!0&&a(document).off(b.visibilityChange,b.visibility),b.$list.off("mouseenter.slick",b.setPaused.bind(b,!0)),b.$list.off("mouseleave.slick",b.setPaused.bind(b,!1)),b.options.accessibility===!0&&b.$list.off("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().off("click.slick",b.selectHandler),a(window).off("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange),a(window).off("resize.slick.slick-"+b.instanceUid,b.resize),a("[draggable!=true]",b.$slideTrack).off("dragstart",b.preventDefault),a(window).off("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).off("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.cleanUpRows=function(){var b,a=this;a.options.rows>1&&(b=a.$slides.children().children(),b.removeAttr("style"),a.$slider.html(b))},b.prototype.clickHandler=function(a){var b=this;b.shouldClick===!1&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(){var b=this;b.autoPlayClear(),b.touchObject={},b.cleanUpEvents(),a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&"object"!=typeof b.options.prevArrow&&b.$prevArrow.remove(),b.$nextArrow&&"object"!=typeof b.options.nextArrow&&b.$nextArrow.remove(),b.$slides&&(b.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden","true").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),b.$slider.html(b.$slides)),b.cleanUpRows(),b.$slider.removeClass("slick-slider"),b.$slider.removeClass("slick-initialized")},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;c.cssTransitions===!1?(c.$slides.eq(a).css({zIndex:1e3}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:1e3}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){var a=this;return a.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(a.options.infinite===!0)d=Math.ceil(a.slideCount/a.options.slidesToScroll);else if(a.options.centerMode===!0)d=a.slideCount;else for(;b<a.slideCount;)++d,b=c+a.options.slidesToShow,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d-1},b.prototype.getLeft=function(a){var c,d,f,b=this,e=0;return b.slideOffset=0,d=b.$slides.first().outerHeight(),b.options.infinite===!0?(b.slideCount>b.options.slidesToShow&&(b.slideOffset=-1*b.slideWidth*b.options.slidesToShow,e=-1*d*b.options.slidesToShow),0!==b.slideCount%b.options.slidesToScroll&&a+b.options.slidesToScroll>b.slideCount&&b.slideCount>b.options.slidesToShow&&(a>b.slideCount?(b.slideOffset=-1*(b.options.slidesToShow-(a-b.slideCount))*b.slideWidth,e=-1*(b.options.slidesToShow-(a-b.slideCount))*d):(b.slideOffset=-1*b.slideCount%b.options.slidesToScroll*b.slideWidth,e=-1*b.slideCount%b.options.slidesToScroll*d))):a+b.options.slidesToShow>b.slideCount&&(b.slideOffset=(a+b.options.slidesToShow-b.slideCount)*b.slideWidth,e=(a+b.options.slidesToShow-b.slideCount)*d),b.slideCount<=b.options.slidesToShow&&(b.slideOffset=0,e=0),b.options.centerMode===!0&&b.options.infinite===!0?b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)-b.slideWidth:b.options.centerMode===!0&&(b.slideOffset=0,b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)),c=b.options.vertical===!1?-1*a*b.slideWidth+b.slideOffset:-1*a*d+e,b.options.variableWidth===!0&&(f=b.slideCount<=b.options.slidesToShow||b.options.infinite===!1?b.$slideTrack.children(".slick-slide").eq(a):b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow),c=f[0]?-1*f[0].offsetLeft:0,b.options.centerMode===!0&&(f=b.options.infinite===!1?b.$slideTrack.children(".slick-slide").eq(a):b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow+1),c=f[0]?-1*f[0].offsetLeft:0,c+=(b.$list.width()-f.outerWidth())/2)),c},b.prototype.getOption=b.prototype.slickGetOption=function(a){var b=this;return b.options[a]},b.prototype.getNavigableIndexes=function(){var e,a=this,b=0,c=0,d=[];for(a.options.infinite===!1?(e=a.slideCount-a.options.slidesToShow+1,a.options.centerMode===!0&&(e=a.slideCount)):(b=-1*a.options.slidesToScroll,c=-1*a.options.slidesToScroll,e=2*a.slideCount);e>b;)d.push(b),b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var c,d,e,b=this;return e=b.options.centerMode===!0?b.slideWidth*Math.floor(b.options.slidesToShow/2):0,b.options.swipeToSlide===!0?(b.$slideTrack.find(".slick-slide").each(function(c,f){return f.offsetLeft-e+a(f).outerWidth()/2>-1*b.swipeLeft?(d=f,!1):void 0}),c=Math.abs(a(d).attr("data-slick-index")-b.currentSlide)||1):b.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){var c=this;c.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(){var b=this;a(b.$slider).hasClass("slick-initialized")||(a(b.$slider).addClass("slick-initialized"),b.buildRows(),b.buildOut(),b.setProps(),b.startLoad(),b.loadSlider(),b.initializeEvents(),b.updateArrows(),b.updateDots()),b.$slider.trigger("init",[b])},b.prototype.initArrowEvents=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;b.options.dots===!0&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).on("mouseenter.slick",b.setPaused.bind(b,!0)).on("mouseleave.slick",b.setPaused.bind(b,!1))},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),b.options.autoplay===!0&&a(document).on(b.visibilityChange,b.visibility.bind(b)),b.$list.on("mouseenter.slick",b.setPaused.bind(b,!0)),b.$list.on("mouseleave.slick",b.setPaused.bind(b,!1)),b.options.accessibility===!0&&b.$list.on("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange.bind(b)),a(window).on("resize.slick.slick-"+b.instanceUid,b.resize.bind(b)),a("[draggable!=true]",b.$slideTrack).on("dragstart",b.preventDefault),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.show(),a.options.autoplay===!0&&a.autoPlay()},b.prototype.keyHandler=function(a){var b=this;37===a.keyCode&&b.options.accessibility===!0?b.changeSlide({data:{message:"previous"}}):39===a.keyCode&&b.options.accessibility===!0&&b.changeSlide({data:{message:"next"}})},b.prototype.lazyLoad=function(){function g(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy"),d=document.createElement("img");d.onload=function(){b.animate({opacity:1},200)},d.src=c,b.css({opacity:0}).attr("src",c).removeAttr("data-lazy").removeClass("slick-loading")})}var c,d,e,f,b=this;b.options.centerMode===!0?b.options.infinite===!0?(e=b.currentSlide+(b.options.slidesToShow/2+1),f=e+b.options.slidesToShow+2):(e=Math.max(0,b.currentSlide-(b.options.slidesToShow/2+1)),f=2+(b.options.slidesToShow/2+1)+b.currentSlide):(e=b.options.infinite?b.options.slidesToShow+b.currentSlide:b.currentSlide,f=e+b.options.slidesToShow,b.options.fade===!0&&(e>0&&e--,f<=b.slideCount&&f++)),c=b.$slider.find(".slick-slide").slice(e,f),g(c),b.slideCount<=b.options.slidesToShow?(d=b.$slider.find(".slick-slide"),g(d)):b.currentSlide>=b.slideCount-b.options.slidesToShow?(d=b.$slider.find(".slick-cloned").slice(0,b.options.slidesToShow),g(d)):0===b.currentSlide&&(d=b.$slider.find(".slick-cloned").slice(-1*b.options.slidesToShow),g(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){var a=this;a.changeSlide({data:{message:"next"}})},b.prototype.orientationChange=function(){var a=this;a.checkResponsive(),a.setPosition()},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.paused=!1,a.autoPlay()},b.prototype.postSlide=function(a){var b=this;b.$slider.trigger("afterChange",[b,a]),b.animating=!1,b.setPosition(),b.swipeLeft=null,b.options.autoplay===!0&&b.paused===!1&&b.autoPlay()},b.prototype.prev=b.prototype.slickPrev=function(){var a=this;a.changeSlide({data:{message:"previous"}})},b.prototype.preventDefault=function(a){a.preventDefault()},b.prototype.progressiveLazyLoad=function(){var c,d,b=this;c=a("img[data-lazy]",b.$slider).length,c>0&&(d=a("img[data-lazy]",b.$slider).first(),d.attr("src",d.attr("data-lazy")).removeClass("slick-loading").load(function(){d.removeAttr("data-lazy"),b.progressiveLazyLoad(),b.options.adaptiveHeight===!0&&b.setPosition()}).error(function(){d.removeAttr("data-lazy"),b.progressiveLazyLoad()}))},b.prototype.refresh=function(){var b=this,c=b.currentSlide;b.destroy(),a.extend(b,b.initials),b.init(),b.changeSlide({data:{message:"index",index:c}},!1)},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses(0),b.setPosition(),b.$slider.trigger("reInit",[b])},b.prototype.resize=function(){var b=this;a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.setPosition()},50))},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;return"boolean"==typeof a?(b=a,a=b===!0?0:d.slideCount-1):a=b===!0?--a:a,d.slideCount<1||0>a||a>d.slideCount-1?!1:(d.unload(),c===!0?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,d.reinit(),void 0)},b.prototype.setCSS=function(a){var d,e,b=this,c={};b.options.rtl===!0&&(a=-a),d="left"==b.positionProp?Math.ceil(a)+"px":"0px",e="top"==b.positionProp?Math.ceil(a)+"px":"0px",c[b.positionProp]=a,b.transformsEnabled===!1?b.$slideTrack.css(c):(c={},b.cssTransitions===!1?(c[b.animType]="translate("+d+", "+e+")",b.$slideTrack.css(c)):(c[b.animType]="translate3d("+d+", "+e+", 0px)",b.$slideTrack.css(c)))},b.prototype.setDimensions=function(){var a=this;a.options.vertical===!1?a.options.centerMode===!0&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),a.options.centerMode===!0&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),a.options.vertical===!1&&a.options.variableWidth===!1?(a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length))):a.options.variableWidth===!0?a.$slideTrack.width(5e3*a.slideCount):(a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length)));var b=a.$slides.first().outerWidth(!0)-a.$slides.first().width();a.options.variableWidth===!1&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-b)},b.prototype.setFade=function(){var c,b=this;b.$slides.each(function(d,e){c=-1*b.slideWidth*d,b.options.rtl===!0?a(e).css({position:"relative",right:c,top:0,zIndex:800,opacity:0}):a(e).css({position:"relative",left:c,top:0,zIndex:800,opacity:0})}),b.$slides.eq(b.currentSlide).css({zIndex:900,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(a,b,c){var d=this;d.options[a]=b,c===!0&&(d.unload(),d.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),a.options.fade===!1?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=a.options.vertical===!0?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),(void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.msTransition)&&a.options.useCSS===!0&&(a.cssTransitions=!0),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&a.animType!==!1&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=null!==a.animType&&a.animType!==!1},b.prototype.setSlideClasses=function(a){var c,d,e,f,b=this;b.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),d=b.$slider.find(".slick-slide"),b.options.centerMode===!0?(c=Math.floor(b.options.slidesToShow/2),b.options.infinite===!0&&(a>=c&&a<=b.slideCount-1-c?b.$slides.slice(a-c,a+c+1).addClass("slick-active").attr("aria-hidden","false"):(e=b.options.slidesToShow+a,d.slice(e-c+1,e+c+2).addClass("slick-active").attr("aria-hidden","false")),0===a?d.eq(d.length-1-b.options.slidesToShow).addClass("slick-center"):a===b.slideCount-1&&d.eq(b.options.slidesToShow).addClass("slick-center")),b.$slides.eq(a).addClass("slick-center")):a>=0&&a<=b.slideCount-b.options.slidesToShow?b.$slides.slice(a,a+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):d.length<=b.options.slidesToShow?d.addClass("slick-active").attr("aria-hidden","false"):(f=b.slideCount%b.options.slidesToShow,e=b.options.infinite===!0?b.options.slidesToShow+a:a,b.options.slidesToShow==b.options.slidesToScroll&&b.slideCount-a<b.options.slidesToShow?d.slice(e-(b.options.slidesToShow-f),e+f).addClass("slick-active").attr("aria-hidden","false"):d.slice(e,e+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===b.options.lazyLoad&&b.lazyLoad()},b.prototype.setupInfinite=function(){var c,d,e,b=this;if(b.options.fade===!0&&(b.options.centerMode=!1),b.options.infinite===!0&&b.options.fade===!1&&(d=null,b.slideCount>b.options.slidesToShow)){for(e=b.options.centerMode===!0?b.options.slidesToShow+1:b.options.slidesToShow,c=b.slideCount;c>b.slideCount-e;c-=1)d=c-1,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d-b.slideCount).prependTo(b.$slideTrack).addClass("slick-cloned");for(c=0;e>c;c+=1)d=c,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d+b.slideCount).appendTo(b.$slideTrack).addClass("slick-cloned");b.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.setPaused=function(a){var b=this;b.options.autoplay===!0&&b.options.pauseOnHover===!0&&(b.paused=a,b.autoPlayClear())},b.prototype.selectHandler=function(b){var c=this,d=a(b.target).is(".slick-slide")?a(b.target):a(b.target).parents(".slick-slide"),e=parseInt(d.attr("data-slick-index"));return e||(e=0),c.slideCount<=c.options.slidesToShow?(c.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),c.$slides.eq(e).addClass("slick-active").attr("aria-hidden","false"),c.options.centerMode===!0&&(c.$slider.find(".slick-slide").removeClass("slick-center"),c.$slides.eq(e).addClass("slick-center")),c.asNavFor(e),void 0):(c.slideHandler(e),void 0)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h=null,i=this;return b=b||!1,i.animating===!0&&i.options.waitForAnimate===!0||i.options.fade===!0&&i.currentSlide===a||i.slideCount<=i.options.slidesToShow?void 0:(b===!1&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=null===i.swipeLeft?g:i.swipeLeft,i.options.infinite===!1&&i.options.centerMode===!1&&(0>a||a>i.getDotCount()*i.options.slidesToScroll)?(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d)),void 0):i.options.infinite===!1&&i.options.centerMode===!0&&(0>a||a>i.slideCount-i.options.slidesToScroll)?(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d)),void 0):(i.options.autoplay===!0&&clearInterval(i.autoPlayTimer),e=0>d?0!==i.slideCount%i.options.slidesToScroll?i.slideCount-i.slideCount%i.options.slidesToScroll:i.slideCount+d:d>=i.slideCount?0!==i.slideCount%i.options.slidesToScroll?0:d-i.slideCount:d,i.animating=!0,i.$slider.trigger("beforeChange",[i,i.currentSlide,e]),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.updateDots(),i.updateArrows(),i.options.fade===!0?(c!==!0?i.fadeSlide(e,function(){i.postSlide(e)}):i.postSlide(e),i.animateHeight(),void 0):(c!==!0?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e),void 0)))},b.prototype.startLoad=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),0>d&&(d=360-Math.abs(d)),45>=d&&d>=0?e.options.rtl===!1?"left":"right":360>=d&&d>=315?e.options.rtl===!1?"left":"right":d>=135&&225>=d?e.options.rtl===!1?"right":"left":e.options.verticalSwiping===!0?d>=35&&135>=d?"left":"right":"vertical"},b.prototype.swipeEnd=function(){var c,b=this;if(b.dragging=!1,b.shouldClick=b.touchObject.swipeLength>10?!1:!0,void 0===b.touchObject.curX)return!1;if(b.touchObject.edgeHit===!0&&b.$slider.trigger("edge",[b,b.swipeDirection()]),b.touchObject.swipeLength>=b.touchObject.minSwipe)switch(b.swipeDirection()){case"left":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide+b.getSlideCount()):b.currentSlide+b.getSlideCount(),b.slideHandler(c),b.currentDirection=0,b.touchObject={},b.$slider.trigger("swipe",[b,"left"]);break;case"right":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide-b.getSlideCount()):b.currentSlide-b.getSlideCount(),b.slideHandler(c),b.currentDirection=1,b.touchObject={},b.$slider.trigger("swipe",[b,"right"])}else b.touchObject.startX!==b.touchObject.curX&&(b.slideHandler(b.currentSlide),b.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(b.options.swipe===!1||"ontouchend"in document&&b.options.swipe===!1||b.options.draggable===!1&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,b.options.verticalSwiping===!0&&(b.touchObject.minSwipe=b.listHeight/b.options.touchThreshold),a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var d,e,f,g,h,b=this;return h=void 0!==a.originalEvent?a.originalEvent.touches:null,!b.dragging||h&&1!==h.length?!1:(d=b.getLeft(b.currentSlide),b.touchObject.curX=void 0!==h?h[0].pageX:a.clientX,b.touchObject.curY=void 0!==h?h[0].pageY:a.clientY,b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curX-b.touchObject.startX,2))),b.options.verticalSwiping===!0&&(b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curY-b.touchObject.startY,2)))),e=b.swipeDirection(),"vertical"!==e?(void 0!==a.originalEvent&&b.touchObject.swipeLength>4&&a.preventDefault(),g=(b.options.rtl===!1?1:-1)*(b.touchObject.curX>b.touchObject.startX?1:-1),b.options.verticalSwiping===!0&&(g=b.touchObject.curY>b.touchObject.startY?1:-1),f=b.touchObject.swipeLength,b.touchObject.edgeHit=!1,b.options.infinite===!1&&(0===b.currentSlide&&"right"===e||b.currentSlide>=b.getDotCount()&&"left"===e)&&(f=b.touchObject.swipeLength*b.options.edgeFriction,b.touchObject.edgeHit=!0),b.swipeLeft=b.options.vertical===!1?d+f*g:d+f*(b.$list.height()/b.listWidth)*g,b.options.verticalSwiping===!0&&(b.swipeLeft=d+f*g),b.options.fade===!0||b.options.touchMove===!1?!1:b.animating===!0?(b.swipeLeft=null,!1):(b.setCSS(b.swipeLeft),void 0)):void 0)},b.prototype.swipeStart=function(a){var c,b=this;return 1!==b.touchObject.fingerCount||b.slideCount<=b.options.slidesToShow?(b.touchObject={},!1):(void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(c=a.originalEvent.touches[0]),b.touchObject.startX=b.touchObject.curX=void 0!==c?c.pageX:a.clientX,b.touchObject.startY=b.touchObject.curY=void 0!==c?c.pageY:a.clientY,b.dragging=!0,void 0)},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&"object"!=typeof b.options.prevArrow&&b.$prevArrow.remove(),b.$nextArrow&&"object"!=typeof b.options.nextArrow&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width","")},b.prototype.unslick=function(){var a=this;a.destroy()},b.prototype.updateArrows=function(){var b,a=this;b=Math.floor(a.options.slidesToShow/2),a.options.arrows===!0&&a.options.infinite!==!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.removeClass("slick-disabled"),a.$nextArrow.removeClass("slick-disabled"),0===a.currentSlide?(a.$prevArrow.addClass("slick-disabled"),a.$nextArrow.removeClass("slick-disabled")):a.currentSlide>=a.slideCount-a.options.slidesToShow&&a.options.centerMode===!1?(a.$nextArrow.addClass("slick-disabled"),a.$prevArrow.removeClass("slick-disabled")):a.currentSlide>=a.slideCount-1&&a.options.centerMode===!0&&(a.$nextArrow.addClass("slick-disabled"),a.$prevArrow.removeClass("slick-disabled")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},b.prototype.visibility=function(){var a=this;document[a.hidden]?(a.paused=!0,a.autoPlayClear()):(a.paused=!1,a.autoPlay())},a.fn.slick=function(){var g,a=this,c=arguments[0],d=Array.prototype.slice.call(arguments,1),e=a.length,f=0;for(f;e>f;f++)if("object"==typeof c||"undefined"==typeof c?a[f].slick=new b(a[f],c):g=a[f].slick[c].apply(a[f].slick,d),"undefined"!=typeof g)return g;return a}});$(function(){var update_mobile=$(".mobileDeviceOnly").css("display")==="block"?true:false;if(update_mobile){var CanOrient="onorientationchange"in window,DeviceOrient=CanOrient?"orientationchange":"resize";var carousel_images_class='mobile_pdp_image';var $carousel_container=$('.mobile_pdp_gallery');var $carousel_counter=$('.mobile_pdp_slide_number'); var has_images=false;if(ADC.model.property.images.hasOwnProperty('documents')){has_images=true;}
$win=$(window);var total_mobile_pdp_slides=0;var portrait_height="260px"; window.addEventListener(DeviceOrient,function(){build_gallery();},false); var $carousel_slides=$('.mobile_pdp_slides');$carousel_slides.slick({infinite:true,speed:300,slidesToShow:1,arrows:false,adaptiveHeight:true,focusOnSelect:false,edgeFriction:.1,mobileFirst:true,touchMove:false,respondTo:'slider'});if(has_images){$.each(ADC.model.property.images.documents,function(index,imageprops){if(imageprops.should_display){var carousel_slide=document.createElement('div');var img=document.createElement('img');carousel_slide.appendChild(img);img.className=carousel_images_class;var continuous_height_adjustment_interval=setInterval(function(){$carousel_slides.slick('setHeight');},100);img.onload=function(){clearInterval(continuous_height_adjustment_interval);}
img.onerror=function(){clearInterval(continuous_height_adjustment_interval);}
img.src=imageprops.regular_url;$carousel_slides.slick('slickAdd',carousel_slide);total_mobile_pdp_slides++;}});}else{var no_image_asset='R';if(ADC.model.property.auction_type==='commercial'||ADC.model.property.auction_type==='notes'){no_image_asset='C';}
$('.mobile_pdp_slides').slick('slickAdd','<div><img src="/commercial/root/img/icon/NoImageAvailable_'+no_image_asset+'.png" class="mobile_pdp_image" alt="No image available" /></div>');} 
build_gallery(); if(has_images){$(".mobile_pdp_slide_number").html("1 of "+total_mobile_pdp_slides); $('.mobile_pdp_slides').on('afterChange',function(event,slick,currentSlide,nextSlide){mobile_pdp_slide_num=currentSlide+1;$(".mobile_pdp_slide_number").html(mobile_pdp_slide_num+" of "+total_mobile_pdp_slides);});}else{$(".mobile_pdp_slide_number").hide();}
var $base_address=$('.address-header');var $new_address=$('.mobile_pdp_address');$base_address.clone().prependTo($new_address);var $base_star=$('.star-button');var $new_star=$('.mobile_pdp_save_star'); $base_star.prependTo($new_star); $('.mobile_pdp_save_star .star-button .favorite').text('');var $base_biddata=$('.bidding-top');var $new_biddata=$('.mobile_pdp_biddata'); $base_biddata.prependTo($new_biddata);var has_hilight=false;var $base_highlight=$('.highlight-box');var $new_highlight=$('.mobile_pdp_highlight');if($.trim($('.highlight-box .property-type-header').text()).length){has_hilight=true;}
if($.trim($('.highlight-box .property-highlights').text()).length){has_hilight=true;}
$base_highlight.clone().prependTo($new_highlight);if(!has_hilight){$('.mobile_pdp_highlight_section').hide();}
var $base_badges=$('.badges');var $new_badges=$('.mobile_pdp_badges');$base_badges.clone().prependTo($new_badges);var $base_details=$('.pdpDetails');var $new_details=$('.mobile_pdp_details');var $base_mls_comment=$('.m-MLSComment');var $base_court=$('.courtAppraisal');var $new_comments=$('.mobile_pdp_comments');var $new_court=$('.mobile_pdp_courts');$base_details.prependTo($new_details);if($.trim($base_mls_comment.text()).length){$base_mls_comment.clone().prependTo($new_comments);}
if($.trim($base_court.text()).length){$base_court.parent().clone().prependTo($new_court);}
var has_contacts=false;var $base_contact=$('.contactInfo');var $new_contact=$('.mobile_pdp_contact');if($('.contactInfo .pdpCard').length){ has_contacts=true;}else{$('.mobile_pdp_contact_section').hide();}
if(has_contacts){$base_contact.prependTo($new_contact);}
var has_openhouse=false;var $base_openhouse=$('.openhouseInfo');var $new_openhouse=$('.mobile_pdp_openhouse');if($.trim($base_openhouse.text()).length){has_openhouse=true;}else{$('.mobile_pdp_openhouse_section').hide();}
if(has_openhouse){$base_openhouse.clone().prependTo($new_openhouse);}
var $base_description=$('.pdpDescription');var $new_description=$('.mobile_pdp_description');$base_description.clone().prependTo($new_description);var $base_description=$('.campDueDiligence .camp_disclosure_nda');var $new_description=$('.mobile_pdp_camp_nda');$base_description.prependTo($new_description);var $base_description=$('.campDueDiligence .camp_property');var $new_description=$('.mobile_pdp_camp_property');$base_description.clone().prependTo($new_description);var $base_description=$('.campDueDiligence .camp_market');var $new_description=$('.mobile_pdp_camp_market');$base_description.clone().prependTo($new_description);var $base_description=$('.campDueDiligence .camp_financial');var $new_description=$('.mobile_pdp_camp_financial');$base_description.clone().prependTo($new_description);var has_transaction=false;var $base_transactiondetail=$('.transactionDetail');var $new_transactiondetail=$('.mobile_pdp_transaction');$base_transactiondetail.clone().prependTo($new_transactiondetail);if($('.transactionDetail').length){has_transaction=true;}else{$('.mobile_pdp_transaction_section').hide();}
var can_show_mobile_docs=true;if($(".mobile_pdp_diligence_docs_not_available").length){can_show_mobile_docs=false;}
if(can_show_mobile_docs){var $base_nda=$('.mobile_disclosure_nda');var $new_nda=$('.mobile_pdp_nda');$base_nda.prependTo($new_nda);if($('.campDueDiligence .camp_documents_container').length){var $base_documents=$('.campDueDiligence .camp_documents_container');var $new_documents=$('.mobile_pdp_documents');$base_documents.prependTo($new_documents);$(".camp_document_driver").click(function(){$(".campDueDiligence").click();});}else{var $base_documents=$('.mobile_docs');var $new_documents=$('.mobile_pdp_documents');$base_documents.prependTo($new_documents);$(".displayNDA").click();}}
var has_disclaimer=false;var $base_disclaimer=$('.pdpDisclaimer');var $new_disclaimer=$('.mobile_pdp_disclaimer');$base_disclaimer.clone().prependTo($new_disclaimer);if($('.pdpDisclaimer').length){has_disclaimer=true;}else{$('.mobile_pdp_disclaimer_section').hide();} 
if(has_transaction){$('.mobile_pdp_description_section').addClass('drawerabove');} 
$('.mobile_pdp_contact .pdpCard a.agentContactPopup').each(function(index){$(this).addClass('button');}); $('.mobile_pdp_camp_property .camp_see_more_togs a, .mobile_pdp_camp_market .camp_see_more_togs a, .mobile_pdp_camp_financial .camp_see_more_togs a').each(function(index){$(this).addClass('button');$(this).click(function(){var pdp_camp_b=$(this).parent();var pdp_camp_b_sh=pdp_camp_b.parent().find(".campText");if(pdp_camp_b_sh.attr("campSeeMore")){pdp_camp_b_sh.find(".richText").html(pdp_camp_b_sh.attr("campSeeMore"));pdp_camp_b.hide();}
return false;});}); $('#real-auction-iframe').attr({scrolling:"yes"});
 $('.bidWrapper .bidAmount').on('touchstart',function(){$(this).attr('type','number');});$('.bidWrapper .bidAmount').on('keydown blur',function(){$(this).attr('type','text');}); if(ADC.model.property.auction_type==='commercial'||ADC.model.property.auction_type==='notes'){$('.m-EventDetails').hide();$('.mobile_pdp_openhouse_section').hide();}}
function build_gallery(){var view_height=$win.height();var view_width=$win.width();var ua=navigator.userAgent;if(/Chrome/i.test(ua)){view_height=screen.height;view_width=screen.width;}
if(DeviceOrient=="orientationchange"){if(typeof window.orientation!='undefined'){window.scrollTo(0,0);if(Math.abs(window.orientation)==90){ $("."+carousel_images_class).each(function(index){$(this).css({"height":view_height,"max-height":view_height,"margin":"auto"});});}else{$("."+carousel_images_class).each(function(index){$(this).css({"height":portrait_height,"max-height":portrait_height,"margin":"auto"});});}
window.scrollTo(0,1);}}else{if($win.height()<=$win.width()){ $("."+carousel_images_class).css({"height":$win.height(),"max-height":$win.height(),"margin":"auto"});}else{$("."+carousel_images_class).css({"height":portrait_height,"max-height":portrait_height,"margin":"auto"});}}
var gallery_offset=$carousel_container.offset().left;var offset_width=view_width-(gallery_offset*2);$carousel_container.css("width",offset_width);$carousel_counter.css("margin-right",gallery_offset);}
function replace_email_with_link(text)
{email_address=text.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);if(email_address){return email_address;}
return false;}});(function(){var videoIsReady=false;var currentVideo;var videoReadyCallbacks=[]
function onPlayerReady(callback){if(videoIsReady){callback(currentVideo);}else{videoReadyCallbacks.push(callback);}}
if(window.ADC.model.property.video_id&&typeof window.ADC.youtubeService==='function'){var videoId=ADC.model.property.video_id
var $videoWrapper=$('.mobile_video_wrapper');var playing=false;ADC.youtubeService({target:document.getElementById('mobile_video_canvas'),videoId:videoId,onReady:function(video){currentVideo=video;videoIsReady=true;videoReadyCallbacks.forEach(function(callback){callback(video);});},onPlay:function(){playing=true;},onPause:function(){playing=false;}});$('.mobile_show_pdp_video').show().on('click',function(){$videoWrapper.addClass('isOpen');onPlayerReady(function(video){video.play();})});$videoWrapper.on('click',function(){$videoWrapper.removeClass('isOpen');onPlayerReady(function(video){if(playing){video.pause();}});});}})();angular.module('fe-smart-app-banner').config(['FE_SMART_APP_BANNER_CONSTANTSProvider',function(constants){constants.config({appId:'1077442961',});}]);(function(window,angular,undefined){'use strict';var $resourceMinErr=angular.$$minErr('$resource');

var MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;function isValidDottedPath(path){return(path!=null&&path!==''&&path!=='hasOwnProperty'&&MEMBER_NAME_REGEX.test('.'+path));}
function lookupDottedPath(obj,path){if(!isValidDottedPath(path)){throw $resourceMinErr('badmember','Dotted member path "@{0}" is invalid.',path);}
var keys=path.split('.');for(var i=0,ii=keys.length;i<ii&&obj!==undefined;i++){var key=keys[i];obj=(obj!==null)?obj[key]:undefined;}
return obj;}
function shallowClearAndCopy(src,dst){dst=dst||{};angular.forEach(dst,function(value,key){delete dst[key];});for(var key in src){if(src.hasOwnProperty(key)&&!(key.charAt(0)==='$'&&key.charAt(1)==='$')){dst[key]=src[key];}}
return dst;}
angular.module('ngResource',['ng']).factory('$resource',['$http','$q',function($http,$q){var DEFAULT_ACTIONS={'get':{method:'GET'},'save':{method:'POST'},'query':{method:'GET',isArray:true},'remove':{method:'DELETE'},'delete':{method:'DELETE'}};var noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isFunction=angular.isFunction;function encodeUriSegment(val){return encodeUriQuery(val,true).replace(/%26/gi,'&').replace(/%3D/gi,'=').replace(/%2B/gi,'+');}
function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,'@').replace(/%3A/gi,':').replace(/%24/g,'$').replace(/%2C/gi,',').replace(/%20/g,(pctEncodeSpaces?'%20':'+'));}
function Route(template,defaults){this.template=template;this.defaults=defaults||{};this.urlParams={};}
Route.prototype={setUrlParams:function(config,params,actionUrl){var self=this,url=actionUrl||self.template,val,encodedVal;var urlParams=self.urlParams={};forEach(url.split(/\W/),function(param){if(param==='hasOwnProperty'){throw $resourceMinErr('badname',"hasOwnProperty is not a valid parameter name.");}
if(!(new RegExp("^\\d+$").test(param))&&param&&(new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url))){urlParams[param]=true;}});url=url.replace(/\\:/g,':');params=params||{};forEach(self.urlParams,function(_,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam];if(angular.isDefined(val)&&val!==null){encodedVal=encodeUriSegment(val);url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),function(match,p1){return encodedVal+p1;});}else{url=url.replace(new RegExp("(\/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){if(tail.charAt(0)=='/'){return tail;}else{return leadingSlashes+tail;}});}}); url=url.replace(/\/+$/,'')||'/';
url=url.replace(/\/\.(?=\w+($|\?))/,'.');config.url=url.replace(/\/\\\./,'/.'); forEach(params,function(value,key){if(!self.urlParams[key]){config.params=config.params||{};config.params[key]=value;}});}};function resourceFactory(url,paramDefaults,actions){var route=new Route(url);actions=extend({},DEFAULT_ACTIONS,actions);function extractParams(data,actionParams){var ids={};actionParams=extend({},paramDefaults,actionParams);forEach(actionParams,function(value,key){if(isFunction(value)){value=value();}
ids[key]=value&&value.charAt&&value.charAt(0)=='@'?lookupDottedPath(data,value.substr(1)):value;});return ids;}
function defaultResponseInterceptor(response){return response.resource;}
function Resource(value){shallowClearAndCopy(value||{},this);}
forEach(actions,function(action,name){var hasBody=/^(POST|PUT|PATCH)$/i.test(action.method);Resource[name]=function(a1,a2,a3,a4){var params={},data,success,error;switch(arguments.length){case 4:error=a4;success=a3; case 3:case 2:if(isFunction(a2)){if(isFunction(a1)){success=a1;error=a2;break;}
success=a2;error=a3;}else{params=a1;data=a2;success=a3;break;}
case 1:if(isFunction(a1))success=a1;else if(hasBody)data=a1;else params=a1;break;case 0:break;default:throw $resourceMinErr('badargs',"Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length);}
var isInstanceCall=this instanceof Resource;var value=isInstanceCall?data:(action.isArray?[]:new Resource(data));var httpConfig={};var responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor;var responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||undefined;forEach(action,function(value,key){if(key!='params'&&key!='isArray'&&key!='interceptor'){httpConfig[key]=copy(value);}});if(hasBody)httpConfig.data=data;route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$http(httpConfig).then(function(response){var data=response.data,promise=value.$promise;if(data){
 if(angular.isArray(data)!==(!!action.isArray)){throw $resourceMinErr('badcfg','Error in resource configuration. Expected '+'response to contain an {0} but got an {1}',action.isArray?'array':'object',angular.isArray(data)?'array':'object');} 
if(action.isArray){value.length=0;forEach(data,function(item){value.push(new Resource(item));});}else{shallowClearAndCopy(data,value);value.$promise=promise;}}
value.$resolved=true;response.resource=value;return response;},function(response){value.$resolved=true;(error||noop)(response);return $q.reject(response);});promise=promise.then(function(response){var value=responseInterceptor(response);(success||noop)(value,response.headers);return value;},responseErrorInterceptor);if(!isInstanceCall){

 value.$promise=promise;value.$resolved=false;return value;} 
return promise;};Resource.prototype['$'+name]=function(params,success,error){if(isFunction(params)){error=success;success=params;params={};}
var result=Resource[name].call(this,params,this,success,error);return result.$promise||result;};});Resource.bind=function(additionalParamDefaults){return resourceFactory(url,extend({},paramDefaults,additionalParamDefaults),actions);};return Resource;}
return resourceFactory;}]);})(window,window.angular);